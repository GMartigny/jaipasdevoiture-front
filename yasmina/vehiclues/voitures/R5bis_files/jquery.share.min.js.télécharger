!function(m,w){"use strict";if(m.oShare)return;m.oShare=new function(){var d=this,u={confId:null,className:"share-enabled",allowXhrCalls:!0,debug:!1,fb:{appId:null}},h=null,p=!1,f={},o={},g=[];d.getConfId=function(){return u.confId},d.getUser=function(){return h},d.isXHRAllowed=function(){return 1==u.allowXhrCalls},d.storage=new function(){var a=this,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.get=function(e,t){if(r){var n=localStorage.getItem(e);return t&&n?function(e){if(e){for(var t,n,o,a,r,i,s="",c=0,l=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=d.indexOf(l.charAt(c++))<<2|(a=d.indexOf(l.charAt(c++)))>>4,n=(15&a)<<4|(r=d.indexOf(l.charAt(c++)))>>2,o=(3&r)<<6|(i=d.indexOf(l.charAt(c++))),s+=String.fromCharCode(t),64!==r&&(s+=String.fromCharCode(n)),64!==i&&(s+=String.fromCharCode(o)),c<l.length;);try{return JSON.parse(s)}catch(e){}}return{}}(n):n}return null},a.set=function(e,t,n,o){return r&&(o&&(t=function(e){e=JSON.stringify(e);for(var t,n,o,a,r,i,s,c="",l=0;a=(t=e.charCodeAt(l++))>>2,r=(3&t)<<4|(n=e.charCodeAt(l++))>>4,i=(15&n)<<2|(o=e.charCodeAt(l++))>>6,s=63&o,isNaN(n)?i=s=64:isNaN(o)&&(s=64),c+=d.charAt(a)+d.charAt(r)+d.charAt(i)+d.charAt(s),l<e.length;);return c}(t)),localStorage.setItem(e,t)),a},a.clear=function(e){e?localStorage.removeItem(e):localStorage.clear()};var r=function(){var e="test",t="testval";if("undefined"!=typeof localStorage)try{if(localStorage.setItem(e,t),localStorage.getItem(e)===t)return!0}catch(e){}return!1}()},d.cookies=new function(e,t,n){var o,a,r,i=this,s=[];function c(e,t){switch(t=t||new Date,typeof e){case"number":e=new Date(t.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&(n=e,"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime())))throw new Error("`expires` parameter cannot be converted to a valid Date instance");var n;return e}function l(){s=function(e){for(var t,n,o,a={},r=e?e.split("; "):[],i=0;i<r.length;i++)n=r[i],o=void 0,o=(o=n.indexOf("="))<0?n.length:o,a[(t={key:decodeURIComponent(n.substr(0,o)),value:decodeURIComponent(n.substr(o+1))}).key]===w&&(a[t.key]=t.value);return a}(document.cookie),o=document.cookie}i.get=function(e){return o!==document.cookie&&l(),s[e]},i.set=function(e,t,n){var o,a,r;return(n={path:n&&n.path||"/",domain:n&&n.domain||null,expires:n&&n.expires||null,secure:n&&n.secure!==w?n.secure:null}).expires=c(t===w?1:n.expires),document.cookie=(o=t,a=n,r=e.replace(/[^#$&+\^`|]/g,encodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+(o=(o+"").replace(/[^!#$&+\:<\[\]~]/g,encodeURIComponent)),r+=(a=a||{}).path?";path="+a.path:"",r+=a.domain?";domain="+a.domain:"",r+=a.expires?";expires="+a.expires.toUTCString():"",r+=a.secure?";secure":""),i},i.expire=function(e,t){return i.set(e,w,t)},a="testcookie",r="1"===i.set(a,1).get(a),i.expire(a)},d.log=function(e,t,n){u.debug&&"undefined"!=typeof console&&"function"==typeof console[t]&&(t=t||"log",n=n||"oShare Core",console[t]("["+n+"] "+e))},d.setAdapter=function(e){for(var t in e)d[t]=e[t]},d.init=function(e){u=d.extend(u,e||{})},d.load=function(){var e,t=d.get("[class^=osocial-]");if(g=[],!p){var n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href="//c.woopic.com/oshare/css/share-1ebb9db045.css",n.appendChild(o),p=!0}if(!h){var a="__osocial",r=d.storage.get(a);if(r)h=r;else{var i=d.cookies.get(a),s=new Date;h=i||function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()}(),s.setDate(s.getDate()+90),d.storage.set(a,d.user,{expires:s.toGMTString()})}}"function"==typeof m.oShareInit&&m.oShareInit();for(var c=new RegExp(u.className),l=0;l<t.length;l++)!1===c.test(t[l].className)&&null!==(e=t[l].className.match(/osocial-([a-z]+)( |$)/))[1]&&void 0!==f[e[1]]&&(g.push(new f[e[1]](t[l],d)),d.addClass(t[l],u.className));d.trigger("oShareInitialized")},d.reload=function(e){for(var t=0;t<g.length;t++)"function"==typeof g[t].reload&&g[t].reload(e)},d.registerPlugin=function(e,t){"function"!=typeof f[e]?f[e]=t:d.log("Plugin "+e+" already defined","warn")},d.setCache=function(e,t,n){void 0===o[e]&&(o[e]={}),o[e][t]=n},d.getCache=function(e,t){return void 0!==o[e]?o[e][t]:null}},m.addEventListener?m.addEventListener("load",oShare.load,!1):m.attachEvent&&m.attachEvent("onload",oShare.load)}(window),function(a,t,o){"use strict";if(t===o)throw"oShare was not defined";t.setAdapter({extend:function(e,t){return a.extend(!0,e,t)},get:function(e,t){return t!==o?a(t).find(e):a(e)},addClass:function(e,t){a(e).addClass(t)},data:function(e,t,n){return t&&void 0!==n?a(e).data(t,n):a(e).data(t)},html:function(e,t){a(e).html(t)},ajax:function(e){t.isXHRAllowed()&&a.ajax(e)},prepend:function(e,t){a(e).prepend(t)},append:function(e,t){a(e).append(t)},create:function(e){return a(e)[0]},on:function(e,t,n,o){a(e).on(t,a.proxy(n,e,o||null))},trigger:function(e,t,n){n=n||{},t=t||document,a(t).trigger(e,n)},attr:function(e,t,n){return n===o?a(e).attr(t):a(e).attr(t,n)}})}(jQuery,oShare),oShare.registerPlugin("share",function(e){var r=this,d={},l="oshare",i="//pms.orange.fr/module/socialgraf/"+oShare.getConfId()+"/shares/",o="Share Plugin",u={networks:["facebook","twitter","linkedin","pinterest"],action:"share",caption:"partagez",count:null,url:null,text:document.title,shortenTotal:!1,enableCounter:!0,enableTracking:!0,trackingMode:"gstat",comscoreTag:"",usePlugins:!1,showShared:!1,skin:"",facebook:{layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"fr_FR",name:"Facebook",shortname:"fb",text:""},twitter:{count:"horizontal",hashtags:"",via:"",related:"",lang:"fr",name:"Twitter",shortname:"tw",dnt:!0,text:""},linkedin:{counter:"right",name:"LinkedIn",lang:"fr_FR",shortname:"in",text:"",summary:""},pinterest:{media:"",layout:"beside",color:"white",name:"Pinterest",shortname:"pin",text:""},viadeo:{text:"",encodeURL:!1,shortname:"via",name:"Viadeo"}};function s(e){e=Number(e)===e&&e%1==0?e:0;var t,n=oShare.get(".oshare-count",d),o=e?u.shortenTotal?(1e6<=(t=e)?t=(t/1e6).toFixed(2)+"M":1e3<=t&&(t=t%1e3==0?t/1e3:(t/1e3).toFixed(1),t+="k"),t):e:"",a=e?"partage"+(1<e?"s":""):u.caption;n.length?n=n[0]:(n=oShare.create('<span class="oshare-count"></span>'),oShare.prepend(d,n)),n.innerHTML='<span class="count">'+o+'</span> <span class="label'+(e?"":" solo")+'">'+a+"</span>"}function c(e){var t,n=e.networkId,o=u,a=void 0!==o[n].url&&""!=o[n].url?o[n].url:o.url,r=""!==o[n].text?encodeURIComponent(o[n].text):encodeURIComponent(o.text);switch(void 0!==o[n].encodeURL&&1!=o[n].encodeURL||(a=encodeURIComponent(a)),n){case"facebook":t=window.open("https://www.facebook.com/sharer/sharer.php?u="+a,"","toolbar=0, status=0, width=900, height=500");break;case"twitter":t=window.open("https://twitter.com/intent/tweet?text="+r+"&url="+a+(""!==o[n].via?"&via="+o[n].via:""),"","toolbar=0, status=0, width=650, height=360");break;case"linkedin":t=window.open("https://www.linkedin.com/shareArticle?mini=true&url="+a+"&title="+r+(""!==o[n].summary?"&summary="+encodeURIComponent(o[n].summary):""),"linkedin","toolbar=no,width=550,height=550");break;case"pinterest":var i=void 0!==o[n].media&&""!=o[n].media?o[n].media:"";if(""===i){var s=oShare.get('meta[property="og:image"]');s&&(i=oShare.attr(s,"content"))}t=window.open("https://pinterest.com/pin/create/button/?url="+a+(i?"&media="+encodeURIComponent(i):"")+"&description="+r,"pinterest","toolbar=no,width=700,height=300");break;case"viadeo":t=window.open("https://www.viadeo.com/shareit/share/?url="+a+"&title="+r+"&urllanguage=fr","viadeo","toolbar=no,width=550,height=550")}if(t)var c=window.setInterval(function(){try{(null==t||t.closed)&&(window.clearInterval(c),o.showShared&&oShare.addClass(e,"shared"),function(e){var t=oShare.storage.get(l,!0);if(!t||!t[u.url]||!t[u.url][e]){t||(t=[]),t[u.url]||(t[u.url]={}),t[u.url][e]=1;var n=new Date;n.setDate(n.getDate()+7),oShare.storage.set(l,t,{expires:n.toGMTString()},!0)}}(n),p(n))}catch(e){}},1e3)}function h(e){opt=u[e];var t,n,o,a,r=encodeURIComponent(u.url),i=encodeURIComponent(u.text);switch(e){case"facebook":oShare.append(d,'<div class="oshare-pbt facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+r+'" data-send="'+opt.send+'" data-layout="'+opt.layout+'" data-width="'+opt.width+'" data-show-faces="'+opt.faces+'" data-action="'+opt.action+'" data-colorscheme="'+opt.colorscheme+'" data-font="'+opt.font+'"></div></div>'),"undefined"==typeof FB?(t=document,n="facebook-jssdk",a=t.getElementsByTagName("script")[0],t.getElementById(n)||((o=t.createElement("script")).id=n,o.src="//connect.facebook.net/"+opt.lang+"/all.js#xfbml=1",a.parentNode.insertBefore(o,a))):FB.XFBML.parse();break;case"twitter":if(oShare.append(d,'<div class="oshare-pbt twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+r+'" data-count="'+opt.count+'" data-text="'+i+'" data-via="'+opt.via+'" data-hashtags="'+opt.hashtags+'" data-related="'+opt.related+'" data-lang="'+opt.lang+'">Tweet</a></div>'),"undefined"==typeof twttr){var s=document.createElement("script"),c=document.getElementsByTagName("script")[0];s.type="text/javascript",s.async=!0,s.src="//platform.twitter.com/widgets.js",c.parentNode.insertBefore(s,c)}else $oShare.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0});break;case"linkedin":if(oShare.append(d,'<div class="oshare-pbt linkedin"><script type="IN/Share" data-url="'+r+'" data-counter="'+opt.counter+'"><\/script></div>'),void 0===window.IN){var l=document.createElement("script");c=document.getElementsByTagName("script")[0];l.type="text/javascript",l.async=!0,l.src="//platform.linkedin.com/in.js",l.innerHTML="lang: "+opt.lang,c.parentNode.insertBefore(l,c)}else window.IN.init();break;case"pinterest":oShare.append(d,'<div class="oshare-pbt pinterest"><a href="https://pinterest.com/pin/create/button/?url='+r+"&media="+opt.media+"&description="+i+'" data-pin-do="buttonPin" data-pin-config="'+opt.layout+'" data-pin-color="'+opt.color+'">Pin It</a></div>');l=document.createElement("script"),c=document.getElementsByTagName("script")[0];l.type="text/javascript",l.async=!0,l.src="//assets.pinterest.com/js/pinit.js",c.parentNode.insertBefore(l,c)}}function p(e){if(oShare.getConfId()){var t=oShare.get('meta[property="og:title"]'),n="";t&&(n=oShare.attr(t,"content")),oShare.ajax({url:i+encodeURIComponent(encodeURIComponent(u.url))+"?format=json",type:"POST",data:{user:oShare.getUser(),nw:e,_id:u.url,title:n||"",category:"",action:r.id}})}}function f(e,t){if(!0===u.enableTracking)if("gstat"===u.trackingMode.toLowerCase())"function"==typeof o_changeAllLinks&&oShare.ajax({url:t});else if("comscore"===u.trackingMode.toLowerCase()&&u.comscoreTag.length&&"undefined"!=typeof utag&&utag.link){var n=u.comscoreTag.split(",");2<=n.length?utag.link({track_page:encodeURIComponent(n[0].replace(/^\s+|\s+$/g,"")),track_zone:encodeURIComponent(n[1].replace(/^\s+|\s+$/g,"")),track_nom:"share "+e,track_type_evt:"clic"}):oShare.log("Comscore tag not found or invalid (should be 2 parameters, "+n.length+" found)","warn",o)}}function t(e){if(d=e,!(u=oShare.extend(u,oShare.data(e))).url){var t=document.querySelector?document.querySelector("link[rel='canonical']"):null;u.url=t?t.href:document.location.href}if(""!==u.skin&&oShare.addClass(e,u.skin),"string"==typeof u.networks){u.networks=u.networks.split(",");for(var n=0;n<u.networks.length;n++)u.networks[n]=u.networks[n].replace(/^\s+|\s+$/g,"")}!function(){var e,t,n,o,a,r=oShare.storage.get(l,!0);for(e=0;e<u.networks.length;e++)t=u.networks[e],(n=u[t])&&(u.usePlugins?h(t):(a="oshare-bt "+n.shortname+" o_r_url_social_"+t,r&&r[u.url]&&r[u.url][t]&&(a+=" shared"),(o=oShare.create('<a href="#" class="'+a+'" title="Partager sur '+n.name+'"><i class="icon-'+t+'"></i></a>')).networkId=t,oShare.on(o,"click",function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,c(this),f(e.network.name,this.href.substring(0,this.href.length-1))},{network:n}),oShare.append(d,o)))}(),u.usePlugins||function t(e){!0!==u.enableCounter&&s(0);var n=oShare.getCache(r.id,u.url);if(n||(n={refs:[r],count:{total:"undefined"}}),void 0!==e&&(n.count.total=e),"string"==typeof n.count.total)if(null!==u.count)n.count.total=u.count;else{if("pending"===n.count.total)return setTimeout(function(){t()},200),!1;if(oShare.getConfId())return n.count.total="pending",oShare.setCache(r.id,u.url,n),oShare.ajax({url:i+encodeURIComponent(encodeURIComponent(u.url))+"?format=json",success:function(e){t(e.total)},error:function(){t(0)}}),!1}s(n.count.total);for(var o=!1,a=0;a<n.refs.length;a++)if(n.refs[a]==r){o=!0;break}o||n.refs.push(r),oShare.setCache(r.id,u.url,n)}(),!0===u.enableTracking&&"gstat"===u.trackingMode.toLowerCase()&&"function"==typeof o_changeAllLinks&&d&&o_changeAllLinks([d])}r.id="share",r.reload=function(e){d.innerHTML="",void 0!==e&&oShare.data(d,"url",e),t(d)},t(e)});