<!DOCTYPE html>
<!-- saved from url=(0690)https://graphcomment.orange.fr/front/?url=https%3A%2F%2Fauto.orange.fr%2Fdiaporamas%2Fles-voitures-qui-ont-marque-les-francais-CNT000000TGohV%2Fphotos%2Fpeugeot-205-1983-1998-e7efa4c29f700caf0cac613dca5e3582.html&title=Les%20voitures%20qui%20ont%20marqu%C3%A9%20les%20Fran%C3%A7ais&website_id=orange-auto&uid=CNT000000TGohV&identifier=auto.orange.fr%2Fdiaporamas%2Fles-voitures-qui-ont-marque-les-francais-CNT000000TGohV%2Fphotos%2Fpeugeot-205-1983-1998-e7efa4c29f700caf0cac613dca5e3582.html&widget=false&disable_live_replies=false&disable_ads=false&inapp=false&publication_date=2017-12-06%2000%3A00%3A00&lifetime=7&theme=light&overlay=false&mobile=false&lang=fr&cache=736444285&pid=4093674 -->
<html ng-app="graphcomment" class="no-js gc-no-touch" dir="ltr" ng-strict-di="" smooth-scroll="" lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
    <title>GraphComment</title>

    <!--<base target="_parent">--><base href="." target="_parent">

    <!-- Meta -->
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta http-equiv="cache-control" content="max-age=0">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
    <meta http-equiv="pragma" content="no-cache">

    <meta name="description" content="GraphComment">
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1,user-scalable=no">
    <link rel="apple-touch-icon" sizes="57x57" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-57x57.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="60x60" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-60x60.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="72x72" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-72x72.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="76x76" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-76x76.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="114x114" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-114x114.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="120x120" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-120x120.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="144x144" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-144x144.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="152x152" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-152x152.png?v=QEEAQ5eleB">
    <link rel="apple-touch-icon" sizes="180x180" href="https://graphcomment.orange.fr/front/images/apple-touch-icon-180x180.png?v=QEEAQ5eleB">
    <link rel="icon" type="image/png" href="https://graphcomment.orange.fr/front/images/favicon-32x32.png?v=QEEAQ5eleB" sizes="32x32">
    <link rel="icon" type="image/png" href="https://graphcomment.orange.fr/front/images/favicon-194x194.png?v=QEEAQ5eleB" sizes="194x194">
    <link rel="icon" type="image/png" href="https://graphcomment.orange.fr/front/images/favicon-96x96.png?v=QEEAQ5eleB" sizes="96x96">
    <link rel="icon" type="image/png" href="https://graphcomment.orange.fr/front/images/android-chrome-192x192.png?v=QEEAQ5eleB" sizes="192x192">
    <link rel="icon" type="image/png" href="https://graphcomment.orange.fr/front/images/favicon-16x16.png?v=QEEAQ5eleB" sizes="16x16">
    <link rel="manifest" href="https://graphcomment.orange.fr/front/images/manifest.json?v=QEEAQ5eleB">
    <link rel="shortcut icon" href="https://graphcomment.orange.fr/front/images/favicon.ico?v=QEEAQ5eleB">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-TileImage" content="/front/images/mstile-144x144.png?v=QEEAQ5eleB">
    <meta name="theme-color" content="#f35b5b">
    
      <link rel="stylesheet" type="text/css" href="./style-536b55dc97.css">
    

    <!--[if lt IE 7 ]> <style>.ie-compatibility-box{display: block}</style>    <![endif]-->
    <!--[if IE 7 ]>    <style>.ie-compatibility-box{display: block}</style>    <![endif]-->
    <!--[if IE 8 ]>    <style>.ie-compatibility-box{display: block}</style>    <![endif]-->

    <!-- Google Tag Manager -->
<script type="text/javascript" async="" src="./analytics.js.télécharger"></script><script type="text/javascript" async="" src="./recaptcha__fr.js.télécharger" crossorigin="anonymous" integrity="sha384-ENxtox3Tpg4PWxer967QaTaiVRQmFscJH/6PDHTGItcFf8llM8IEbaZqkYMN/pOZ"></script><script async="" src="./gtm.js.télécharger"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-T2W4NVG');</script>
<!-- End Google Tag Manager -->



    <script src="./api.js.télécharger" async="" defer=""></script>
  </head>
  <body class="translations-loaded">

    <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T2W4NVG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) -->

    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0" height="0" style="display:none">
      <symbol id="graphcomment-logo" viewBox="0 0 410 410">
        <path d="M209.7,400c-30,0-58.5-6.7-84-18.6c-11,6.9-33.6,19.7-56.6,24.9c-34,7.8-69,0.7-69,0.7s27.2-23.3,36.1-47.3
          c4.4-11.8,7.2-23.9,7.1-33.9c-0.1-9.4-2.2-17.2-3.6-21.2C20.9,274.2,10.2,238.4,10.2,200C10.2,89.5,99.5,0,209.7,0
          c48.7,0,93.4,17.5,128,46.6l-0.6,0.6c8.7,9,10.4,22.5,3.6,32.3c-7.9,11.3-24.2,13.5-36.5,4.9c-2-1.4-3.7-3-5.2-4.7
          C274.1,61,243.2,50,209.7,50C127,50,60,117.2,60,200s67,150,149.6,150c74.1,0,135.7-54.1,147.6-125H252.9c-8.6,14.9-24.7,25-43.2,25
          c-27.5,0-49.9-22.4-49.9-50s22.3-50,49.9-50c18.5,0,34.6,10.1,43.2,25h131.4c13.8,0,24.9,11.2,24.9,25
          C409.2,310.5,319.9,400,209.7,400z"></path>
      </symbol>
      <symbol id="graphcomment-brand-custom" viewBox="0 0 54.54 54.51">
        <path d="M28 53.18a26.38 26.38 0 0 1-11.2-2.47A26.56 26.56 0 0 1 9.2 54a25.06 25.06 0 0 1-9.2.1s3.63-3.1 4.81-6.26a13.52 13.52 0 0 0 1-4.52 9.6 9.6 0 0 0-.48-2.82A26.59 26.59 0 0 1 45 6.2l-.08.08a3.4 3.4 0 0 1 .48 4.29 3.47 3.47 0 0 1-4.86.65 3.53 3.53 0 0 1-.7-.63 19.94 19.94 0 1 0 7.76 19.33H33.7a6.66 6.66 0 1 1 0-6.65h17.51a3.33 3.33 0 0 1 3.33 3.32A26.59 26.59 0 0 1 28 53.18z"></path>
      </symbol>
      <symbol id="graphcomment-brand">
        <g class="graphcomment">
          <path d="M2.301,14.707c0.245,0.762,0.591,1.41,1.034,1.944c0.444,0.534,0.979,0.944,1.603,1.232s1.313,0.433,2.069,0.433c0.793,0,1.485-0.126,2.079-0.378c0.595-0.252,1.077-0.576,1.449-0.973v-4.697H6.899v0.701h2.844v3.69c-0.288,0.288-0.669,0.51-1.143,0.666c-0.475,0.156-0.981,0.234-1.521,0.234c-0.672,0-1.274-0.13-1.809-0.388s-0.984-0.621-1.351-1.089c-0.365-0.468-0.645-1.035-0.837-1.701c-0.191-0.666-0.288-1.413-0.288-2.24c0-0.828,0.103-1.572,0.307-2.232s0.495-1.221,0.873-1.683s0.837-0.819,1.377-1.071s1.151-0.378,1.836-0.378c0.647,0,1.188,0.117,1.62,0.351c0.432,0.234,0.804,0.52,1.115,0.855l0.486-0.54C10.253,7.276,10.07,7.108,9.86,6.94S9.413,6.619,9.149,6.481C8.885,6.343,8.591,6.232,8.267,6.148c-0.324-0.084-0.685-0.126-1.08-0.126c-0.792,0-1.509,0.141-2.151,0.423C4.394,6.727,3.842,7.135,3.38,7.669s-0.818,1.18-1.07,1.936s-0.378,1.602-0.378,2.538C1.931,13.09,2.053,13.945,2.301,14.707z"></path>
          <path d="M13.487,18.1h0.792v-5.887c0.336-0.815,0.717-1.389,1.143-1.719C15.848,10.165,16.253,10,16.637,10c0.168,0,0.306,0.009,0.414,0.027c0.107,0.018,0.233,0.057,0.378,0.117l0.18-0.721c-0.145-0.071-0.282-0.12-0.414-0.144c-0.132-0.024-0.282-0.036-0.45-0.036c-0.516,0-0.98,0.168-1.395,0.504s-0.766,0.774-1.054,1.314h-0.054L14.171,9.46h-0.684V18.1z"></path>
          <path d="M18.49,17.002c0.132,0.3,0.315,0.546,0.549,0.738c0.234,0.192,0.501,0.336,0.801,0.432c0.301,0.097,0.624,0.145,0.973,0.145c0.576,0,1.119-0.136,1.629-0.405s0.987-0.579,1.431-0.927h0.036l0.09,1.116h0.666v-5.526c0-0.468-0.045-0.903-0.135-1.305c-0.09-0.402-0.243-0.753-0.459-1.054c-0.216-0.3-0.498-0.537-0.846-0.711c-0.349-0.174-0.78-0.261-1.296-0.261c-0.349,0-0.685,0.039-1.009,0.117c-0.323,0.078-0.621,0.171-0.891,0.278c-0.271,0.108-0.516,0.229-0.738,0.36c-0.222,0.132-0.411,0.252-0.566,0.36l0.359,0.594c0.288-0.216,0.672-0.438,1.152-0.666c0.479-0.228,1.014-0.342,1.602-0.342c0.42,0,0.766,0.081,1.035,0.243c0.271,0.162,0.48,0.372,0.63,0.63c0.15,0.258,0.252,0.552,0.307,0.882c0.054,0.33,0.074,0.657,0.063,0.98c-1.92,0.217-3.33,0.576-4.229,1.08c-0.9,0.505-1.351,1.23-1.351,2.179C18.292,16.347,18.358,16.702,18.49,17.002z M19.363,14.986c0.162-0.276,0.429-0.522,0.801-0.738s0.861-0.402,1.467-0.558c0.606-0.156,1.354-0.288,2.241-0.396v2.935c-0.54,0.456-1.038,0.804-1.494,1.044c-0.456,0.239-0.936,0.359-1.439,0.359c-0.492,0-0.918-0.132-1.278-0.396c-0.36-0.265-0.54-0.708-0.54-1.332C19.12,15.568,19.201,15.261,19.363,14.986z"></path>
          <path d="M28.552,17.254c0.455,0.336,0.899,0.598,1.332,0.783c0.432,0.186,0.852,0.279,1.26,0.279c0.504,0,0.986-0.105,1.449-0.315c0.462-0.21,0.869-0.516,1.224-0.918c0.354-0.402,0.633-0.891,0.837-1.467s0.306-1.23,0.306-1.962c0-1.344-0.288-2.415-0.863-3.213c-0.576-0.798-1.44-1.197-2.593-1.197c-0.54,0-1.059,0.132-1.557,0.396c-0.498,0.264-0.957,0.563-1.377,0.899h-0.054l-0.072-1.08H27.76v12.546h0.792v-3.149V17.254z M28.552,11.368c0.527-0.456,1.022-0.807,1.484-1.053s0.909-0.369,1.341-0.369c0.492,0,0.912,0.093,1.261,0.279c0.348,0.186,0.63,0.443,0.846,0.773s0.375,0.723,0.477,1.179c0.103,0.456,0.153,0.948,0.153,1.477c0,0.588-0.075,1.125-0.225,1.61c-0.15,0.486-0.357,0.903-0.621,1.252c-0.265,0.348-0.582,0.617-0.954,0.81s-0.774,0.288-1.206,0.288c-0.336,0-0.72-0.084-1.152-0.252c-0.432-0.168-0.899-0.456-1.403-0.864V11.368z"></path>
          <path d="M37.552,18.1h0.792v-6.517c0.527-0.54,1.002-0.945,1.422-1.215s0.888-0.405,1.403-0.405c0.708,0,1.216,0.22,1.521,0.657c0.306,0.438,0.459,1.119,0.459,2.043V18.1h0.792v-5.545c0-1.128-0.21-1.962-0.63-2.502s-1.08-0.81-1.98-0.81c-0.6,0-1.134,0.147-1.602,0.441s-0.931,0.669-1.386,1.125V8.902V5.158h-0.792V18.1z"></path>
          <path d="M46.66,14.905c0.288,0.75,0.685,1.377,1.188,1.881s1.092,0.885,1.764,1.143c0.672,0.259,1.386,0.388,2.142,0.388c0.732,0,1.413-0.145,2.043-0.433c0.631-0.288,1.191-0.72,1.684-1.296l-1.458-1.602c-0.288,0.312-0.612,0.563-0.972,0.756c-0.36,0.192-0.78,0.288-1.261,0.288c-0.863,0-1.554-0.333-2.069-0.999c-0.517-0.666-0.774-1.605-0.774-2.817c0-0.588,0.075-1.116,0.225-1.584c0.15-0.468,0.357-0.863,0.621-1.188c0.265-0.324,0.573-0.573,0.928-0.747c0.354-0.174,0.734-0.261,1.143-0.261s0.765,0.077,1.071,0.233c0.306,0.156,0.608,0.372,0.909,0.648l1.458-1.639c-0.396-0.407-0.892-0.765-1.485-1.07c-0.594-0.307-1.257-0.459-1.989-0.459c-0.756,0-1.473,0.138-2.15,0.414c-0.679,0.275-1.272,0.678-1.782,1.206c-0.51,0.527-0.915,1.173-1.215,1.935c-0.301,0.762-0.45,1.629-0.45,2.601C46.228,13.288,46.372,14.155,46.66,14.905z"></path>
          <path d="M56.885,15.625c0.239,0.582,0.561,1.071,0.963,1.467c0.401,0.396,0.866,0.699,1.395,0.909s1.074,0.315,1.638,0.315c0.564,0,1.107-0.105,1.63-0.315c0.521-0.21,0.983-0.513,1.386-0.909c0.401-0.396,0.723-0.885,0.963-1.467s0.36-1.245,0.36-1.989c0-0.743-0.12-1.406-0.36-1.988s-0.562-1.071-0.963-1.468c-0.402-0.396-0.864-0.698-1.386-0.908c-0.522-0.21-1.065-0.315-1.63-0.315c-0.563,0-1.109,0.105-1.638,0.315s-0.993,0.513-1.395,0.908c-0.402,0.396-0.724,0.886-0.963,1.468c-0.24,0.582-0.36,1.245-0.36,1.988C56.524,14.38,56.644,15.043,56.885,15.625z M59.647,11.782c0.27-0.456,0.681-0.685,1.232-0.685c0.54,0,0.948,0.229,1.225,0.685c0.275,0.456,0.414,1.074,0.414,1.854c0,0.78-0.139,1.398-0.414,1.854c-0.276,0.456-0.685,0.684-1.225,0.684c-0.552,0-0.963-0.228-1.232-0.684c-0.271-0.456-0.405-1.074-0.405-1.854C59.242,12.856,59.377,12.238,59.647,11.782z"></path>
          <path d="M67.036,18.1h2.646v-6.03c0.552-0.576,1.056-0.864,1.512-0.864c0.384,0,0.663,0.12,0.837,0.36c0.174,0.239,0.261,0.684,0.261,1.332V18.1h2.646v-6.03c0.575-0.576,1.086-0.864,1.529-0.864c0.384,0,0.663,0.12,0.837,0.36c0.175,0.239,0.262,0.684,0.262,1.332V18.1h2.646v-5.544c0-1.116-0.225-1.995-0.675-2.638c-0.45-0.642-1.155-0.963-2.115-0.963c-0.6,0-1.119,0.147-1.557,0.441c-0.438,0.294-0.855,0.645-1.251,1.053c-0.228-0.48-0.537-0.849-0.927-1.107c-0.391-0.258-0.903-0.387-1.539-0.387c-0.588,0-1.092,0.135-1.512,0.405c-0.421,0.27-0.816,0.591-1.188,0.963h-0.072l-0.18-1.152h-2.16V18.1z"></path>
          <path d="M82.462,18.1h2.646v-6.03c0.552-0.576,1.056-0.864,1.512-0.864c0.384,0,0.663,0.12,0.837,0.36c0.174,0.239,0.261,0.684,0.261,1.332V18.1h2.646v-6.03c0.576-0.576,1.086-0.864,1.53-0.864c0.384,0,0.662,0.12,0.837,0.36c0.174,0.239,0.261,0.684,0.261,1.332V18.1h2.646v-5.544c0-1.116-0.225-1.995-0.675-2.638c-0.45-0.642-1.155-0.963-2.115-0.963c-0.6,0-1.118,0.147-1.557,0.441c-0.438,0.294-0.855,0.645-1.251,1.053c-0.228-0.48-0.537-0.849-0.927-1.107c-0.391-0.258-0.903-0.387-1.539-0.387c-0.588,0-1.092,0.135-1.512,0.405c-0.421,0.27-0.816,0.591-1.188,0.963h-0.072l-0.18-1.152h-2.16V18.1z"></path>
          <path d="M97.707,15.616c0.229,0.576,0.546,1.064,0.954,1.467s0.888,0.708,1.44,0.918c0.552,0.21,1.146,0.315,1.781,0.315c0.54,0,1.089-0.09,1.647-0.271c0.558-0.18,1.064-0.426,1.521-0.737l-0.882-1.603c-0.647,0.396-1.29,0.594-1.926,0.594c-0.6,0-1.107-0.152-1.521-0.459c-0.413-0.306-0.681-0.801-0.801-1.484h5.347c0.023-0.108,0.048-0.262,0.071-0.459c0.024-0.198,0.036-0.417,0.036-0.657c0-0.612-0.078-1.179-0.234-1.701c-0.155-0.521-0.393-0.975-0.711-1.359c-0.317-0.384-0.714-0.684-1.188-0.899s-1.029-0.324-1.665-0.324c-0.54,0-1.063,0.108-1.566,0.324s-0.95,0.524-1.341,0.927c-0.39,0.402-0.705,0.895-0.945,1.477c-0.239,0.582-0.359,1.232-0.359,1.952C97.365,14.38,97.479,15.04,97.707,15.616zM99.903,12.718c0.096-0.6,0.303-1.041,0.621-1.322c0.317-0.282,0.687-0.424,1.106-0.424c0.54,0,0.924,0.162,1.152,0.486c0.228,0.324,0.342,0.744,0.342,1.26H99.903L99.903,12.718z"></path>
          <path d="M107.211,18.1h2.646v-6.03c0.288-0.276,0.552-0.489,0.792-0.64c0.239-0.149,0.527-0.225,0.863-0.225c0.385,0,0.663,0.12,0.837,0.36c0.175,0.239,0.262,0.684,0.262,1.332V18.1h2.646v-5.545c0-1.128-0.219-2.01-0.657-2.646c-0.438-0.636-1.143-0.954-2.114-0.954c-0.612,0-1.146,0.135-1.603,0.405c-0.456,0.27-0.876,0.585-1.26,0.944h-0.072l-0.18-1.134h-2.16V18.1z"></path>
          <path d="M117.867,14.86c0,0.516,0.057,0.986,0.171,1.413c0.114,0.426,0.294,0.789,0.54,1.089s0.563,0.534,0.954,0.702c0.39,0.168,0.86,0.252,1.413,0.252c0.432,0,0.81-0.036,1.134-0.108s0.606-0.144,0.846-0.216l-0.414-1.926c-0.12,0.048-0.255,0.09-0.404,0.126c-0.15,0.036-0.298,0.054-0.441,0.054c-0.348,0-0.627-0.111-0.837-0.333s-0.315-0.585-0.315-1.089v-3.582h2.143v-2.07h-2.143V6.796h-2.195l-0.307,2.376l-1.368,0.108v1.962h1.225V14.86L117.867,14.86z"></path>
        </g>
      </symbol>
    </svg>

    <!---->

    <div class="gc-body gc-theme-light gc-theme-orange" ng-class="[mainColorClass, mainThemeClass]">

    <!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!----><vote-popin ng-if="$root.votePopin" comment="$root.votePopin.comment" required="$root.votePopin.required">

  <!---->

</vote-popin><!---->

    <!----><div class="gc-header translate-cloak" ng-if="$root.gcReady &amp;&amp; !$root.websiteNotFound &amp;&amp; !$root.loadingError &amp;&amp; !$root.isWidget &amp;&amp; !$root.skipLayout">
      <div class="gc-headerItem gc-header-left">
        <h3 class="gc-headerItem-comment-number">
          <a ng-pluralize="" ng-init="commentLabel = {
                &#39;none&#39;: &#39;comments.empty&#39;,
                &#39;one&#39;: &#39;comments.singular&#39;,
                &#39;other&#39;: &#39;comments.plural&#39;
             }" ng-click="reloadAllComments()" class="hover" ng-class="{ &#39;has-new-comments&#39;: getNewCommentsNotOpened().length }" count="CommentService.total_comments" when="{
              &#39;0&#39;: &#39;Pas de commentaire&#39;,
              &#39;one&#39;: &#39;1 commentaire&#39;,
              &#39;other&#39;: &#39;{} commentaires&#39;}">121 commentaires</a>
        </h3>

        <!----><div class="gc-headerItem-sort-container" ng-if="CommentService.comments.length">
          <a class="gc-headerItem-sort cursor-pointer" ng-click="showSortTooltip($event)">
            <span ng-bind-html="sortingLabel">tri par <b>pertinence</b></span>
            <!----><i class="gcicon-readmore cursor-pointer" ng-if="sortingLabel" style="vertical-align: middle"></i><!---->
          </a>
          <!---->
        </div><!---->
      </div>

      <div class="gc-headerItem gc-not-logged" ng-hide="GcUser.isLocallyLogged() || $root.readonly">
        <!---->
        <div ng-hide="CommentService.website.custom_client === &#39;orange&#39;" class="ng-hide">
         <!----><button class="gc-register-btn" ng-if="!CommentService.website.sso || !CommentService.website.sso.active" ng-click="showSignupPopup($event)" translate="">S'inscrire</button><!---->
          <!----><button class="gc-user-account gc-btn-default" ng-if="!CommentService.website.sso.active || CommentService.website.sso.unidirectional" ng-click="showSigninPopup($event)" type="button" translate="">Connexion</button><!---->
          <!---->
       </div>
      </div>

      <div class="gc-headerItem gc-user-account ng-hide" dropdown="" ng-show="GcUser.isLocallyLogged()">
        <!---->
        <div class="gc-notif-panel ng-hide" ng-show="notifPanelOpen" ng-style="notifsPos">
          <div class="gc-notif-title">
            Notifications
            <a ng-click="markAllAsRead()" class="pull-right">
              <!---->
              Tout marquer comme lu
            </a>
          </div>
          <ul class="gc-notif-panel-list os-host os-theme-dark os-host-resize-disabled os-host-scrollbar-horizontal-hidden os-host-scrollbar-vertical-hidden os-host-transition" custom-scrollbar=""><div class="os-resize-observer-host"><div class="os-resize-observer observed" style="left: 0px; right: auto;"></div></div><div class="os-size-auto-observer" style="height: calc(100% + 1px); float: left;"><div class="os-resize-observer observed"></div></div><div class="os-content-glue" style="margin: 0px; height: 199px; width: 399px;"></div><div class="os-padding"><div class="os-viewport os-viewport-native-scrollbars-invisible" style=""><div class="os-content" style="padding: 0px; max-height: 540px; height: auto; width: 100%;">
            <!---->
          </div></div></div><div class="os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable os-scrollbar-auto-hidden"><div class="os-scrollbar-track os-scrollbar-track-off"><div class="os-scrollbar-handle" style="width: 100%; transform: translate(0px, 0px);"></div></div></div><div class="os-scrollbar os-scrollbar-vertical os-scrollbar-unusable os-scrollbar-auto-hidden"><div class="os-scrollbar-track os-scrollbar-track-off"><div class="os-scrollbar-handle" style="height: 100%; transform: translate(0px, 0px);"></div></div></div><div class="os-scrollbar-corner"></div></ul>
        </div>
        <button class="gc-profile-wrapper" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
          <div class="gc-profile">
            <img ng-src="/images/avatar_3.png" class="gc-profile-picture" alt="" fallback-src="" src="./avatar_3.png">
          </div>
          <span class="gc-profile-name">
            
          </span>
        </button>
        <ul class="gc-popin gc-popin-menu list-menu" dropdown-menu="">
          <!---->
          <!---->
          <!---->
          <li class="list-menu-spacer"></li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="viewProfile(); trackOnce(&#39;menu:profile&#39;)">
              <i class="gcicon-user gcicon--menu"></i>
              <span translate="">Mon profil</span>
            </button>
          </li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="viewComments(); trackOnce(&#39;menu:comments&#39;)">
              <i class="gcicon-comments2 gcicon--menu"></i>
              <span translate="">Mes commentaires</span>
            </button>
          </li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="openPrefsPopin(); trackOnce(&#39;menu:prefs&#39;)">
              <i class="gcicon-prefs gcicon--menu"></i>
              <span translate="">Mes préférences</span>
            </button>
          </li>
          <!---->
          <!----><li class="list-menu-item" ng-if="CommentService.website.custom_client === &#39;orange&#39;">
            <button class="bt-menu" type="button" ng-click="manageSpupPseudo()">
              <i class="gcicon-cog gcicon--menu"></i>
              <span translate="">Mon pseudo</span>
            </button>
          </li><!---->
          <!---->
        </ul>
      </div>
    </div><!---->

    <!-- ECD -->
    <!---->
    <!---->
    <!-- END OF ECD -->

    <!---->
    <!---->
    <!---->
    <!---->

    <!---->

    <!----><div class="gc-creator translate-cloak" ng-if="!$root.readonly &amp;&amp; !$root.isWidget &amp;&amp; !$root.skipLayout">
      <!----><div id="comment-creation" class="gcomment-container w100 table" submitted="addComment(message)" active="false" ng-if="!CommentService.isLocked &amp;&amp; !$root.websiteNotFound &amp;&amp; !$root.loadingError">
    
    <div ng-class="{
        &#39;gc-node&#39;: !parentComment,
        &#39;gc-create-subcomment&#39;: parentComment || comment.editing,
        &#39;disable-transition&#39;: comment._id
      }" drop-upload="{ init: showLoader, check: checkUploadLimit, done: addHostedFile, error: onUploadError }" class="gc-node">
      <div ng-class="{&#39;gc-main-level&#39;: !parentComment }" textarea-focus="" textarea-focus-except="[&#39;.ignore-focus&#39;, &#39;.gc-comment-submit a&#39;, &#39;.gc-comment-warning-text a&#39;, &#39;.gc-comment-guest-form *&#39;, &#39;.gc-comment-submit-captcha&#39;]" class="gc-main-level">
        <!---->

        <div class="gc-avatar" ng-click="$root.toggleProfilePopin($event, $root.gcUser &amp;&amp; $root.gcUser._id)" ng-mouseenter="$root.openProfilePopinTimer($event, $root.gcUser._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
          <div class="gc-rounded ignore-focus">
            <img ng-src="/images/avatar_3.png" alt="" fallback-src="" src="./avatar_3.png">
          </div>
        </div>

        <div class="gc-comment-form">
          <!-- WYSIWYG -->
          <div class="gc-comment-textarea ng-pristine ng-untouched ng-valid ng-empty" contenteditable="true" ng-model="comment.content" ng-model-options="{debounce: 300}" content-selectable="" content-select-control="TextAreaControl" ng-keydown="onKeydown($event)" ng-change="writeComment()" ng-paste="paste($event)" placeholder="Démarrer une discussion..."></div>
          <!-- !end WYSIWYG -->

          <!---->

          <!-- In case an embed is detected in the comment -->
          <!---->
          
          <div class="button_links">
            
            <!---->

            <!---->

              <!---->

              <!---->
            
            <!----><button class="gc-comment-emoticon" ng-class="{&#39;gc-comment-emoticon--active&#39;: isEmoticonsContainerActive}" ng-click="emoticonButtonClick($event)" ng-if="!isMobile &amp;&amp; CommentService.website.edition.emoticons">
              <i class="gcicon-smile"></i>
            </button><!---->
            <!---->
            <!---->

            <div class="gc-popin gc-comment-emoticon-popin" ng-class="{&#39;gc-comment-emoticon-popin--active&#39;: isEmoticonsContainerActive}">
              <!---->
            </div>
          </div>

          <!---->

        </div>
      </div>
    </div>
  </div><!---->
    </div><!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!---->

    <!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cacc" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node gc-node-expanded">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!----><div class="gc-stats-count" style="display: none" ng-if="(!comment.parent_id || root) &amp;&amp; comment.child_comments.length">
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-comment"></i></span><!---->
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-user"></i></span><!---->
      </div><!---->
    </div>

    <div class="gc-message gc-main-level gc-has-children" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/art_moderne/df94c2db670a80f0590de300b3bd0561988001347975531.jpg" alt="" fallback-src="" src="./df94c2db670a80f0590de300b3bd0561988001347975531.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment gc-comment--has-answers" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              nicolas2
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 14:36:39" data-gc-tooltip="samedi 30 décembre 2017 14:36">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">La Porsche n'a rien à faire dans cette liste qui se veut refléter les français en général, pas la tranche infime des grosses fortunes.A la place j'aurais mis une Panhard, belle marque française, pionnière et disparue. </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!----><div class="gc-slider" ng-class="{&#39;gc-slider--last&#39;: !childComment}" ng-if="comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0">

      <!---->

      <!---->

      <!----><div class="gc-slider-arrow" ng-if="canShowArrow()">
        <i class="gcicon-arrow-reply-small"></i>
      </div><!---->

      <div class="gc-slider-container">
        <ul class="gc-slider-slides" ng-class="{ &#39;show-fade&#39;: comment.child_comments.length &gt; 3 }">
          <!----><li class="gc-slider-item gc-slider-item--active" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar gc-slider-avatar--active" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" class="gc-slider-img" alt="bisque" fallback-src="" src="./default.jpg">
            </button>
          </li><!---->
          <li class="underline"></li>
        </ul>
      </div>

      <!---->

      <!---->

      <div class="gc-slider-spacer"></div>

      <div class="gc-slider-meta">
        <!---->

      </div>
    </div><!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!----><div class="child-comment" ng-if="childComment &amp;&amp; !childComment.editing &amp;&amp; !bbf3d">
      <div id="comment-5b331d9c38ff10372f12cb20" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" class="slide" ng-animate-swap="childComment._id" parent-id="5b331d9c38ff10372f12cacc" parent-comment="comment" comment="childComment" depth="depth + 1" bbf3d="" ecd_creation_mode="ecd_creation_mode">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-second-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              bisque
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 17:08:08" data-gc-tooltip="samedi 30 décembre 2017 17:08">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent" style="min-height: 39px;">Panhard en avance sur son temps, moteur alpax ou alu, etc... a tourné néanmoins pour l'armée encore longtemps. </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!----><button type="button" ng-if="comment.parent_id &amp;&amp; depth !== 0 &amp;&amp; !bbf3d" class="gc-close" ng-click="closeParent()" aria-lable="hide replies">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate="">Annuler</span>
    </button><!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!----><button type="button" class="gc-share-discussion gc-btn fix-share" ng-class="{&#39;fix-share&#39;:comment.parent_id &amp;&amp; !childComment}" ng-if="comment.parent_id &amp;&amp; !root &amp;&amp; comment.status != &#39;pending&#39; &amp;&amp; !answer_mode &amp;&amp; !childComment &amp;&amp; !bbf3d &amp;&amp; !$root.website.disable_share_discussion" ng-click="shareComment($event)">
      <i class="gcicon-share"></i> <span translate="">Partager ce fil de discussion</span>
    </button><!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div>
    </div><!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cad8" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node gc-node-expanded">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!----><div class="gc-stats-count" style="display: none" ng-if="(!comment.parent_id || root) &amp;&amp; comment.child_comments.length">
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-comment"></i></span><!---->
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-user"></i></span><!---->
      </div><!---->
    </div>

    <div class="gc-message gc-main-level gc-has-children" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/male.jpg" alt="" fallback-src="" src="./male.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment gc-comment--has-answers" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              retnuhpat
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 16:32:16" data-gc-tooltip="samedi 30 décembre 2017 16:32">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">a part la DS rien de beau je prefere ma HONDA S800 </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!----><div class="gc-slider" ng-class="{&#39;gc-slider--last&#39;: !childComment}" ng-if="comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0">

      <!---->

      <!---->

      <!----><div class="gc-slider-arrow" ng-if="canShowArrow()">
        <i class="gcicon-arrow-reply-small"></i>
      </div><!---->

      <div class="gc-slider-container">
        <ul class="gc-slider-slides" ng-class="{ &#39;show-fade&#39;: comment.child_comments.length &gt; 3 }">
          <!----><li class="gc-slider-item gc-slider-item--active" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar gc-slider-avatar--active" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" class="gc-slider-img" alt="bruno43" fallback-src="" src="./default.jpg">
            </button>
          </li><!---->
          <li class="underline"></li>
        </ul>
      </div>

      <!---->

      <!---->

      <div class="gc-slider-spacer"></div>

      <div class="gc-slider-meta">
        <!---->

      </div>
    </div><!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!----><div class="child-comment" ng-if="childComment &amp;&amp; !childComment.editing &amp;&amp; !bbf3d">
      <div id="comment-5b331d9d38ff10372f12cb56" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" class="slide" ng-animate-swap="childComment._id" parent-id="5b331d9c38ff10372f12cad8" parent-comment="comment" comment="childComment" depth="depth + 1" bbf3d="" ecd_creation_mode="ecd_creation_mode">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-second-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              bruno43
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 17:51:53" data-gc-tooltip="samedi 30 décembre 2017 17:51">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent" style="min-height: 19px;">et on s 'étonne que Peugeot licencie..... </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!----><button type="button" ng-if="comment.parent_id &amp;&amp; depth !== 0 &amp;&amp; !bbf3d" class="gc-close" ng-click="closeParent()" aria-lable="hide replies">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate="">Annuler</span>
    </button><!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!----><button type="button" class="gc-share-discussion gc-btn fix-share" ng-class="{&#39;fix-share&#39;:comment.parent_id &amp;&amp; !childComment}" ng-if="comment.parent_id &amp;&amp; !root &amp;&amp; comment.status != &#39;pending&#39; &amp;&amp; !answer_mode &amp;&amp; !childComment &amp;&amp; !bbf3d &amp;&amp; !$root.website.disable_share_discussion" ng-click="shareComment($event)">
      <i class="gcicon-share"></i> <span translate="">Partager ce fil de discussion</span>
    </button><!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div>
    </div><!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cac8" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              chretienl
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-09 08:46:29" data-gc-tooltip="samedi 9 décembre 2017 08:46">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent"><span ng-hide="comment.expanded" ng-click="comment.expanded = true">je suis du nord  ouest  aucune   critique    NEIGE    PLUIE SOLEIL !!!  de la BELGIQUE   A  L ESPAGNE   L ITALIE   nous et nos  deux filles  avec bagages   toile de tente   !!! sur la galerie   valise et roue de secoure   C  ETAIT  FORMIDABLE  bien sur et en plus   à l intérieur  la fatigue ET LA JOIE     D ETRE EN VACANCE  !!!! pour faire  800 KM  </span><span ng-hide="comment.expanded" ng-click="comment.expanded = true">...&nbsp;&nbsp;&nbsp;<span class="gc-show-more" ng-mouseenter="expandAfter500ms()" ng-mouseleave="leaveExpand()">  <span translate="">Lire la suite</span>  <span class="gcicon-readmore"></span></span></span><span class="full-content ng-hide" ng-show="comment.expanded">je suis du nord  ouest  aucune   critique    NEIGE    PLUIE SOLEIL !!!  de la BELGIQUE   A  L ESPAGNE   L ITALIE   nous et nos  deux filles  avec bagages   toile de tente   !!! sur la galerie   valise et roue de secoure   C  ETAIT  FORMIDABLE  bien sur et en plus   à l intérieur  la fatigue ET LA JOIE     D ETRE EN VACANCE  !!!! pour faire  800 KM 16 heures   qu elle  bon  temps  avec mais  cinq  2 CV   §§§§§§§§§§§§§§§ </span></p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cac9" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node gc-node-expanded">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!----><div class="gc-stats-count" style="display: none" ng-if="(!comment.parent_id || root) &amp;&amp; comment.child_comments.length">
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-comment"></i></span><!---->
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 2 <i class="gcicon-user"></i></span><!---->
      </div><!---->
    </div>

    <div class="gc-message gc-main-level gc-has-children" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/forum/c0e678ca6f69767c7595526c4f6a0855615001321892822.jpg" alt="" fallback-src="" src="./c0e678ca6f69767c7595526c4f6a0855615001321892822.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment gc-comment--has-answers" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              voicimonavis
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-26 17:47:05" data-gc-tooltip="mardi 26 décembre 2017 17:47">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">vous avez oublié la méhari </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!----><div class="gc-slider" ng-class="{&#39;gc-slider--last&#39;: !childComment}" ng-if="comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0">

      <!---->

      <!---->

      <!----><div class="gc-slider-arrow" ng-if="canShowArrow()">
        <i class="gcicon-arrow-reply-small"></i>
      </div><!---->

      <div class="gc-slider-container">
        <ul class="gc-slider-slides" ng-class="{ &#39;show-fade&#39;: comment.child_comments.length &gt; 3 }">
          <!----><li class="gc-slider-item gc-slider-item--active" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar gc-slider-avatar--active" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/user/f660a725b450304f4eadfa15e975abfe.jpg" class="gc-slider-img" alt="zone37" fallback-src="" src="./f660a725b450304f4eadfa15e975abfe.jpg">
            </button>
          </li><!---->
          <li class="underline"></li>
        </ul>
      </div>

      <!---->

      <!---->

      <div class="gc-slider-spacer"></div>

      <div class="gc-slider-meta">
        <!---->

      </div>
    </div><!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!----><div class="child-comment" ng-if="childComment &amp;&amp; !childComment.editing &amp;&amp; !bbf3d">
      <div id="comment-5b331d9c38ff10372f12cb34" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" class="slide" ng-animate-swap="childComment._id" parent-id="5b331d9c38ff10372f12cac9" parent-comment="comment" comment="childComment" depth="depth + 1" bbf3d="" ecd_creation_mode="ecd_creation_mode">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-second-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/user/f660a725b450304f4eadfa15e975abfe.jpg" alt="" fallback-src="" src="./f660a725b450304f4eadfa15e975abfe.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              zone37
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 09:47:13" data-gc-tooltip="samedi 30 décembre 2017 09:47">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent" style="min-height: 19px;">malheureusement beaucoup moins d'exemplaires. </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!----><button type="button" ng-if="comment.parent_id &amp;&amp; depth !== 0 &amp;&amp; !bbf3d" class="gc-close" ng-click="closeParent()" aria-lable="hide replies">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate="">Annuler</span>
    </button><!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!----><button type="button" class="gc-share-discussion gc-btn fix-share" ng-class="{&#39;fix-share&#39;:comment.parent_id &amp;&amp; !childComment}" ng-if="comment.parent_id &amp;&amp; !root &amp;&amp; comment.status != &#39;pending&#39; &amp;&amp; !answer_mode &amp;&amp; !childComment &amp;&amp; !bbf3d &amp;&amp; !$root.website.disable_share_discussion" ng-click="shareComment($event)">
      <i class="gcicon-share"></i> <span translate="">Partager ce fil de discussion</span>
    </button><!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div>
    </div><!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cacb" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              chretienl
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-09 08:27:53" data-gc-tooltip="samedi 9 décembre 2017 08:27">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent"><span ng-hide="comment.expanded" ng-click="comment.expanded = true">j ai eu   cinq  2 CV   la petite  dernière  a 27ans avec  journal   photo   direction  citroèn   et gerbe de fleur  dernière  2 CV sortie  de  l usine  !!!!!   je vais  peut  étre  l a sortir  pour NOEL 49000 KM  !!!!  en ce moment   je refait   la peinture  couleur  bleu et l intention   peut  étre  de la vendre l année  prochaine  ?????  c est co </span><span ng-hide="comment.expanded" ng-click="comment.expanded = true">...&nbsp;&nbsp;&nbsp;<span class="gc-show-more" ng-mouseenter="expandAfter500ms()" ng-mouseleave="leaveExpand()">  <span translate="">Lire la suite</span>  <span class="gcicon-readmore"></span></span></span><span class="full-content ng-hide" ng-show="comment.expanded">j ai eu   cinq  2 CV   la petite  dernière  a 27ans avec  journal   photo   direction  citroèn   et gerbe de fleur  dernière  2 CV sortie  de  l usine  !!!!!   je vais  peut  étre  l a sortir  pour NOEL 49000 KM  !!!!  en ce moment   je refait   la peinture  couleur  bleu et l intention   peut  étre  de la vendre l année  prochaine  ?????  c est comme une épouse on ne sans    lasse   pas   §§§ </span></p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cadf" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/art_moderne/46f2ff2320c022bdf82200a6fd0b0553991001347975531.jpg" alt="" fallback-src="" src="./46f2ff2320c022bdf82200a6fd0b0553991001347975531.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              lequinze
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 11:54:51" data-gc-tooltip="samedi 30 décembre 2017 11:54">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">moi c'est la  SIMCA 1100  GLS </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12caf0" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node gc-node-expanded">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!----><div class="gc-stats-count" style="display: none" ng-if="(!comment.parent_id || root) &amp;&amp; comment.child_comments.length">
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 4 <i class="gcicon-comment"></i></span><!---->
        <!----><span class="gc-btn" ng-if="comment.child_comments.length"> 3 <i class="gcicon-user"></i></span><!---->
      </div><!---->
    </div>

    <div class="gc-message gc-main-level gc-has-children" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/animaux/235b10086ec88fd636abf91929100752938001341932975.jpg" alt="" fallback-src="" src="./235b10086ec88fd636abf91929100752938001341932975.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment gc-comment--has-answers" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              PSUXXI
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-21 10:15:34" data-gc-tooltip="jeudi 21 décembre 2017 10:15">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!---->
          <!----><p class="inner-content gc-comment-removed" ng-if="!showRealContent()" ng-style="{ &#39;min-height&#39;: contentHeight + &#39;px&#39; }">
            Ce commentaire a été retiré par l'utilisateur.
          </p><!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!----><div class="gc-slider" ng-class="{&#39;gc-slider--last&#39;: !childComment}" ng-if="comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0">

      <!---->

      <!---->

      <!----><div class="gc-slider-arrow" ng-if="canShowArrow()">
        <i class="gcicon-arrow-reply-small"></i>
      </div><!---->

      <div class="gc-slider-container">
        <ul class="gc-slider-slides" ng-class="{ &#39;show-fade&#39;: comment.child_comments.length &gt; 3 }">
          <!----><li class="gc-slider-item gc-slider-item--active" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar gc-slider-avatar--active" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/male.jpg" class="gc-slider-img" alt="joyeuxmago" fallback-src="" src="./male.jpg">
            </button>
          </li><!----><li class="gc-slider-item" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/male.jpg" class="gc-slider-img" alt="joyeuxmago" fallback-src="" src="./male.jpg">
            </button>
          </li><!----><li class="gc-slider-item" ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index" ng-click="toggleComment(cmt)" ng-class="{&#39;gc-slider-item--active&#39; : childComment &amp;&amp; childComment._id === cmt._id}" ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar" ng-class="{
              &#39;gc-slider-avatar--active&#39; : childComment &amp;&amp; childComment._id === cmt._id,
              &#39;gc-red&#39; : cmt.is_read,
              &#39;gc-new&#39; : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" class="gc-slider-img" alt="bisque" fallback-src="" src="./default.jpg">
            </button>
          </li><!---->
          <li class="underline"></li>
        </ul>
      </div>

      <!----><button class="gc-slider-button gc-next" ng-if="canSlideNext()" ng-click="sliderNext()" aria-label="next comment">
        <i class="gcicon-caret-right"></i>
      </button><!---->

      <!---->

      <div class="gc-slider-spacer"></div>

      <div class="gc-slider-meta">
        <!----><a class="gc-slider-meta-expand" ng-click="openBbf3d($event)" ng-if="canOpenBbf3d() &amp;&amp; !Utils.inOverlay()">
          <i class="gcicon-eye hide-mobile"></i>
          <span>Lire 3 réponses</span>
        </a><!---->

      </div>
    </div><!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!----><div class="child-comment" ng-if="childComment &amp;&amp; !childComment.editing &amp;&amp; !bbf3d">
      <div id="comment-5b331d9c38ff10372f12cb1d" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" class="slide" ng-animate-swap="childComment._id" parent-id="5b331d9c38ff10372f12caf0" parent-comment="comment" comment="childComment" depth="depth + 1" bbf3d="" ecd_creation_mode="ecd_creation_mode">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-second-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/male.jpg" alt="" fallback-src="" src="./male.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              joyeuxmago
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-30 10:09:04" data-gc-tooltip="samedi 30 décembre 2017 10:09">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent" style="min-height: 116px;"><span ng-hide="comment.expanded" ng-click="comment.expanded = true">Et non c'est bien la 206 1ière (8.3 millions) suivi de la 4L (8.136 millions) quand vous dites R5 ou Clio vous mélangez les générations qui n'ont rien à voir entre elle qu' y avait t-il de commun entre une R5 et une Supercinq rien ce n'est pas du tout la même voiture. Qu' y a t-il de commun entre Clio 1et Clio 2, 3 ,4 rien ce n'est pas la même carr </span><span ng-hide="comment.expanded" ng-click="comment.expanded = true">...&nbsp;&nbsp;&nbsp;<span class="gc-show-more" ng-mouseenter="expandAfter500ms()" ng-mouseleave="leaveExpand()">  <span translate="">Lire la suite</span>  <span class="gcicon-readmore"></span></span></span><span class="full-content ng-hide" ng-show="comment.expanded">Et non c'est bien la 206 1ière (8.3 millions) suivi de la 4L (8.136 millions) quand vous dites R5 ou Clio vous mélangez les générations qui n'ont rien à voir entre elle qu' y avait t-il de commun entre une R5 et une Supercinq rien ce n'est pas du tout la même voiture. Qu' y a t-il de commun entre Clio 1et Clio 2, 3 ,4 rien ce n'est pas la même carrosserie aucun embouti commun ce ne sont pas les mêmes autos. Alors que la 206 ou la 4L ont gardé leur forme jusqu'à la fin de leur carrière </span></p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!----><button type="button" ng-if="comment.parent_id &amp;&amp; depth !== 0 &amp;&amp; !bbf3d" class="gc-close" ng-click="closeParent()" aria-lable="hide replies">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate="">Annuler</span>
    </button><!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!----><button type="button" class="gc-share-discussion gc-btn fix-share" ng-class="{&#39;fix-share&#39;:comment.parent_id &amp;&amp; !childComment}" ng-if="comment.parent_id &amp;&amp; !root &amp;&amp; comment.status != &#39;pending&#39; &amp;&amp; !answer_mode &amp;&amp; !childComment &amp;&amp; !bbf3d &amp;&amp; !$root.website.disable_share_discussion" ng-click="shareComment($event)">
      <i class="gcicon-share"></i> <span translate="">Partager ce fil de discussion</span>
    </button><!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div>
    </div><!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cad3" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              benelmehli
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2018-01-08 10:31:51" data-gc-tooltip="lundi 8 janvier 2018 10:31">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">Une voiture remarquable encore inégalée à ce jour. </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12cada" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/default.jpg" alt="" fallback-src="" src="./default.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              COUCOUNOEL
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2017-12-31 18:06:24" data-gc-tooltip="dimanche 31 décembre 2017 18:06">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">le solex telematique de tata "louisette rochais" de poitiers </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!----><!----><div class="repeat-item" ng-if="gcReady" ng-class="{&#39;gc-comment-editorial-mode&#39;: GcECD.ecd_editorial_mode &amp;&amp; $root.gcUser}" ng-repeat="(index, comment) in CommentService.comments" ng-repeat-done="Perfs.done()">
      <!---->
      <!---->
      <!----><div id="comment-5b331d9c38ff10372f12caeb" ng-mouseenter="canModerate() &amp;&amp; checkIsBan()" ng-class="{
      &#39;gc-node&#39; : !comment.parent_id || root,
      &#39;gc-node-expanded&#39; : childComment &amp;&amp; depth == 0,
      &#39;gc-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() === rootCommentId,
      &#39;gc-non-focused&#39; : FocusService.focusActivated() &amp;&amp; FocusService.getFocusId() !== rootCommentId,
      &#39;gc-is-new&#39;: comment.is_new,
    }" ng-if="!comment.editing &amp;&amp; (!showSkeleton || index &lt; CommentService.totalComments())" comment="comment" root="true" depth="0" class="gc-node">

    <div class="gc-stats">
      <!---->
      <!---->
      <!---->
      <!---->
    </div>

    <div class="gc-message gc-main-level" ng-class="{
            &#39;gc-main-level&#39; : !comment.parent_id || root,
            &#39;gc-second-level&#39; : comment.parent_id &amp;&amp; !root,
            &#39;gc-has-children&#39; : comment.child_comments.length,
            &#39;editorial-mode&#39; : ecd_creation_mode,
            &#39;editor-selection&#39; : comment.editor_choice
          }">

      <div class="gc-avatar" ng-class="{ &#39;is-guest&#39;: comment.guest, &#39;is-new&#39;: bbf3d &amp;&amp; comment.is_new }" ng-click="$root.toggleProfilePopin($event, comment.author._id)" ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)" ng-mouseleave="$root.cancelProfilePopinTimer()">
        <div class="gc-rounded">
          <img ng-src="https://cdn.woopic.com/v1/AUTH_14c1fc197e1b41788f2549e632b8813f/default/male.jpg" alt="" fallback-src="" src="./male.jpg">
        </div>
      </div>
      <!---->

      <!---->

      <article class="gc-comment" ng-class="{&#39;gc-comment--has-answers&#39;: comment.child_comments &amp;&amp; comment.child_comments.length &gt; 0}">
        <header>
          <h1 class="gc-title">
            <!----><a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              szego
            </a><!---->
            <!---->
            <!---->
            <!---->
          </h1>
          <!---->
          <div class="gc-nowrap">
            <!----><time class="gc-time" ng-click="logCmt($event)" ng-if="!CommentService.website.hide_timestamp" datetime="2018-01-08 22:46:22" data-gc-tooltip="lundi 8 janvier 2018 22:46">il y a 3 ans</time><!---->
            <!----><a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}" data-gc-tooltip="Signaler une infraction">
              <i class="gcicon-alerte"></i>
            </a><!---->
          </div>
          <div class="gc-meta">
            <!---->
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <!---->
            <!---->
            <!---->
            <!---->
            <!---->
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content" ng-mouseenter="expandAfter1000ms()" ng-mouseleave="leaveExpand()">
          <!----><p class="inner-content" gc-embed="comment" gc-show-more="" ng-if="showRealContent()" ng-style="{ &#39;min-height&#39;: !bbf3d &amp;&amp; (contentHeight + &#39;px&#39;) }" embed-batch-id="comment._id" on-embed-detected="addEmbedData(data)" ng-bind-html="comment.content | htmlContent">la R16 très bonne routière moderne et surtout innovante avec sa cinquième porte pratique pour les vacances </p><!---->
          <!---->
        </div>

        <!-- In case an embed is detected in the comment -->
        <!---->

        <!----><footer class="gc-footer has-votes" ng-if="comment.status === &#39;approved&#39;" ng-class="{ &#39;has-votes&#39;: Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip cursor-pointer" ng-class="{ &#39;cursor-pointer&#39;: !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <!----><div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div><!---->
          </div>

          <div class="gc-btns">

            <button type="button" class="gc-share gc-btn" ng-click="shareComment($event)" ng-hide="$root.website.disable_share_discussion">
              <i class="gcicon-share"></i> <span translate="">Partager</span>
            </button>

            <!---->

            <button type="button" data-vote-btn="" class="gc-btn" ng-class="{ hover: $root.votePopin &amp;&amp; $root.votePopin.comment._id === comment._id &amp;&amp; $root.votePopin.required }" ng-click="startVote($event)" ng-hide="isOwner() || comment.rating.has_voted || $root.readonly">
               <i class="gcicon-thumb-up"></i> <span translate="">Voter</span>
            </button>

            <!----><button type="button" class="gc-btn fade-nimate" ng-disabled="answer_mode" ng-if="!CommentService.isLocked &amp;&amp; !$root.readonly" rel="g-comment-popup" ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate="">Répondre</span>
            </button><!---->

            <!---->

          </div>

        </footer><!---->

      </article>

    </div>

    <!-- Avatar/comment list -->
    <!---->
    <!-- End avatar list -->

    <!---->

    <!-- Appear when user wants to answer to that message -->
    <!---->

    <!-- Child comment -->
    <!---->
    <!---->
    <!-- End child comment -->

    <!---->

    <!---->

    <!-- ECD creator -->
    <!---->


    <!-- Comment Deletion Popin -->
    <!---->

    <!-- Fullscreen comment popin -->
    <!---->


    <!-- report POPIN -->
    <!---->


  </div><!---->
      <!---->
      <!---->
    </div><!----><!---->

    <!---->

    <!----><div class="gc-btn-show-more-container" ng-if="!$root.isWidget" ng-hide="showSkeleton || !CommentService.hasMoreComments() || yakli">
      <button class="gc-btn-show-more" ng-click="showMore()" translate="">Voir la suite</button>
    </div><!---->

    <!----><div ng-if="!$root.websiteNotFound &amp;&amp; !$root.loadingError &amp;&amp; !$root.isWidget &amp;&amp; !$root.skipLayout">
      <hr class="hr-footer ng-hide" ng-hide="CommentService.website.disable_user_page &amp;&amp; CommentService.website.disable_report_a_bug">
      <div class="gc-header-brand-wrapper clearfix">
          <ul class="gc-header-left">
            <!---->
            <!---->
            <!---->
            <!---->
            <!----><li class="gc-header-left" ng-if="$root.isOrange">
              <a style="margin-left: 20px; font-size: 18px; vertical-align: text-top;" ng-click="debugSpup()">
                <i class="gcicon-bug"></i>
              </a>
            </li><!---->
          </ul>
          <a href="https://graphcomment.com/" title="powered by GraphComment" target="_blank" rel="noopener" class="gc-header-brand custom-plan" ng-class="{ &#39;custom-plan&#39;: CommentService.website.rights !== &#39;free&#39; }">
            <small class="gc-header-brand-poweredby" translate="">powered by</small>
            <svg class="gc-header-brand-logo" title="Graph comment beta" height="24" width="116" viewBox="0 0 126 26">
              <use xlink:href="#graphcomment-brand-custom" ng-attr-xlink:href="{{ CommentService.website &amp;&amp; CommentService.website.rights &amp;&amp; CommentService.website.rights === &#39;custom&#39; ? &#39;#graphcomment-brand-custom&#39; : &#39;#graphcomment-brand&#39;}}"></use>
            </svg>
          </a>
      </div>
    </div><!---->

    <!---->

  </div>

    <div id="gc-smed-popup" ng-click="stopPropagation()">
    <div class="menu" ng-hide="linkInterface">
      <ul>
        <li>
          <a ng-click="selectModifier($event, &#39;bold&#39;)" ng-mousedown="$event.preventDefault()" class="bold"><span>B</span></a>
        </li>
        <li>
          <a ng-click="selectModifier($event, &#39;underline&#39;)" ng-mousedown="$event.preventDefault()" class="underline"><span>U</span></a>
        </li>
        <li>
          <a ng-click="selectModifier($event, &#39;italic&#39;)" ng-mousedown="$event.preventDefault()" class="italic"><span>I</span></a>
        </li>
        <!---->
        <li>
          <a ng-click="selectModifier($event, &#39;code&#39;)" ng-mousedown="$event.preventDefault()" class="code">
            <span>
              <i class="gcicon-code"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
    <div ng-show="linkInterface" class="ng-hide">
      <input type="url" placeholder="https://" class="gc-input gc-smed-input ng-pristine ng-untouched ng-empty ng-valid-url ng-invalid ng-invalid-required" ng-model="linkChosen" required="">
       <input type="submit" value="Insérer" translate="" ng-click="linkWithUrl();" unselectable="on">
    </div>
    <div class="arrow" ng-style="{&#39;margin-left&#39;: arrowOffset}"></div>
  </div>

    

    <!-- For graph comment directive -->
<script type="text/ng-template" id="graph_comment_module.html">

  <div class="gc-body" ng-class="[mainColorClass, mainThemeClass]">

    <auth-popin></auth-popin>

    <ban-popin ng-if="$root.banPopinVisible" user="$root.banPopinUser" callback="$root.banPopinCallback"></ban-popin>

    <profile-popin
      ng-if="popin.profile"
      user-id="{{ popin.profile.userId }}"
      show="{{ popin.profile }}"
      close="closeProfilePopin"
      offset="popin.profile.offset"
      full-profile="{{ popin.profile.fullProfile }}"
      from-menu="{{ popin.profile.fromMenu }}"
      edit-bio="{{ popin.profile.editBio }}"
      tab="{{ popin.profile.tab }}"
    ></profile-popin>

    <account-popin
      ng-if="popin.account"
      show="{{ popin.account }}"
    ></account-popin>

    <prefs-popin
      ng-if="popin.prefs"
      show="{{ popin.prefs}}"
    ></prefs-popin>

    <ask-email-popin
      ng-if="connectedUser && (!connectedUser.email || showAskEmailPopin) && !$root.isOrange"
      user="connectedUser"
    ></ask-email-popin>

    <share-popin
      ng-if="$root.popinShare"
      show="$root.popinShare"
      placement="$root.popinShare.placement"
      comment="$root.popinShare.comment"
    ></share-popin>

    <vote-popin
      ng-if="$root.votePopin"
      comment="$root.votePopin.comment"
      required="$root.votePopin.required"
    ></vote-popin>

    <div class="gc-header translate-cloak" ng-if="$root.gcReady && !$root.websiteNotFound && !$root.loadingError && !$root.isWidget && !$root.skipLayout">
      <div class="gc-headerItem gc-header-left">
        <h3 class="gc-headerItem-comment-number">
          <a ng-cloak ng-pluralize
             ng-init="commentLabel = {
                'none': 'comments.empty',
                'one': 'comments.singular',
                'other': 'comments.plural'
             }"
             ng-click="reloadAllComments()"
             class="hover"
             ng-class="{ 'has-new-comments': getNewCommentsNotOpened().length }"
             count="CommentService.total_comments"
             when="{
              '0': '{{commentLabel.none|translate}}',
              'one': '1 {{commentLabel.one|translate}}',
              'other': '{} {{commentLabel.other|translate}}'}"
            ></a>
        </h3>

        <div class="gc-headerItem-sort-container" ng-if="CommentService.comments.length">
          <a class="gc-headerItem-sort cursor-pointer" ng-click="showSortTooltip($event)">
            <span ng-bind-html="sortingLabel"></span>
            <i class="gcicon-readmore cursor-pointer" ng-if="sortingLabel" style="vertical-align: middle"></i>
          </a>
          <ul class="gc-dropdown align-right-mobile" ng-if="sortTooltipVisible">
            <li ng-class="{ 'active': sorting === 'relevance' }">
              <a ng-click="setSort('relevance')" translate>sort by relevance</a>
              <span
                class="gc-help-sort"
                ng-class="{'gc-help-sort--active': isSortHelpActive}"
                ng-mouseenter="enterSortHelp()"
                ng-mouseleave="leaveSortHelp()"
                ng-touchstart="toggleSortHelp()">
                <span class="gc-help-sort-button">?</span>
                <span class="gc-popin gc-help-sort-content" translate>
                  thread are sorted
                </span>
              </span>
            </li>
            <li ng-class="{ 'active': sorting === 'newest' }">
              <a ng-click="setSort('newest')" translate>newest</a>
            </li>
            <li ng-class="{ 'active': sorting === 'oldest' }">
              <a ng-click="setSort('oldest')" translate>oldest</a>
            </li>
            <li class="gc-dropdown-extra" ng-if="$root.gcUserHasPrivileges">
              <span class="super" translate>editor settings</span>
              <label>
                <input type="checkbox" ng-model="liveMode" ng-change="toggleLiveMode()" />
                <span translate>live discussion mode</span>
              </label>
            </li>
          </ul>
        </div>
      </div>

      <div class="gc-headerItem gc-not-logged" ng-hide="GcUser.isLocallyLogged() || $root.readonly">
        <a class="gc-connected-guest" ng-if="GcUser.getGuest()" ng-click="showGuestPopup($event)">
          {{'connected as guest' | translate}} ({{ GcUser.getGuest().username }})
          <i class="gcicon-close" ng-click="GcUser.logout()" title="{{ 'quit guest mode' | translate }}"></i>
        </a>
        <div ng-hide="CommentService.website.custom_client === 'orange'">
         <button class="gc-register-btn" ng-if="!CommentService.website.sso || !CommentService.website.sso.active"
            ng-click="showSignupPopup($event)" translate
          >register</button>
          <button class="gc-user-account gc-btn-default" ng-if="!CommentService.website.sso.active || CommentService.website.sso.unidirectional" ng-click="showSigninPopup($event)" type="button" translate>login</button>
          <div class="gc-user-account gc-btn-default gc-no-padding" ng-if="CommentService.website.sso && CommentService.website.sso.active && !CommentService.website.sso.unidirectional"><a href="{{sso_direct_link}}"translate>login</a></div>
       </div>
      </div>

      <div class="gc-headerItem gc-user-account" dropdown ng-show="GcUser.isLocallyLogged()">
        <div class="gc-notif" ng-if="notificationEnabled" ng-click="toggleNotifs()" ng-class="{ active: notifPanelOpen }">
          <i ng-class="unviewedNotifs().length ? 'gcicon-bell-full' : 'gcicon-bell'"></i>
          <span class="gc-notif-badge" ng-if="unviewedNotifs().length">{{unviewedNotifs().length}}</span>
        </div>
        <div class="gc-notif-panel" ng-show="notifPanelOpen" ng-style="notifsPos">
          <div class="gc-notif-title">
            {{ 'notifications' | translate }}
            <a ng-click="markAllAsRead()" class="pull-right">
              <img src="./images/loader.gif" class="gc-small-loader" ng-if="showNotifsLoader" />
              {{ 'mark all as read' | translate }}
            </a>
          </div>
          <ul class="gc-notif-panel-list" custom-scrollbar>
            <li class="gc-notif-panel-item"
              ng-repeat="(index, notif) in notifsVisible"
              ng-class="{ unviewed: !notif.view }"
              ng-if="availableNotifs.indexOf(notif.action) !== -1"
              data-index="{{ index }}"
            >
              <a ng-href="{{ notifLink(notif) }}"
                ng-click="onNotifClick($event, notif)"
                ng-attr-target="{{ isNotifOnDifferentPage(notif) ? '_blank' : '_self' }}"
              >
                <div class="gc-profile">
                  <img
                    class="gc-profile-picture" alt="" fallback-src
                    ng-src="{{ notifAvatar(notif) | userImage}}"
                  />
                </div>
                <div class="gc-notif-message">
                  <div class="gc-notif-text" ng-bind-html="notifText(notif)"></div>
                  <div class="gc-notif-meta">
                    <span class="gc-notif-icon" ng-bind-html="notifIcon(notif)"></span>
                    <span class="gc-notif-ago">{{ notif.created_at | fromNow }}</span>
                  </div>
                </div>
              </a>
            </li>
          </ul>
        </div>
        <button class="gc-profile-wrapper" dropdown-toggle>
          <div class="gc-profile">
            <img ng-src="{{connectedUser | userImage}}" class="gc-profile-picture" alt="" fallback-src/>
          </div>
          <span class="gc-profile-name">
            {{ connectedUser.pseudo || connectedUser.username }}
          </span>
        </button>
        <ul class="gc-popin gc-popin-menu list-menu" dropdown-menu>
          <li ng-if="$root.gcUserHasPrivileges && CommentService.website.rights !== 'free'" class="list-menu-item list-menu-item-editor">
            <button class="bt-menu" type="button" ng-click="GcECD.toggleEditorialMode(); trackOnce('menu:ecdmode')">
              <i class="gcicon-newtab gcicon--menu"></i>
              <span translate>{{ !GcECD.ecd_editorial_mode ? 'editor_mode' : 'editor_mode_close' }}</span>
            </button>
          </li>
          <li class="list-menu-item" ng-if="!CommentService.website.disable_install_link || $root.gcUserHasPrivileges">
            <a class="bt-menu" href="{{bo_url}}" target="_blank">
              <i class="gcicon--menu" ng-class="{'gcicon-pencil': connectedUser.has_website, 'gcicon-file-xml': !connectedUser.has_website}"></i>
              <span ng-if="$root.gcUserHasPrivileges" translate ng-click="trackOnce('menu:manage-site')">manage</span>
              <span ng-if="!$root.gcUserHasPrivileges" onclick="fbq('track', 'Lead');" ng-click="trackOnce('menu:install-site')" translate>install</span>
            </a>
          </li>
          <li class="list-menu-item" ng-if="$root.gcUserHasPrivileges">
            <a class="bt-menu" href="{{bo_moderate_url}}" target="_blank">
              <i class="gcicon--menu gcicon-comments"></i>
              <span translate ng-click="trackOnce('menu:moderate-comments')">moderate this page</span>
            </a>
          </li>
          <li class="list-menu-spacer"></li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="viewProfile(); trackOnce('menu:profile')">
              <i class="gcicon-user gcicon--menu"></i>
              <span translate>my profil</span>
            </button>
          </li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="viewComments(); trackOnce('menu:comments')">
              <i class="gcicon-comments2 gcicon--menu"></i>
              <span translate>my comments</span>
            </button>
          </li>
          <li class="list-menu-item">
            <button class="bt-menu" type="button" ng-click="openPrefsPopin(); trackOnce('menu:prefs')">
              <i class="gcicon-prefs gcicon--menu"></i>
              <span translate>my prefs</span>
            </button>
          </li>
          <li class="list-menu-item" ng-if="CommentService.website.custom_client !== 'orange' && !$root.ssoUnidirectionalEnabled()">
            <button class="bt-menu" type="button" ng-click="openAccountPopin(); trackOnce('menu:account')">
              <i class="gcicon-cog gcicon--menu"></i>
              <span translate>my account</span>
            </button>
          </li>
          <li class="list-menu-item" ng-if="CommentService.website.custom_client === 'orange'">
            <button class="bt-menu" type="button" ng-click="manageSpupPseudo()">
              <i class="gcicon-cog gcicon--menu"></i>
              <span translate>my pseudo</span>
            </button>
          </li>
          <li class="list-menu-item" ng-if="CommentService.website.custom_client !== 'orange' && !$root.ssoUnidirectionalEnabled()">
            <button class="bt-menu" type="button" ng-click="GcUser.logout()">
              <i class="gcicon-close gcicon--menu"></i>
              <span translate>deconnect</span>
            </button>
          </li>
        </ul>
      </div>
    </div>

    <!-- ECD -->
    <div class="gc-ecdHeader" ng-if="CommentService.ecd.length > 0 && !$root.skipLayout">
      <i class="gcicon-pin gc-ecdHeader-icon"></i>
      <span translate>best discussions</span>
    </div>
    <div id="gc-ecd" ng-if="CommentService.ecd.length > 0 && !$root.skipLayout">
      <ul id="gc-ecd-list">
        <li ng-repeat="ecd in CommentService.ecd" id="ecd-{{ecd._id}}">
          <div class="gc-ecd-list-item">
            <div class="ecd-left">
              <div ng-if="ecd.new_mode || ecd.edit_mode" class="ecd-edit-section">
                <input type="text" class="ecd-edit-title" ng-model="ecd.title" title="Type Something" focus maxlength="100" ng-keypress="GcECD.onKeypress($event, ecd)" />
              <div class="ecd-actions ecd-actions-save" ng-show="ecd.title.length > 2" ng-click="GcECD.saveECD(ecd)" title="{{'save'|translate}}"><i class="gcicon-check"></i></div>
                <div class="ecd-actions" ng-click="GcECD.deleteECD(ecd)" title="{{'delete'|translate}}"><i class="gcicon-close"></i></div>
              </div>
              <div ng-if="!ecd.new_mode && !ecd.edit_mode" class="ecd-title" ng-click="showEcd(ecd)">
                {{ecd.title}}
                <div class="ecd-edit-btn" ng-if="GcECD.ecd_editorial_mode && $root.gcUserHasPrivileges" ng-click="GcECD.editECD($event, ecd)">
                  <i class="gcicon-answer"></i>
                  <span translate>edit</span>
                </div>
              </div>

              <div class="ecd-meta" ng-if="ecd.created_at">
                {{ecd.created_at | moment:('YYMMDD'|translate)}}
                <button type="button"
                        class="gc-share gc-btn"
                        ng-click="shareDiscussion($event, ecd)"
                        data-id="comment-{{ecd._id}}">
                  <i class="gcicon-share"></i>
                  <span translate>share</span>
                </button>

                <!-- Share POPIN -->
                <div
                  class="gc-popin gc-popin-share"
                  ng-style="sharePopinMargin"
                  ng-if="ecd.showShare">

                  <div class="social-sharing">
                    <button class="sharing-button" ng-click="sharer('fb')">
                      <i class="gcicon-facebook"></i>
                    </button>
                    <button class="sharing-button" ng-click="sharer('twitter')">
                      <i class="gcicon-twitter"></i>
                    </button>
                    <button class="sharing-button" ng-click="sharer('google')">
                      <i class="gcicon-google"></i>
                    </button>
                  </div>

                  <input type="text"
                         ng-model="short_url"
                         class="share-shortened-url"
                         onclick="select()"
                         readonly />
                </div>
                <!-- ! Share POPIN -->
              </div>
            </div>
            <div class="ecd-right">
              <div class="ecd-right-inner">
                <div class="ecd-avatar-item" ng-repeat="cmt in ecd.comments | removeDuplicatedAvatar | limitTo:3">
                  <span class="ecd-avatar-wrap">
                    <img class="ecd-avatar" ng-if="cmt.user_picture" ng-src="{{cmt | ecdUserImage}}" alt="" fallback-src>
                    <img class="ecd-avatar" ng-if="!cmt.user_picture && cmt.cached_author.picture" ng-src="{{cmt.cached_author | userImage}}" alt="" fallback-src>
                  </span>
                  </div>
                <div class="white-mask" ng-if="ecd.comments.length >= 5"></div>
                <div class="ecd-count-participants-wrap">
                  <div class="ecd-count-participants">
                    <!--<span>120</span>--><!--TODO: Replace by real value when available-->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <!-- END OF ECD -->

    <p class="gc-comments-closed" ng-if="CommentService.isLocked" translate>comments are closed</p>
    <p class="gc-website-not-found" ng-if="$root.websiteNotFound" translate>websiteId not found</p>
    <p class="gc-yakli-not-found" ng-if="$root.yakliNotFound" translate>yakli not found</p>
    <p class="gc-sso-conflict" ng-if="$root.ssoConflict" ng-bind-html="'sso conflict error' | translate:({ username: $root.ssoConflictUsername })"></p>

    <div class="gc-website-loading-error" ng-if="$root.loadingError">
      <i class="gcicon-bug" style="font-size: 3em"></i>
      <p style="font-weight: bold">{{ 'error loading gc' | translate }}</p>
      <a ng-click="reloadPage()">
        <i class="gcicon-retry"></i>
        <span style="text-decoration: underline">{{ 'retry' | translate }}</span>
      </a>
    </div>

    <div class="gc-creator translate-cloak" ng-if="!$root.readonly && !$root.isWidget && !$root.skipLayout">
      <write-comment submitted="addComment(message)" active="false"
        ng-if="!CommentService.isLocked && !$root.websiteNotFound && !$root.loadingError"
      ></write-comment>
    </div>

    <a ng-pluralize
      ng-if="getNewCommentsNotOpened().length && $root.isViewportAboveFirstComment"
      ng-click="showNewComments($event)"
      class="gc-new-comments hover"
      count="getNewCommentsNotOpened().length"
      when="{
        '1': '{{&quot;one new comment&quot; | translate}}',
        'other': '{{&quot;x new comments&quot; | translate:{count: getNewCommentsNotOpened().length} }}'
      }"
    ></a>

    <div
      class="gc-ad"
      ng-if="CommentService.website && !CommentService.comments.length"
      html="{{$root.getAd(0)}}"
      html-script-timeout="2000"
    ></div>

    <div class="gc-yakli-options" ng-if="yakli && yakli.prev !== 0 && !threadRequestInProgress && !$root.isWidget && !$root.skipLayout">
      <span class="gc-yakli-options-start">
        <i class="gcicon-back-start"></i>
        <a ng-click="reloadAllComments()" translate>back beginning</a>
      </span>
      <span class="gc-yakli-options-prev">
        <i class="gcicon-eye"></i>
        <a ng-click="fetchAndAppendComments(true)">{{ 'view previous discussions' | translate:yakli }}</a>
      </span>
    </div>

    <div class="gc-skeleton" ng-if="!gcReady && !$root.websiteNotFound && !$root.loadingError && !$root.isWidget && !$root.empty">
      <div class="gc-skeleton-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line last"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-child-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow last">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-footer"></div>

    </div>

    <div class="gc-skeleton" ng-if="showSkeleton && (!CommentService.comments.length || CommentService.page === 0 || showSkeletonBefore)">
      <div class="gc-skeleton-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line last"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-child-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow last">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-footer"></div>

    </div>

    <div class="gc-last-comment-read-notice" ng-if="lastCommentReadNotice && !GcECD.ecd_editorial_mode" ng-style="lastCommentReadLineStyle">
      <a ng-click="jumpToLastCommentRead()" class="gc-last-comment-read-notice-text">
        <i ng-class="{ 'gcicon-arrow-up': lastCommentReadLineAbove, 'gcicon-arrow-down': lastCommentReadLineBelow }"></i>
        {{ 'has new comments since' | translate:({
          count: lastCommentReadCount,
          hour: (lastCommentReadDate | moment: 'LT'),
          date: (lastCommentReadDate | moment: 'LL' ),
        }) }}
      </a>
      <a class="gc-last-comment-read-notice-action" ng-click="resetLastCommentRead()">
        <i class="gcicon-close"></i>
      </a>
    </div>

    <div class="repeat-item"
      ng-if="gcReady"
      ng-class="{'gc-comment-editorial-mode': GcECD.ecd_editorial_mode && $root.gcUser}"
      ng-repeat="(index, comment) in CommentService.comments"
      ng-repeat-done="Perfs.done()"
    >
      <div
        class="gc-ad"
        ng-if="CommentService.website && index % 5 === 0 && $root.getAd(index / 5)"
        html="{{$root.getAd(index / 5)}}"
        html-script-timeout="2000"
      ></div>
      <div class="gc-last-comment-read-line"
        ng-if="lastCommentReadLine && $root.lastCommentRead === comment._id && !GcECD.ecd_editorial_mode"
      >
        <div>
          <i class="gcicon-double-chevron"></i>
          <span translate>new comments</span>
          <i class="gcicon-double-chevron"></i>
        </div>
      </div>
      <comment ng-if="!comment.editing && (!showSkeleton || index < CommentService.totalComments())" comment="comment" root="true" depth="0"></comment>
      <write-comment ng-if="comment.editing" comment="comment" submitted="editComment(comment)"></write-comment>
      <div class="gc-skeleton" ng-if="showSkeleton && !showSkeletonBefore && index === (CommentService.comments.length - 1)">
        <div class="gc-skeleton-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-line last"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-child-comment">
  <div class="gc-skeleton-avatar"></div>
  <div class="gc-skeleton-line first"></div>
  <div class="gc-skeleton-line"></div>
  <div class="gc-skeleton-actions">
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
    <div class="gc-skeleton-action"></div>
  </div>
</div>
<div class="gc-skeleton-bubble-flow last">
  <div class="gc-skeleton-bubble"></div>
  <div class="gc-skeleton-bubble"></div>
</div>
<div class="gc-skeleton-footer"></div>

      </div>
    </div>

    <div class="gc-yakli-options" ng-if="yakli && yakli.next !== 0 && !threadRequestInProgress && !$root.isWidget && !$root.skipLayout">
      <span class="gc-yakli-options-next">
        <i class="gcicon-eye"></i>
        <a ng-click="fetchAndAppendComments(false)">{{ 'view next discussions' | translate:yakli }}</a>
      </span>
    </div>

    <div class="gc-btn-show-more-container"
      ng-if="!$root.isWidget"
      ng-hide="showSkeleton || !CommentService.hasMoreComments() || yakli"
    >
      <button class="gc-btn-show-more" ng-click="showMore()" translate>showmore</button>
    </div>

    <div ng-if="!$root.websiteNotFound && !$root.loadingError && !$root.isWidget && !$root.skipLayout">
      <hr class="hr-footer" ng-hide="CommentService.website.disable_user_page && CommentService.website.disable_report_a_bug">
      <div class="gc-header-brand-wrapper clearfix">
          <ul class="gc-header-left">
            <li class="gc-header-left" ng-if="CommentService.website && !CommentService.website.disable_user_page">
              <a href="https://graphcomment.com/{{ getWebsiteLang() }}/conditions.html" title="{{'conditions-d-utilisations' | translate}}" target="_blank" rel="noopener">{{'conditions-d-utilisations' | translate}}</a>
            </li>
            <li class="gc-header-left" ng-if="CommentService.website && !CommentService.website.disable_user_page">
              <a href="https://graphcomment.com/{{ getWebsiteLang() }}/conditions.html#5" title="{{'confidentialite' | translate}}" target="_blank" rel="noopener">{{'confidentialite' | translate}}</a>
            </li>
            <li class="gc-header-left" ng-if="CommentService.website && !CommentService.website.disable_report_a_bug">
              <a ng-href="{{supportLink}}" title="{{'report bug' | translate}}" target="_blank" rel="noopener">{{'report bug' | translate}}</a>
            </li>
            <li class="gc-header-left" ng-if="CommentService.website.rss">
              <a ng-href="{{rssLink}}" title="{{'rss feed' | translate}}" target="_blank" rel="noopener" style="font-weight: bold">{{'rss feed' | translate}}</a>
            </li>
            <li class="gc-header-left" ng-if="$root.isOrange">
              <a style="margin-left: 20px; font-size: 18px; vertical-align: text-top;" ng-click="debugSpup()">
                <i class="gcicon-bug"></i>
              </a>
            </li>
          </ul>
          <a href="https://graphcomment.com" title="powered by GraphComment" target="_blank" rel="noopener"
            class="gc-header-brand"
            ng-class="{ 'custom-plan': CommentService.website.rights !== 'free' }"
          >
            <small class="gc-header-brand-poweredby" translate>powered by</small>
            <svg class="gc-header-brand-logo" title="Graph comment beta" height="24" width="116" viewbox="0 0 126 26">
              <use xlink:href="" ng-attr-xlink:href="{{ CommentService.website && CommentService.website.rights && CommentService.website.rights === 'custom' ? '#graphcomment-brand-custom' : '#graphcomment-brand'}}"></use>
            </svg>
          </a>
      </div>
    </div>

    <div class="gc-popin gc-popin--spup" ng-if="$root.isOrange && spupPopinOpen">
      <a class="gc-popin-close" ng-click="closeSpupPopin()">
        <i class="gcicon-close gcicon--menu"></i>
      </a>
      <h4 translate>spup report title</h4>
      <p translate>spup report desc</p>
      <input type="text"
        class="spup-report-number"
        ng-model="spupReportNumber"
        placeholder="{{ 'spup report number' | translate }}"
      />
      <button type="submit" class="gc-btn-default" ng-click="sendSpupReport()" translate>send</button>
    </div>

  </div>
</script>
    
<!-- Comment directive -->
<script type="text/ng-template" id="comment.html">

  <div
    id="comment-{{comment._id}}"
    ng-mouseenter="canModerate() && checkIsBan()"
    ng-class="{
      'gc-node' : !comment.parent_id || root,
      'gc-node-expanded' : childComment && depth == 0,
      'gc-focused' : FocusService.focusActivated() && FocusService.getFocusId() === rootCommentId,
      'gc-non-focused' : FocusService.focusActivated() && FocusService.getFocusId() !== rootCommentId,
      'gc-is-new': comment.is_new,
    }">

    <div class="gc-stats">
      <div class="gc-btn gc-tag" ng-if="comment.status === 'pending'">
        <i class="gcicon-clock"></i>
        <span translate>comment waiting moderation</span>
      </div>
      <div class="gc-btn gc-tag" ng-if="comment.isNew">
        <span ng-if="!comment.parent_id" translate>new comment</span>
        <span ng-if="comment.parent_id" translate>new answer</span>
      </div>
      <span ng-if="comment.pinned" class="gc-btn gc-tag gc-theme-bg">
        <i class="gcicon-pin"></i>
        {{ 'pin by redaction' | translate }}
      </span>
      <div class="gc-stats-count" style="display: none" ng-if="(!comment.parent_id || root) && comment.child_comments.length">
        <span class="gc-btn" ng-if="comment.child_comments.length"> {{comment.comments}} <i class="gcicon-comment"></i></span>
        <span class="gc-btn" ng-if="comment.child_comments.length"> {{comment.participants}} <i class="gcicon-user"></i></span>
      </div>
    </div>

    <div class="gc-message"
         ng-class="{
            'gc-main-level' : !comment.parent_id || root,
            'gc-second-level' : comment.parent_id && !root,
            'gc-has-children' : comment.child_comments.length,
            'editorial-mode' : ecd_creation_mode,
            'editor-selection' : comment.editor_choice
          }">

      <div class="gc-avatar"
        ng-class="{ 'is-guest': comment.guest, 'is-new': bbf3d && comment.is_new }"
        ng-click="$root.toggleProfilePopin($event, comment.author._id)"
        ng-mouseenter="$root.openProfilePopinTimer($event, comment.author._id, 500)"
        ng-mouseleave="$root.cancelProfilePopinTimer()"
      >
        <div class="gc-rounded">
          <img ng-src="{{comment | extractImgCmt}}" alt="" fallback-src>
        </div>
      </div>
      <aside class="gc-editorial-selection"
             ng-if="ecd_creation_mode"
             ng-click="editorChoice()"
             ng-class="{'editor-selection' : comment.editor_choice}">
        ✓
      </aside>

      <a
        class="gc-comment-fullscreen"
        ng-if="comment.isNew && comment.parent_id"
        ng-click="openCommentFullscreen($event)"
        data-gc-tooltip="{{ 'Open discussion' | translate }}"
        data-gc-tooltip-right data-gc-tooltip-disable-touch
      >
        <i class="gcicon-fullscreen"></i>
      </a>

      <article class="gc-comment" ng-class="{'gc-comment--has-answers': comment.child_comments && comment.child_comments.length > 0}">
        <header>
          <h1 class="gc-title">
            <a class="cursor-pointer" ng-if="!comment.guest" ng-click="$root.openProfilePopin($event, comment.author._id)">
              {{comment | extractUsername}}
            </a>
            <span ng-if="comment.guest">
              {{comment | extractUsername}}
              <small ng-if="comment.guest">({{'guest'|translate}})</small>
            </span>
            <span ng-if="comment | isAdministrator" class="gc-grade owner">
              {{ $root.website.labels && $root.website.labels.owner || ('owner' | translate) }}
            </span>
            <span ng-if="(comment | isModerator) && !(comment | isAdministrator)" class="gc-grade moderator">
              {{ $root.website.labels && $root.website.labels.moderator || ('moderator' | translate) }}
            </span>
          </h1>
          <a class="gc-answered-to"
            ng-click="openCommentFullscreen($event)"
            ng-if="comment.isNew && comment.parent"
            ng-bind-html="'answered to' | translate:{ user: (comment.parent | getUserAvatar) }"
          ></a>
          <div class="gc-nowrap">
            <time class="gc-time"
              ng-click="logCmt($event)"
              ng-if="!CommentService.website.hide_timestamp"
              datetime="{{ (comment.content_edited_at || comment.created_at) | dateTime }}"
              data-gc-tooltip="{{ (comment.content_edited_at || comment.created_at) | simpleDate }}">{{ (comment.content_edited_at || comment.created_at) | fromNow }}
            </time>
            <a class="gc-report" ng-if="canReport()" ng-click="openReportPopin($event)" ng-class="{show: popin.report}"
              data-gc-tooltip="{{ Utils.isMobile() ? '' : 'report to moderators' | translate }}"
            >
              <i class="gcicon-alerte"></i>
            </a>
          </div>
          <div class="gc-meta">
            <a class="gc-edited" translate
              ng-if="comment.is_edited && comment.status !== 'refused'"
              data-gc-tooltip="{{comment.content_edited_at | simpleDate}}"
            >edited</a>
            <!--
            <span class="gc-vr" ng-if="comment.views > 0 && canModerate()">|</span>
            <a class="gc-views" ng-if="comment.views > 0 && canModerate()"
              data-gc-tooltip="{{ 'nbr time comment seen' | translate:{nbr:comment.views} }}"
            >
              <i class="gcicon-view"></i> {{comment.views}}
            </a>
            -->
            <span class="gc-vr" ng-if="canModerate() || canEdit() || canDelete()">|</span>
            <a class="gc-edit" data-gc-tooltip="{{ 'edit your comment' | translate | capitalize }}" ng-if="canEdit()" ng-click="startEdit()">
              <i class="gcicon-edit"></i>
            </a>
            <a class="gc-delete" data-gc-tooltip="{{ 'delete' | translate }}" ng-click="deleteModal($event)"
              ng-if="canDelete()"
            >
              <i class="gcicon-remove"></i>
            </a>
            <a class="gc-action" data-gc-tooltip="{{ 'signal as spam' | translate }}" ng-click="signalAsSpam($event)" ng-if="canModerate()">
              <i class="gcicon-spam"></i>
            </a>
            <a class="gc-action gc-action-ban" ng-class="{ red: userIsBanned }" ng-click="banUser($event, comment)" ng-if="canModerate()">
              <i class="gcicon-ban"></i>
            </a>
          </div>

        </header>

        <!-- comment.content when status is approved -->
        <div class="gc-content"
          ng-mouseenter="expandAfter1000ms()"
          ng-mouseleave="leaveExpand()"
        >
          <p class="inner-content"
            gc-embed="comment"
            gc-show-more
            ng-if="showRealContent()"
            ng-style="{ 'min-height': !bbf3d && (contentHeight + 'px') }"
            embed-batch-id="comment._id"
            on-embed-detected="addEmbedData(data)"
            ng-bind-html="comment.content | htmlContent"
          ></p>
          <p
            class="inner-content gc-comment-removed"
            ng-if="!showRealContent()"
            ng-style="{ 'min-height': contentHeight + 'px' }"
          >
            {{ comment.content === 'deleted_by_user' ? 'message deleted by user' : 'message deleted' | translate }}
          </p>
        </div>

        <!-- In case an embed is detected in the comment -->
        <div class="gc-embed" ng-repeat="embed in embeds" ng-if="comment.status !== 'refused'" ng-class="{'gc-embed--active': embed.embedActivated}">

          <!-- video -->
          <div class="gc-embed-video" ng-if="embed.type == 'video'">
            <div class="gc-embed-video-media" ng-if="!embed.embedActivated" ng-click="onEmbedThumbnailClick(embed)">
              <img class="gc-embed-video-thumbnail" ng-src="{{embed.thumbnail_url}}" alt="">
              <div class="gcicon-play2"></div>
            </div>
            <div class="gc-embed-video-player" ng-if="embed.embedActivated" ng-bind-html="embed.html | htmlSafe"></div>
            <div class="gc-embed-info" ng-if="!embed.embedActivated">
              <div class="gc-embed-info-title"><a href="{{embed.initialUrl}}" target="_blank" rel="noopener">{{embed.title}}</a></div>
              <div ng-if="embed.description" class="gc-embed-info-description">{{embed.description | truncate:300}}</div>
              <div ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</div>
            </div>
          </div>

          <!-- image -->
          <div class="gc-embed-photo" ng-if="embed.type == 'photo'">
            <a class="remove" ng-if="$root.gcUser && $root.gcUser._id === comment.author._id && embed.hosted" ng-click="removeHostedFile(embed)">
              <i class="gcicon-close"></i>
            </a>
            <a ng-attr-href="{{embed.fileId === 'preview' ? undefined : embed.url}}" target="_blank">
              <img ng-src="{{embed.url}}" alt="">
            </a>
            <span ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</span>
            <span ng-if="embed.author_name && embed.author_url" class="gc-embed-info-description">
              (<span translate>author</span> <a ng-href="{{embed.author_url}}" target="_blank" rel="noopener">{{embed.author_name}}</a>)
            </span>
          </div>

          <!-- rich content -->
          <div class="gc-embed-rich" ng-if="embed.type == 'rich'">
            <div ng-bind-html="embed.html | htmlSafe"></div>
          </div>

          <!-- Open Graph -->
          <div class="gc-embed-og" ng-if="embed.type == 'opengraph'">
            <div class="gc-embed-og-media" ng-if="embed.image">
              <div class="gc-embed-og-thumbnail-wrapper">
                <div class="gc-embed-og-thumbnail" ng-style="{'background-image':'url({{embed.image}})'}"></div>
              </div>
            </div>
            <div class="gc-embed-info">
              <div class="gc-embed-info-title"><a href="{{embed.initialUrl}}" target="_blank" rel="noopener" ng-bind-html="embed.title"></a></div>
              <div ng-if="embed.description" class="gc-embed-info-description" ng-bind-html="embed.description | truncate:200"></div>
              <div ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</div>
            </div>
          </div>
        </div>

        <footer class="gc-footer" ng-if="comment.status === 'approved'" ng-class="{ 'has-votes': Utils.getVoters(comment, true) }">

          <div class="gc-vote-result gc-votes-count-tooltip" ng-class="{ 'cursor-pointer': !CommentService.website.votes_discreet }">
            <div ng-bind-html="comment.top_voters" class="gc-votes-count-tooltip-info"></div>
            <div class="gc-votes-count-tooltip-content" ng-if="!CommentService.website.votes_discreet" ng-bind-html="comment.votes_count"></div>
          </div>

          <div class="gc-btns">

            <button type="button"
               class="gc-share gc-btn"
               ng-click="shareComment($event)"
               ng-hide="$root.website.disable_share_discussion"
             >
              <i class="gcicon-share"></i> <span translate>share</span>
            </button>

            <span class="gc-btn voted" data-vote-btn
              ng-if="comment.rating.has_voted"
              ng-click="startVote($event)"
              data-gc-tooltip="{{comment.rating.vote_rate | plusminusLabel | translate}}"
            >
              <i class="gcicon-rate"></i>
            </span>

            <button type="button" data-vote-btn
               class="gc-btn"
               ng-class="{ hover: $root.votePopin && $root.votePopin.comment._id === comment._id && $root.votePopin.required }"
               ng-click="startVote($event)"
               ng-hide="isOwner() || comment.rating.has_voted || $root.readonly"
               ng-class="{'vote-in-selection' : rating.show}"
             >
               <i class="gcicon-thumb-up"></i> <span translate>vote</span>
            </button>

            <button type="button"
               class="gc-btn fade-nimate"
               ng-disabled="answer_mode"
               ng-if="!CommentService.isLocked && !$root.readonly"
               rel="g-comment-popup"
               ng-click="answer()">
              <i class="gcicon-answer"></i> <span translate>answer</span>
            </button>

            <div class="gc-sorting-score"
              ng-if="$root.showCommentScores && $root.gcUser && $root.gcUser.role === 'admin' && comment.result !== undefined"
            >{{ comment.result | round:2 }}</div>

          </div>

        </footer>

      </article>

    </div>

    <!-- Avatar/comment list -->
    <div class="gc-slider"
         ng-class="{'gc-slider--last': !childComment}"
         ng-if="comment.child_comments && comment.child_comments.length > 0">

      <div class="gc-ctrl-left" ng-if="canSlidePrev()">
        <button class="gc-slider-button" ng-click="sliderPrev()" aria-label="previous comment">
          <i class="gcicon-caret-left"></i>
        </button>
      </div>

      <div class="gc-ctrl-left" ng-if="canSlidePrevPage()">
        <button class="gc-slider-button" ng-click="sliderPagePrev()" aria-label="previous page">
          <i class="gcicon-rewind"></i>
        </button>
      </div>

      <div class="gc-slider-arrow" ng-if="canShowArrow()">
        <i class="gcicon-arrow-reply-small"></i>
      </div>

      <div class="gc-slider-container">
        <ul class="gc-slider-slides" ng-class="{ 'show-fade': comment.child_comments.length > 3 }">
          <li class="gc-slider-item"
              ng-repeat="cmt in comment.child_comments | slice:(sliderPage * SliderService.maxVisibleAvatar) | limitTo:SliderService.maxVisibleAvatar track by $index"
              ng-click="toggleComment(cmt)"
              ng-class="{'gc-slider-item--active' : childComment && childComment._id === cmt._id}"
              ng-init="initDisplayIndex(cmt, $index)">
            <button type="button" class="gc-slider-avatar" ng-class="{
              'gc-slider-avatar--active' : childComment && childComment._id === cmt._id,
              'gc-red' : cmt.is_read,
              'gc-new' : cmt.is_new || cmt.has_new_replies,
            }">
              <img ng-src="{{cmt | extractImgCmt}}" class="gc-slider-img" alt="{{ cmt | extractUsername }}" fallback-src>
            </button>
          </li>
          <li class="underline"></li>
        </ul>
      </div>

      <button class="gc-slider-button gc-next" ng-if="canSlideNext()" ng-click="sliderNext()" aria-label="next comment">
        <i class="gcicon-caret-right"></i>
      </button>

      <button class="gc-slider-button gc-next" ng-if="canSlideNextPage()" ng-click="sliderNextPage()" aria-label="next page">
        <i class="gcicon-forward"></i>
      </button>

      <div class="gc-slider-spacer"></div>

      <div class="gc-slider-meta">
        <a class="gc-slider-meta-expand" ng-click="openBbf3d($event)" ng-if="canOpenBbf3d() && !Utils.inOverlay()">
          <i class="gcicon-eye hide-mobile"></i>
          <span>{{ 'read answers' | translate:{ count: comment.count_child } }}</span>
        </a>

      </div>
    </div>
    <!-- End avatar list -->

    <button type="button" ng-if="comment.parent_id && depth !== 0 && !bbf3d" class="gc-close" ng-click="closeParent()" aria-lable="hide replies">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate>cancel</span>
    </button>

    <!-- Appear when user wants to answer to that message -->
    <div class="comment-answer" ng-if="answer_mode">
      <write-comment
         active="true"
         parent-comment="comment"
         has-voted="{{comment.rating.has_voted}}"
         rating="rating"
         submitted="addComment(message)"
         close="closeAnswer()">
      </write-comment>
    </div>

    <!-- Child comment -->
    <div class="child-comment" ng-if="childComment && !childComment.editing && !bbf3d">
      <comment
        class="slide"
        ng-animate-swap="childComment._id"
        parent-id="{{comment._id}}"
        parent-comment="comment"
        comment="childComment"
        depth="depth + 1"
        bbf3d="{{ bbf3d }}"
        ecd_creation_mode="ecd_creation_mode"
      ></comment>
    </div>
    <div class="child-comment" ng-if="childComment && childComment.editing">
      <write-comment
        class="comment-answer"
        parent-comment="comment"
        comment="childComment"
        submitted="editComment(childComment)"
      ></write-comment>
    </div>
    <!-- End child comment -->

    <bbf3d comment="bbf3dComment" ng-if="bbf3dVisible"></bbf3d>

    <button type="button"
       class="gc-share-discussion gc-btn"
       ng-class="{'fix-share':comment.parent_id && !childComment}"
       ng-if="comment.parent_id && !root && comment.status != 'pending' && !answer_mode && !childComment && !bbf3d && !$root.website.disable_share_discussion"
       ng-click="shareComment($event)">
      <i class="gcicon-share"></i> <span translate>share_discussion</span>
    </button>

    <!-- ECD creator -->
    <div class="gc-cmt-editorial-inner"
      ng-if="GcECD.ecd_editorial_mode && depth == 0 && $root.gcUserHasPrivileges && CommentService.website.rights !== 'free' && !$root.isWidget">

      <button type="button" class="gc-edit gc-link gc-btn" ng-click="pinComment()">
        <i class="gcicon-newtab"></i> <span translate>{{ comment.pinned ? 'unpin' : 'pin' | translate }}</span>
      </button>

      <button type="button"
         class="gc-edit gc-btn"
         ng-click="emitToChild()">
        <i class="gcicon-newtab"></i> <span translate>editorialize</span>
      </button>

      <div class="gc-editorial-actions" ng-if="ecd_creation_mode">
        <div class="gc-ed-validate" ng-class="{'gc-ed-validate-cannot': CommentService.getSelectedECD().length === 0 }" ng-click="GcECD.validateECD()" title="{{ 'validate ecd' | translate }}">
          ✓
        </div>
        <div class="gc-ed-cancel" ng-click="GcECD.cancelECD()" title="{{ 'cancel ecd' | translate }}">
          ✖
        </div>
      </div>
    </div>


    <!-- Comment Deletion Popin -->
    <div class="gc-popin-wrapper has-overlay" ng-click="commentDeletionPopinOverlayClick($event)" ng-if="showCommentDeletionPopin">
      <div class="gc-popin gc-popin--comment-deletion"
        ng-style="$root.deleteCommentPopinCoord && { top: $root.deleteCommentPopinCoord.y + 'px' }"
      >

        <button class="gc-popin-close" ng-click="hideDeletionPopin()">
          <i class="gcicon-close"></i>
          <span class="u-sr-only" translate>close</span>
        </button>

        <div class="text-left" ng-if="canModerate()">
          <label class="gc-label" translate>motif</label>
          <select class="gc-input" ng-model="comment.motif_id" convert-to-number>
            <option ng-repeat="(key, value) in motifs" value="{{key}}">{{value}}</option>
          </select>

          <label class="gc-label" translate>motif description</label>
          <textarea class="gc-input" ng-model="comment.motif"></textarea>
        </div>

        <div ng-if="showCommentDeletionPopinComment.child_comments.length && canModerate()">
          <p class="comment-deletion-message" translate>comment deletion message</p>
          <div class="comment-preview" ng-bind-html="comment.content"></div>

          <div class="btns">
            <button class="gc-btn-primary" type="button" ng-click="refuse()" translate>yes, keep</button>
            <button class="gc-btn-primary" type="button" ng-click="delete()" translate>no, remove</button>
          </div>
        </div>

        <div ng-if="showCommentDeletionPopinComment.child_comments.length === 0 || !canModerate()">
          <p class="comment-deletion-message" translate>are you sure</p>
          <div class="comment-preview" ng-bind-html="comment.content"></div>

          <div class="btns">
            <button class="gc-btn" type="button" ng-click="hideDeletionPopin()" style="margin-left:10px" translate>keep comment</button>
            <button class="gc-btn-primary" type="button" ng-click="delete()" style="margin-left:10px" translate>delete comment</button>
          </div>
        </div>

      </div>
    </div>

    <!-- Fullscreen comment popin -->
    <div class="gc-popin-wrapper has-overlay gc-comment-fullscreen-popin" ng-if="commentFullscreen">
      <div class="gc-popin gc-comment-fullscreen-popin-inner" ng-style="{ 'margin-top': commentFullscreenTop }">
        <a class="gc-close" ng-click="closeCommentFullscreen()">
          <i class="gcicon-close"></i>
        </a>
        <comment ng-if="!commentFullscreen.editing" comment="commentFullscreen" root="true" depth="0"></comment>
        <write-comment ng-if="commentFullscreen.editing" comment="commentFullscreen" submitted="editComment(commentFullscreen)"></write-comment>
      </div>
    </div>


    <!-- report POPIN -->
    <div class="gc-popin gc-popin-report"
      ng-style="{'top': reportPopinCoord.y +'px', 'left': reportPopinCoord.x +'px' }"
      ng-if="popin.report">

      <button class="gc-popin-close" ng-click="closeReportPopin()">
        <i class="gcicon-close"></i>
        <span class="u-sr-only" translate>close</span>
      </button>

      <p class="gc-popin-title" translate>report to moderators</p>

      <form method="post" ng-submit="reportComment()" name="fReport">

        <input type="email" required
          class="gc-input"
          ng-model="reportData.email"
          placeholder="{{ 'email' | translate | capitalize }}"
        />

        <textarea
          class="gc-input"
          ng-model="reportData.content"
          placeholder="{{ 'describe report infraction' | translate }}"
        ></textarea>

        <p class="gc-popin-italic" translate>your ip will be recorded</p>

        <p ng-if="reportSuccess" class="gc-popin-success u-center" translate>report success</p>

        <button class="gc-btn-primary" type="submit" translate
          ng-disabled="(fReport.$dirty && fReport.$invalid) || reportSuccess"
        >send</button>

        <a class="gc-link-cancel" ng-click="closeReportPopin()" translate>cancel</a>
      </form>
    </div>


  </div>

</script>

    <script type="text/ng-template" id="authPopin.html">

  <div ng-if="show" ng-click="overlayClick($event)" class="gc-popin-wrapper has-overlay">

    <section ng-style="popinStyle" id="gc-popin" class="gc-popin gc-popin--auth" ng-class="{'has-custom-image': !!customImage}">

      <div class="gc-popin-left">

        <button class="gc-popin-close" ng-click="cancelAndClose()">
          <i class="gcicon-close"></i>
          <span class="u-sr-only" translate>close</span>
        </button>

        <div class="gc-popin-left-top">

          <div class="gc-popin-logo" ng-show="gcReady && !customImage">
            <svg class="gc-loader-logo" title="GraphComment beta" height="30" width="30" viewbox="0 0 30 30">
              <use xlink:href="#graphcomment-logo" width="30" height="30"></use>
            </svg>
            <svg class="gc-loader-brand" title="GraphComment beta" height="20" width="160" viewbox="0 0 160 20">
              <use xlink:href="#graphcomment-brand" width="160"></use>
            </svg>
            <span class="gc-loader-baseline" translate>Open discussion</span>
          </div>

          <div class="gc-custom-image" ng-show="gcReady && customImage">
            <img ng-src="{{BASE_URL}}/{{customImage}}" alt="" />
          </div>
        </div>

        <ul class="gc-signup-splash" ng-if="page !== 'signin' && page !== 'resetPass'">
          <li class="gc-signup-splash-item" ng-class="{'fade': splashStart}" translate>join the <span class="gc-splash-em">community</span></li>
          <li class="gc-signup-splash-item" ng-class="{'fade': splashStart}" translate>build your <span class="gc-splash-em">reputation</span></li>
          <li class="gc-signup-splash-item" ng-class="{'fade': splashStart}" translate>be <span class="gc-splash-em">relevant</span></li>
          <li class="gc-signup-splash-item" ng-class="{'fade': splashStart}" translate>you will be <span class="gc-splash-em">put forward</span></li>
        </ul>

        <div ng-if="page === 'signin' || page === 'resetPass'">
          <p class="gc-popin-title" ng-if="hasSocialLogins" translate>connect with</p>

          <div class="social-buttons">

            <button
              ng-repeat="login in logins"
              class="social-button social-button--{{ login }}" type="button"
              ng-click="loginWith(login)"
              ng-if="login !== 'email' && !website.sso.active || website.sso[login]"
            >
              <i class="gcicon-{{ login }}"></i>
              <span><span translate>connect via</span> {{ login | capitalize }}</span>
            </button>

            <a ng-click="openRegisterPopup()"
              ng-if="website.sso.active && website.sso.register"
              translate
            >register</a>
          </div>
        </div>


        <p ng-if="showLink === 'signin'" class="gc-popin-page-link">
          {{'already registered'|translate}}
          <a class="underline" ng-click="showPage.signin($event)" translate>log in</a>
        </p>

        <p ng-if="showLink === 'signup'" visible="website.login.email" class="gc-popin-page-link" ng-hide="website.sso.active">
          {{'not yet registered'|translate}}
          <a class="underline" ng-click="showPage.signup($event)" translate>register now</a>
        </p>
      </div>

      <div class="gc-popin-right">

        <button class="gc-popin-close" ng-click="cancelAndClose()">
          <i class="gcicon-close"></i>
          <span class="u-sr-only" translate>close</span>
        </button>


        <!-- Sign in -->

        <div ng-if="page === 'signin'">

          <p class="gc-popin-title" style="width: 70%; margin-left: auto; margin-right: auto;">
            {{'login with your account'|translate}}
            <br>
            <span class="gc-popin-brand" ng-hide="website.sso.active">Graph<b>Comment</b></span>
          </p>

          <form method="post"
                ng-submit="signin()"
                name="fSignin">
            <fieldset class="gc-signin-form" class="txtcenter">

              <input class="gc-input"
                     ng-model="user.username"
                     required="true"
                     type="text"
                     name="login"
                     ng-minlength="2"
                     ng-maxlength="100"
                     placeholder="{{'email or username'|translate}}">

              <input class="gc-input"
                ng-model="user.password"
                type="password"
                name="password"
                required="true"
                placeholder="{{'password'|translate}}"
              >

              <p ng-show="err && err === 'bad credentials'" class="gc-signin-error-msg" translate>authentication error</p>
              <p ng-show="err && err === 'server error'" class="gc-signin-error-msg" translate>server error</p>

              <button class="gc-btn-primary" type="submit" ng-disabled="fSignin.login.$dirty && fSignin.password.$dirty  &&  fSignin.$invalid" translate>
                authenticate
              </button>

              <a class="gc-recover-password-link" ng-click="showPage.resetPass($event)" ng-hide="website.sso.active" translate>recover password</a>

              <a ng-if="website.guest" class="gc-post-as-guest" ng-click="showPage.guest($event)" translate>prefer post as guest</a>
            </fieldset>
          </form>
        </div>


        <!-- signup -->

        <div ng-if="page === 'signup'">

          <p class="gc-popin-title" translate>create an account</p>

          <div class="gc-signup-form">
            <div class="social-buttons">

              <button
                ng-repeat="login in logins"
                class="social-button social-button--{{ login }}" type="button"
                ng-click="loginWith(login)"
                ng-if="login !== 'email' && !website.sso.active || website.sso[login]"
              >
                <i class="gcicon-{{ login }}"></i>
                <span><span translate>connect via</span> {{ login | capitalize }}</span>
              </button>

            </div>

            <p class="register-with-email"
              ng-if="website.login.email"
              translate="register with email"
              translate-values="{email: '<a href=\'#\' ng-click=\'showPage.signupEmail($event)\'>{{ 'email' | translate | capitalize }}</a>'}"
              translate-compile
            ></p>

            <p class="dont-resell-emails">
              <i class="gcicon-lock"></i>
              {{'we dont resell emails' | translate}}
              <br>
              <span ng-bind-html="'terms and conditions' | translate"></span>
            </p>

            <a ng-if="website.guest" class="gc-post-as-guest" ng-click="showPage.guest($event)" translate>prefer post as guest</a>
          </div>

        </div>


        <!-- signup (email) -->

        <div ng-if="page === 'signupEmail'">

          <p class="gc-popin-title">
            {{'create an account'|translate}}
            <br>
            <span class="gc-popin-brand">Graph<b>Comment</b></span>
          </p>

          <form id="sign_up" ng-submit="signup()" name="fSignup">

            <fieldset class="gc-signup-email-form">

              <input type="hidden" name="from_website" value="{{websiteId}}" />

              <input class="gc-input"
                     ng-class="{'ng-invalid': data.username === signupConflictedUsername}"
                     ng-model="data.username"
                     required="true"
                     type="text"
                     name="username"
                     ng-minlength="4"
                     ng-maxlength="30"
                     placeholder="{{'username'|translate}}">

              <div ng-show="fSignup.username.$invalid && fSignup.username.$dirty" class="error-help" translate>
                error login length
              </div>

              <div ng-show="data.username && data.username === signupConflictedUsername"
                class="error-help" translate translate-values="{username:signupConflictedUsername}"">username already used</div>

              <input class="gc-input"
                 ng-class="{'ng-invalid': data.email === signupConflictedEmail}"
                 ng-model="data.email"
                 type="email"
                 name="email"
                 placeholder="{{'email'|translate|capitalize}}"
                 required="true">

              <div ng-show="fSignup.email.$invalid && fSignup.email.$dirty" class="error-help" translate>
                error email
              </div>

              <div ng-show="data.email && data.email === signupConflictedEmail" class="error-help" translate>email already used</div>

              <input class="gc-input"
                     ng-model="data.password"
                     type="password"
                     name="password"
                     required="true"
                     placeholder="{{'password' | translate}}"
                     ng-minlength="6"
                     ng-maxlength="20">

              <!-- Allow API to return content-type = text/html to work in IE9 -->
              <input type="hidden" name="ie" value="ie" >

              <input type="hidden" name="language" ng-value="data.language" >

              <div ng-show="fSignup.password.$invalid && fSignup.password.$dirty" class="error-help" translate>
                error password length
              </div>

              <label class="upload-container">
                <img ng-src="{{avatarSrc || '/images/avatar_3.png'}}" class="upload-avatar" alt="" />
                <input type="file" name="picture" class="gc-input" fileread="data.avatar" custom-on-change="onAvatarUpload" />
                <span translate>add avatar</span>
              </label>

              <div ng-show="signupErr === 'unknown error'" class="error-help" translate>{{signupErr}}</div>

              <button class="gc-btn-primary" type="submit"
                ng-disabled="fSignup.$dirty && fSignup.$invalid" translate
              >register me</button>

              <a class="gc-link-cancel" ng-click="showPage.back($event)" translate>cancel</a>
            </fieldset>
          </form>
        </div>


        <!-- guest form -->

        <div ng-if="page === 'guest'">

          <p class="gc-popin-title" translate>post as guest</p>
          <p class="gc-popin-note" translate>{{ website.guest_moderate ? 'guest note moderate' : 'guest note' }}</p>

          <form method="post"
                ng-submit="submitGuest()"
                name="forms.fGuest">
            <fieldset class="gc-guest-form" class="txtcenter">

              <input class="gc-input"
                ng-model="data.username"
                required="true"
                type="text"
                name="username"
                ng-minlength="4"
                ng-maxlength="30"
                placeholder="{{'username'|translate}}"
              >

              <div ng-show="forms.fGuest.username.$invalid && forms.fGuest.username.$dirty" class="error-help" translate>error login length</div>

              <div class="gc-input-help">
                <input class="gc-input"
                  ng-class="{'ng-invalid': data.email === signupConflictedEmail}"
                  ng-model="data.email"
                  type="email"
                  name="email"
                  placeholder="{{'email'|translate|capitalize}}"
                  required="true"
                >
                <a data-gc-tooltip="{{ 'guest input help' | translate }}" class="help-icon">?</a>
              </div>

              <button class="gc-btn-primary" type="submit" translate
                data-sitekey="6LcXmzYUAAAAANMKR1orewCdb1vvI3jm_q-Tt8Mq" data-callback='onGuestFormSubmit'
              >send</button>

              <a class="gc-link-cancel" ng-click="showPage.back($event)" translate>cancel</a>

            </fieldset>
          </form>
        </div>


        <!-- reset password form -->

        <div ng-if="page === 'resetPass'">
          <p class="gc-popin-title">reset password</p>

          <form method="post" ng-submit="resetPass()" name="fResetPass">

            <fieldset class="gc-reset-pass-form" class="txtcenter">
              <p ng-if="!showResetPassSuccess" class="gc-popin-text" translate>reset password send email</p>
              <p ng-if="showResetPassSuccess" class="gc-popin-success" translate>reset password email sent</p>
              <p ng-show="resetPassUserNotFound" class="error-help" translate>{{resetPassUserNotFound}}</p>

              <input class="gc-input"
                ng-model="user.email"
                type="email"
                name="email"
                placeholder="{{'email'|translate|capitalize}}"
                required="true"
              >

              <button class="gc-btn-primary" type="submit" translate
                ng-disabled="fResetPass.$dirty && fResetPass.$invalid"
              >send</button>

              <a class="gc-link-cancel" ng-click="showPage.back($event)" translate>back</a>

            </fieldset>
          </form>
        </div>


        <div id="sign_up_confirm" ng-show="thanks">
          <p class="title" translate>create your account</p>
          <p class="alert" translate>registration confirmed</p>
          <span id="signin_back" class="g-link" translate>connect</span>
        </div>
      </div>
    </section>
  </div>
</script>

    <!-- For graph comment directive -->
<script type="text/ng-template" id="banPopin.html">

  <div class="gc-popin-wrapper has-overlay" ng-click="overlayClick($event)">
    <div class="gc-popin gc-popin--ban" ng-style="$root.banPopinCoord && { top: $root.banPopinCoord.y + 'px' }">
      <div class="popin-tab" ng-class="{ 'is-open': activeBanTab === 'permanent-ban' }">
        <div class="popin-tab-header" ng-click="setBanTab('permanent-ban')">

          <button class="gc-popin-close" ng-click="close()">
            <i class="gcicon-close"></i>
            <span class="u-sr-only" translate>close</span>
          </button>

          <h3>
            <i class="gcicon-stop"></i>
            <span translate>permanent ban</span>
          </h3>
        </div>
        <div class="popin-tab-content">
          <p translate>permanent ban desc</p>

          <div style="margin-left: 1em">
            <label class="gc-label" ng-if="!isGuest">
              <input type="checkbox" ng-model="banData.account" />
              <span translate>user profile</span>
            </label>

            <div class="ban-modal-user-card">
              <div class="ban-modal-user-card-avatar">
                <img src="{{ user | userImage }}" width="50" />
              </div>
              <div class="ban-modal-user-card-metas">
                <div class="ban-modal-user-card-metas-pseudo">{{ user.pseudo || user.username }}</div>
                <div class="ban-modal-user-card-metas-date" ng-if="user.created_at">{{ 'registered the' | translate:({ date: (user.created_at | date: 'dd/MM/yyyy à HH:mm') }) }}</div>
              </div>
            </div>

            <p ng-if="!isGuest" translate>more ban rules</p>

            <div class="ban-modal-user-form">
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.email" />
                  <span translate>email</span>: <b>{{ user.email }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.pseudo" />
                  <span translate>pseudo</span>: <b>{{ user.pseudo || user.username }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.ip" />
                  <span translate>ip</span>: <b>{{ user.ip }}</b>
                  <span class="gc-help-sort-button" data-gc-tooltip="{{ 'block ip warning' | translate}}">?</span>
                </label>
              </div>
            </div>
          </div>

          <br>

          <label class="ban-modal-reason gc-label">
            {{ 'motif' | translate }}
            <select class="gc-input" ng-model="banData.reason_id" convert-to-number>
              <option ng-repeat="(key, value) in $root.getMotifs()" value="{{key}}">{{value}}</option>
            </select>
          </label>

          <label class="ban-modal-reason gc-label">
            {{ 'ban reason' | translate }}
            <textarea class="gc-input" rows="1" ng-model="banData.reason"></textarea>
          </label>

          <br>

          <label>
            <input type="checkbox" ng-model="banData.hide_ban_message" />
            {{ 'inform banned user' | translate }}
          </label>

          <br>

        </div>
      </div>

      <div class="popin-tab" ng-class="{ 'is-open': activeBanTab === 'temporary-ban' }">
        <div class="popin-tab-header" ng-click="setBanTab('temporary-ban')">
          <h3>
            <i class="gcicon-pause"></i>
            <span translate>temporary ban</span>
          </h3>
          <div class="premium" ng-if="website.rights === 'free'"><i class="gcicon-star"></i> {{ 'premium feature' | translate }}</div>
        </div>

        <div class="popin-tab-content" ng-class="{ overlay: website.rights === 'free' }">
          <p translate>temporary ban desc</p>

          <div style="margin-left: 1em">
            <div class="ban-modal-user-form">
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="1 day" />
                  <span>1 {{ 'day' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="1 week" />
                  <span>1 {{ 'week' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="2 weeks" />
                  <span>2 {{ 'weeks' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="custom" />
                  <span>{{ 'custom' | translate }}</span>
                  <select ng-model="banData.date.custom.count">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                  </select>
                  <select ng-model="banData.date.custom.type">
                    <option value="hour" translate>hour(s)</option>
                    <option value="day" translate>day(s)</option>
                    <option value="week" translate>week(s)</option>
                  </select>
                </label>
              </div>
            </div>

            <br>

            <label class="gc-label" ng-if="!isGuest">
              <input type="checkbox" ng-model="banData.account" />
              <span translate>user profile</span>
            </label>

            <div class="ban-modal-user-card">
              <div class="ban-modal-user-card-avatar">
                <img src="{{ user | userImage }}" width="50" />
              </div>
              <div class="ban-modal-user-card-metas">
                <div class="ban-modal-user-card-metas-pseudo">{{ user.pseudo || user.username }}</div>
                <div class="ban-modal-user-card-metas-date" ng-if="user.created_at">{{ 'registered the' | translate:({ date: (user.created_at | date: 'dd/MM/yyyy à HH:mm') }) }}</div>
              </div>
            </div>

            <p ng-if="!isGuest" translate>more ban rules</p>

            <div class="ban-modal-user-form">
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.email" />
                  <span translate>email</span>: <b>{{ user.email }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.pseudo" />
                  <span translate>pseudo</span>: <b>{{ user.pseudo || user.username }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.ip" />
                  <span translate>ip</span>: <b>{{ user.ip }}</b>
                  <span class="gc-help-sort-button" data-gc-tooltip="{{ 'block ip warning' | translate}}">?</span>
                </label>
              </div>
            </div>
          </div>

          <br>

          <label class="ban-modal-reason gc-label">
            {{ 'motif' | translate }}
            <select class="gc-input" ng-model="banData.reason_id" convert-to-number>
              <option ng-repeat="(key, value) in $root.getMotifs()" value="{{key}}">{{value}}</option>
            </select>
          </label>

          <label class="ban-modal-reason gc-label">
            {{ 'ban reason' | translate }}
            <textarea class="gc-input" rows="1" ng-model="banData.reason"></textarea>
          </label>

          <br>

          <label>
            <input type="checkbox" ng-model="banData.hide_ban_message" />
            {{ 'inform banned user' | translate }}
          </label>

          <br>

        </div>
      </div>

      <div class="popin-tab" ng-class="{ 'is-open': activeBanTab === 'shadow-ban' }">
        <div class="popin-tab-header" ng-click="setBanTab('shadow-ban')">
          <h3>
            <i class="gcicon-ghost"></i>
            <span translate>shadow ban</span>
          </h3>
          <div class="premium" ng-if="website.rights === 'free'"><i class="gcicon-star"></i> {{ 'premium feature' | translate }}</div>
        </div>
        <div class="popin-tab-content" ng-class="{ overlay: website.rights === 'free' }">
          <p translate>shadow ban desc</p>

          <div style="margin-left: 1em">
            <div class="ban-modal-user-form">
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="permanently" />
                  <span>{{ 'permanently' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="1 day" />
                  <span>1 {{ 'day' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="1 week" />
                  <span>1 {{ 'week' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="2 weeks" />
                  <span>2 {{ 'weeks' | translate }}</span>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="radio" ng-model="banData.date.range" value="custom" />
                  <span>{{ 'custom' | translate }}</span>
                  <select ng-model="banData.date.custom.count">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                  </select>
                  <select ng-model="banData.date.custom.type">
                    <option value="hour" translate>hour(s)</option>
                    <option value="day" translate>day(s)</option>
                    <option value="week" translate>week(s)</option>
                  </select>
                </label>
              </div>
            </div>

            <br>

            <label class="gc-label" ng-if="!isGuest">
              <input type="checkbox" ng-model="banData.account" />
              <span translate>user profile</span>
            </label>

            <div class="ban-modal-user-card">
              <div class="ban-modal-user-card-avatar">
                <img src="{{ user | userImage }}" width="50" />
              </div>
              <div class="ban-modal-user-card-metas">
                <div class="ban-modal-user-card-metas-pseudo">{{ user.pseudo || user.username }}</div>
                <div class="ban-modal-user-card-metas-date" ng-if="user.created_at">{{ 'registered the' | translate:({ date: (user.created_at | date: 'dd/MM/yyyy à HH:mm') }) }}</div>
              </div>
            </div>

            <p ng-if="!isGuest" translate>more ban rules</p>

            <div class="ban-modal-user-form">
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.email" />
                  <span translate>email</span>: <b>{{ user.email }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.pseudo" />
                  <span translate>pseudo</span>: <b>{{ user.pseudo || user.username }}</b>
                </label>
              </div>
              <div>
                <label class="gc-label">
                  <input type="checkbox" ng-model="banData.ip" />
                  <span translate>ip</span>: <b>{{ user.ip }}</b>
                  <span class="gc-help-sort-button" data-gc-tooltip="{{ 'block ip warning' | translate}}">?</span>
                </label>
              </div>
            </div>
          </div>

          <br>

          <label class="ban-modal-reason gc-label">
            {{ 'motif' | translate }}
            <select class="gc-input" ng-model="banData.reason_id" convert-to-number>
              <option ng-repeat="(key, value) in $root.getMotifs()" value="{{key}}">{{value}}</option>
            </select>
          </label>

          <label class="ban-modal-reason gc-label">
            {{ 'ban reason' | translate }}
            <textarea class="gc-input" rows="1" ng-model="banData.reason"></textarea>
          </label>

        </div>
      </div>

      <div class="popin-tab-actions">
        <button class="gc-btn-primary" type="button" ng-click="submit()" ng-disabled="website.rights === 'free' && activeBanTab !== 'permanent-ban'" translate>save</button>
      </div>

    </div>
  </div>

</script>

    <!-- Write Comment directive -->
<script type="text/ng-template" id="write_comment.html">
  <div id="comment-creation" class="gcomment-container w100 table">
    
    <div
      ng-class="{
        'gc-node': !parentComment,
        'gc-create-subcomment': parentComment || comment.editing,
        'disable-transition': comment._id
      }"
      drop-upload="{ init: showLoader, check: checkUploadLimit, done: addHostedFile, error: onUploadError }"
    >
      <div
        ng-class="{'gc-main-level': !parentComment }"
        textarea-focus
        textarea-focus-except="['.ignore-focus', '.gc-comment-submit a', '.gc-comment-warning-text a', '.gc-comment-guest-form *', '.gc-comment-submit-captcha']"
      >
        <button class="gc-close"
          ng-if="!comment.editing && parentComment && !bbf3d"
          ng-click="cancelEdit()"
        >
          <span class="u-sr-only" translate>cancel</span>
          <i class="gcicon-close"></i>
        </button>

        <div class="gc-avatar"
          ng-click="$root.toggleProfilePopin($event, $root.gcUser && $root.gcUser._id)"
          ng-mouseenter="$root.openProfilePopinTimer($event, $root.gcUser._id, 500)"
          ng-mouseleave="$root.cancelProfilePopinTimer()"
        >
          <div class="gc-rounded ignore-focus">
            <img ng-src="{{$root.gcUser | userImage}}" alt="" fallback-src>
          </div>
        </div>

        <div class="gc-comment-form">
          <!-- WYSIWYG -->
          <div class="gc-comment-textarea"
               contenteditable="true"
               ng-model="comment.content"
               ng-model-options="{debounce: 300}"
               content-selectable
               content-select-control="TextAreaControl"
               ng-keydown="onKeydown($event)"
               ng-change="writeComment()"
               ng-paste="paste($event)"
               placeholder="{{parentComment ? 'leave reply' : 'start thread' | translate}}">
          </div>
          <!-- !end WYSIWYG -->

          <div class="gc-comment-warning" ng-if="banWarning">
            <div class="gc-comment-warning-icon">
              <i class="gcicon-warning"></i>
            </div>
            <div class="gc-comment-warning-text">
              <b translate>alert</b>
              <span ng-if="banWarning.permanent"
                ng-bind-html="getBanMessage('permanent') | translate:({ website: CommentService.website.name })"
              ></span>
              <span ng-if="!banWarning.permanent"
                ng-bind-html="getBanMessage('temporary') | translate:({ website: CommentService.website.name, duration: '<b>' + moment(banWarning.date_end).format('LL') + '</b>' })"
              ></span>
              <a translate
                ng-if="!CommentService.website.moderation_content || !CommentService.website.moderation_content.active"
                class="know-more"
                ng-href="{{ banUrl }}"
                target="_blank"
              >know more</a>
              <a class="close" ng-click="closeBanWarning()">
                <i class="gcicon-close"></i>
              </a>
            </div>
          </div>

          <!-- In case an embed is detected in the comment -->
          <div class="gc-embed" ng-repeat="embed in embeds">

            <!-- video -->
            <div class="gc-embed-video" ng-if="embed.type == 'video'">
              <div class="gc-embed-video-media">
                <img class="gc-embed-video-thumbnail" alt="" ng-src="{{embed.thumbnail_url}}">
                <div class="gcicon-play2"></div>
              </div>
              <div class="gc-embed-info">
                <div class="gc-embed-info-title"><a href="{{embed.initialUrl}}" target="_blank" rel="noopener" ng-bind-html="embed.title"></a></div>
                <div ng-if="embed.description" class="gc-embed-info-description" ng-bind-html="embed.description | truncate:300"></div>
                <div ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</div>
              </div>
            </div>

            <!-- image -->
            <div class="gc-embed-photo" ng-if="embed.type == 'photo'">
              <a class="remove" ng-if="$root.gcUser && $root.gcUser._id === comment.author._id && embed.hosted" ng-click="removeHostedFile(embed)">
                <i class="gcicon-close"></i>
              </a>
              <a ng-attr-href="{{embed.fileId === 'preview' ? undefined : embed.url}}" target="_blank" class="ignore-focus">
                <img ng-src="{{embed.url}}" alt="">
              </a>
              <span ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</span>
              <span ng-if="embed.author_name && embed.author_url" class="gc-embed-info-description">
                (<span translate>author</span> <a ng-href="{{embed.author_url}}" target="_blank" rel="noopener">{{embed.author_name}}</a>)
              </span>
            </div>

            <!-- rich content -->
            <div class="gc-embed-rich" ng-if="embed.type == 'rich'">
              <div ng-bind-html="embed.html | htmlSafe"></div>
            </div>

            <!-- Open Graph -->
            <div class="gc-embed-og" ng-if="embed.type == 'opengraph'">
              <div class="gc-embed-og-media" ng-if="embed.image">
                <div class="gc-embed-og-thumbnail-wrapper">
                  <div class="gc-embed-og-thumbnail" ng-style="{'background-image':'url({{embed.image}})'}"></div>
                </div>
              </div>
              <div class="gc-embed-info">
                <div class="gc-embed-info-title"><a href="{{embed.initialUrl}}" target="_blank" rel="noopener" ng-bind-html="embed.title"></a></div>
                <div ng-if="embed.description" class="gc-embed-info-description" ng-bind-html="embed.description | truncate:200"></div>
                <div ng-if="embed.provider_url" class="gc-embed-info-provider">{{embed.provider_url | getDomain}}</div>
              </div>
            </div>

          </div>
          
          <div class="button_links">
            
            <form ng-if="showGuestForm" class="gc-comment-guest-form" name="forms.fCommentGuest">

              <input class="gc-input"
                ng-model="guest.username"
                required="true"
                type="text"
                name="username"
                ng-minlength="4"
                ng-maxlength="30"
                placeholder="{{'username'|translate}}"
              >

              <div class="gc-input-help">
                <input class="gc-input"
                  ng-class="{'ng-invalid': guest.email === signupConflictedEmail}"
                  ng-model="guest.email"
                  type="email"
                  name="email"
                  placeholder="{{'email'|translate|capitalize}}"
                  required="true"
                >
                <a data-gc-tooltip="{{ 'guest input help' | translate }}" data-gc-tooltip-200 class="help-icon">?</a>
              </div>

              <div ng-show="forms.fCommentGuest.username.$invalid && forms.fCommentGuest.username.$dirty" class="error-help" style="font-size: .8em" translate>error login length</div>
            </form>

            <span ng-if="comment.content && comment.content.length" style="position: relative">
              <img src="./images/loader.gif" class="gc-small-loader" ng-if="loaderVisible" />

             <span ng-if="$root.gcUser || $root.gcGuest || !CommentService.website.guest">         
                <button class="gc-comment-submit gc-btn" ng-click="sendComment()" ng-if='$root.sso_direct_link == null && $root.gcUser == null' ng-disabled="inProgress" rel="g-comment-popup" translate>
                  send
                </button>
                <button class="gc-comment-submit gc-btn" ng-click="sendComment()" ng-if='$root.gcUser != null' ng-disabled="inProgress" rel="g-comment-popup" translate>
                  send
                </button>
                <button class="gc-comment-submit gc-btn gc-sso" ng-if='$root.sso_direct_link != null && $root.gcUser == null'><a ng-href="{{$root.sso_direct_link}}" translate>send</a></button>
                <button class="gc-comment-cancel gc-btn" ng-click="cancelEdit()" rel="g-comment-popup" translate>
                  cancel
                </button>
              </span>
              
              <span ng-if="!$root.gcUser && !$root.gcGuest && CommentService.website.guest">
                <button ng-if="!showGuestForm" class="gc-comment-submit gc-btn" ng-click="openGuestForm()" ng-disabled="inProgress" rel="g-comment-popup">
                  {{ 'send as guest' | translate }}
                  <a data-gc-tooltip="{{ 'guest explanation' | translate }}" data-gc-tooltip-200 class="help-icon">?</a>
                </button>

                <button ng-if="showGuestForm" class="gc-comment-submit gc-comment-submit-captcha gc-btn"
                  ng-disabled="forms.fCommentGuest.$dirty && forms.fCommentGuest.$invalid"
                  data-sitekey="6LfeKZYUAAAAAFDIBvQRBB5W34niIuhCnARZWck0" data-callback="onCommentGuestFormSubmit"
                >
                  {{ 'send as guest' | translate }}
                  <a data-gc-tooltip="{{ 'guest explanation' | translate }}" data-gc-tooltip-200 class="help-icon">?</a>
                </button>

                <button ng-if="showGuestForm" class="gc-comment-cancel gc-btn" ng-click="closeGuestForm()" rel="g-comment-popup" translate>
                  cancel
                </button>

                <span class="gc-comment-send-as-guest" ng-if="!showGuestForm">
                  {{ 'or' | translate }}
                  <a ng-click="showSignupPopup($event)" translate>register</a>
                  /
                  <a ng-click="showSigninPopup($event)" translate>login</a>
                </span>
                </span>
              </span>

              <a class="gc-boost"
                ng-if="$root.gcUserHasPrivileges && comment.content && comment.content.length"
                ng-click="toggleAdminBoost()"
                data-gc-tooltip="{{ 'comment boost' | translate }}"
              >
                <img ng-if="!comment.admin_boost" class="gc-boost-nb" src="./images/rocket-iconNB.png" />
                <img ng-if="comment.admin_boost" class="gc-boost-coloured" src="./images/rocket-icon.png" />
              </a>

              <a ng-if="commentTooLong" class="gc-comment-too-long" translate>comment too long</a>
            </span>
            <button class="gc-comment-emoticon"
                    ng-class="{'gc-comment-emoticon--active': isEmoticonsContainerActive}"
                    ng-click="emoticonButtonClick($event)"
                    ng-if="!isMobile && CommentService.website.edition.emoticons">
              <i class="gcicon-smile"></i>
            </button>
            <button class="gc-comment-smartedit gc-button-tooltip-container" ng-if="!isMobile && CommentService.website.edition.formatting">
              <i class="gcicon-icon_t"></i>
              <div class="gc-popin gc-button-tooltip" translate>highlight text</div>
            </button>
            <label class="gc-comment-upload gc-button-tooltip-container ignore-focus" ng-if="$root.gcUser && CommentService.website.edition.upload">
              <i class="gcicon-image ignore-focus"></i>
              <div class="gc-popin gc-button-tooltip">{{ 'image upload text' | translate:({ limit: CommentService.website.embeded_files }) }}</div>
              <input type="file" class="ignore-focus" custom-on-change="uploadFile" />
            </label>

            <div class="gc-popin gc-comment-emoticon-popin" ng-class="{'gc-comment-emoticon-popin--active': isEmoticonsContainerActive}">
              <div class="gc-comment-emoticon-scroller" ng-if="isEmoticonsContainerActive">
                <div class="gc-comment-emoticon-bloc"
                     ng-repeat="emoticon in emoticonList"
                     ng-mousedown="chooseEmoticon($event, emoticon)"
                     ng-bind-html="renderEmoticon(emoticon)">
                </div>
              </div>
            </div>
          </div>

          <p class="gc-comment-cgu"
            ng-if="CommentService.website.cgu && CommentService.website.cgu.input_front_active && comment.content && comment.content.length"
            ng-bind-html="CommentService.website.cgu.input_front_txt | htmlSafe"
          ></p>

        </div>
      </div>
    </div>
  </div>
</script>

    
<!-- Comment directive -->
<script type="text/ng-template" id="bbf3d.html">

  <div
    class="gc-popin-wrapper gc-all-answers"
    ng-class="{ 'has-overlay': showBbf3dOverlay }"
    ng-style="{ 'top': bbf3dScrollTop }"
  >
    <div
      class="gc-popin gc-all-answers-inner gc-popin-level-{{ bbf3dLevel }} gc-node"
      ng-class="{ 'gc-popin-fade': bbf3dLevel < $root.bbf3dCount - 1 }"
      ng-style="{ 'margin-top': bbf3dTop }"
    >
      <div class="gc-all-answers-header">
        <span
          class="answer-to"
          ng-bind-html="'all answers for' | translate:{ user: '<span>' + (comment | getUserAvatar) + '</span>' }"
        ></span>
        <a class="close" ng-click="closeBbf3d()">
          {{ 'close answers' | translate }}
          <i class="gcicon-close"></i>
        </a>
      </div>

      <div
        ng-repeat="(index,cmt) in comment.child_comments | limitTo: bbf3dLimit"
        class="gc-all-answers-comment"
      >
        <comment
          ng-if="!cmt.editing"
          ng-animate-swap="cmt._id"
          parent-id="{{cmt._id}}"
          parent-comment="comment"
          comment="cmt"
          all-answers-mode="true"
          depth="depth + 1"
          bbf3d="true"
          ecd_creation_mode="ecd_creation_mode"
        ></comment>

        <write-comment
          active="true"
          ng-if="!$root.readonly && cmt.editing"
          parent-comment="comment"
          comment="cmt"
          has-voted="{{cmt.rating.has_voted}}"
          rating="rating"
          bbf3d="true"
          submitted="editComment(cmt)"
        ></write-comment>

        <div
          class="gc-ad"
          ng-if="index % 5 === 0 && $root.getAd(1000 + (index / 5))"
          html="{{$root.getAd(1000 + (index / 5))}}"
          html-script-timeout="2000"
        ></div>

      </div>

      <div class="gc-btn-show-more-container" ng-hide="comment.count_child <= bbf3dLimit">
        <button class="gc-btn-show-more" ng-click="bbf3dShowMore()" translate>showmore</button>
      </div>

      <write-comment
        active="true"
        class="gc-all-answers-write-comment"
        bbf3d="true"
        ng-if="!$root.readonly"
        ng-animate-swap="cmt._id"
        all-answers-mode="true"
        disable-auto-focus="true"
        parent-comment="comment"
        has-voted="{{comment.rating.has_voted}}"
        rating="rating"
        submitted="addComment(message)"
        close="closeAnswer()">
      </write-comment>

      <a class="close" ng-click="closeBbf3d(true)" style="margin-top: 10px"
        ng-if="comment.child_comments.length > 2"
      >
        {{ 'close answers' | translate }}
        <i class="gcicon-close"></i>
      </a>

    </div>
  </div>

</script>

    <script type="text/ng-template" id="askEmailPopin.html">
  <section class="gc-popin gc-popin--email" style="top: {{$root.askEmailPopinOffsetTop}}px">
    <h3 class="gc-popin-title" translate>email_popin.title</h3>

    <p class="gc-popin-text"
      ng-bind-html="(visibleForm() === 'email' ? 'email_popin.content' : 'token sent to you by email') | translate:({email:user.validation.v_email})"
    >
    </p>

    <form name="askEmailForm" ng-if="visibleForm() === 'email'" ng-submit="askEmailForm.$valid && saveEmail()" novalidate>
      <input type="email" focus autofocus class="gc-input" required name="email" ng-model="popinUser.email" placeholder="user@email"/>

      <p ng-show="askEmailForm.email.$error.required && askEmailForm.email.$dirty" class="gc-text-error" translate>
        error required
      </p>

      <p ng-show="askEmailForm.email.$error.email" class="gc-text-error" translate>
        error email
      </p>

      <p class="gc-form-actions">
        <button class="gc-form-action gc-btn-primary" type="submit" ng-disabled="askEmailForm.$invalid" translate>
          email_popin.validate
        </button>
      </p>
    </form>

    <form name="askTokenForm" ng-if="visibleForm() === 'token'" ng-submit="askTokenForm.$valid && validEmail()"
          novalidate>
      <input type="number" name="token" class="gc-input" required
             ng-model="token"  ng-minlength=6 ng-maxlength=6 ng-model-options="{ debounce: 500 }"
             focus autofocus placeholder="{{ '6 digits number' | translate  }}" />

      <p ng-show="askTokenForm.$invalid && !askTokenForm.token.$error.required && askTokenForm.token.$dirty"
         class="gc-text-error" translate>
        error token size
      </p>

      <p class="gc-form-actions">
        <button class="gc-form-action gc-btn-primary" type="submit"
                ng-disabled="askTokenForm.$invalid" translate>send</button>
      </p>
    </form>

    <p ng-show="errorValidation && !askEmailForm.email.$dirty" class="gc-text-error u-center"
      ng-bind-html="errorValidation | translate:({email:user.email, url:forgotUrl}) | htmlSafe">
    </p>

    <p ng-show="tokenResent && !askTokenForm.email.$dirty" class="gc-text-success u-center"
      ng-bind-html="'validation email sent' | translate:({email:popinUser.email}) | htmlSafe">
    </p>

    <div ng-show="visibleForm() === 'token' && !askTokenForm.token.$dirty" class="error-alternatives">
      <a href="" ng-click="resendToken()" translate>resend me the token</a>
    </div>

    <button class="gc-popin-close" ng-if="visibleForm() === 'token' && user.email" ng-click="close()">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate>close</span>
    </button>

  </section>
</script>

    <script type="text/ng-template" id="profilePopin.html">
  <div class="gc-popin-wrapper gc-popin-profile"
    ng-class="{ 'has-overlay': showFullProfile || shouldFillProfile() }"
    ng-click="onOverlayClick($event)"
  >

    <div class="gc-popin"
      ng-if="show"
      ng-class="{
        'profile-from-menu': fromMenu && !showFullProfile,
        'is-loading': !profileFetched(),
        'profile-full': showFullProfile,
        'custom-image': !!customImage,
        'fill-profile': shouldFillProfile(),
      }"
      ng-style="offset"
    >
      <button class="gc-popin-close" ng-click="close()" ng-if="profileFetched() && profile.profile_found">
        <i class="gcicon-close"></i>
        <span class="u-sr-only" translate>close</span>
      </button>

      <div ng-show="!profileFetched()" class="gc-brand-loader"></div>

      <div ng-if="profileFetched()" class="gc-profile-fetched">

        <div class="gc-profile-fill" ng-if="shouldFillProfile()">
          <div translate>fill profile message</div>
        </div>

        <button class="gc-popin-close" ng-click="close()" ng-if="!shouldFillProfile">
          <i class="gcicon-close"></i>
          <span class="u-sr-only" translate>close</span>
        </button>

        <p class="gc-profile-error" ng-if="err" translate>{{ err }}</p>

        <div class="gc-custom-image" ng-show="customImage && showFullProfile">
          <img ng-src="{{BASE_URL}}/{{customImage}}" alt="" />
        </div>

        <div class="gc-profile-container">

          <div ng-show="isCurrentUser && !showFullProfile" class="gc-profile-avatar-container">
            <div class="gc-profile-avatar-wrapper" ng-if="!$root.isOrange && !$root.ssoUnidirectionalEnabled()" data-gc-tooltip="{{ 'upload image from computer' | translate }}">
              <label class="upload-container">
                <img fallback-src ng-src="{{ previewAvatarSrc || (profile | userImage) }}" class="gc-profile-avatar" wait-image-loaded>
                <div class="gc-profile-avatar-overlay" ng-click="open.defaultAvatars=false">
                  <i class="gcicon-images"></i>
                </div>
                <div class="gc-profile-upload-progress p{{ uploadProgress }}" ng-show="uploadProgress">
                  <div class="slice">
                    <div class="bar"></div>
                    <div class="fill"></div>
                  </div>
                </div>
                <input type="file" name="picture" class="gc-input" fileread="profile.$picture" custom-on-change="onAvatarUpload" />
              </label>
            </div>
            <div class="gc-profile-avatar-wrapper" ng-if="$root.isOrange || $root.ssoUnidirectionalEnabled()">
              <img fallback-src ng-src="{{ previewAvatarSrc || (profile | userImage) }}" class="gc-profile-avatar" wait-image-loaded>
            </div>
            <div class="gc-profile-default-avatars" ng-hide="$root.isOrange || $root.ssoUnidirectionalEnabled()">
              <p class="title u-not-selectable" ng-click="open.defaultAvatars = !open.defaultAvatars">
                <span>{{'change default' | translate}}</span>
                <i ng-class="open.defaultAvatars ? 'gcicon-arrowup' : 'gcicon-arrowdown'"></i>
              </p>
              <ul class="gc-profile-default-list" ng-show="open.defaultAvatars && defaultAvatars.length > 0">
                <li ng-repeat="avatar in defaultAvatars" ng-click="selectAvatar(avatar)">
                  <img ng-src="{{avatar.url}}" alt="" fallback-src>
                  <p translate>{{avatar.name}}</p>
                </li>
              </ul>
              <p ng-show="open.defaultAvatars && !defaultAvatars.length">
                No avatars found
              </p>
            </div>
            <a class="gc-profile-rewards" ng-click="seeFullProfile()" ng-if="$root.website.rewards">
              <span class="gc-reward-counter {{ type }}" ng-repeat="(type, perType) in groupedRewards">
                <div class="gc-reward-icon {{ type }}"></div>
                <div>{{ perType.length }}</div>
              </span>
            </a>
          </div>
          <div ng-show="!isCurrentUser || showFullProfile" class="gc-profile-avatar-container">
            <img ng-src="{{profile | userImage}}" class="gc-profile-avatar" alt="" fallback-src wait-image-loaded>
            <a class="gc-profile-rewards" ng-click="seeFullProfile()" ng-if="$root.website.rewards">
              <span class="gc-reward-counter {{ type }}" ng-repeat="(type, perType) in groupedRewards">
                <div class="gc-reward-icon {{ type }}"></div>
                <div>{{ perType.length }}</div>
              </span>
            </a>
          </div>

          <div class="gc-profile-info">
            <h2 class="profile-pseudo profile-pseudo-inline-edit break-words">
              <a
                ng-if="canEditInline('pseudo') && !$root.isOrange"
                class="gc-theme-color-main"
                editable-text="profile.pseudo"
                e-class="gc-small-input"
                e-placeholder="{{ 'pseudo placeholder' | translate }}"
                e-maxlength="30" buttons="no" blur="submit"
                title="{{ 'edit profile info' | translate }}"
              >
                {{ profile.pseudo | truncate:24 }}
                <i class="gcicon-pencil"></i>
              </a>
              <span
                class="gc-theme-color-main"
                ng-if="!canEditInline('pseudo') || $root.isOrange"
              >{{ profile.pseudo }}</span>
              <span
                ng-if="hasModerationWaiting() && !showFullProfile"
                data-gc-tooltip="{{ 'profile moderation waiting' | translate }}"
                class="profile-moderation-waiting hover"
              >
                <i class="gcicon-clock"></i>
              </span>
              <span class="gc-grade {{stats.grade}}">{{grades[stats.grade]}}</span>
            </h2>

            <p ng-if="canEditInline('pro_status')" class="profile-status profile-status-inline-edit break-words">
              <a
                editable-text="profile.pro_status"
                e-class="gc-small-input"
                e-maxlength="150"
                e-placeholder="{{ 'status placeholder' | translate }}"
                buttons="no"
                blur="submit"
                title="{{ 'edit profile info' | translate }}"
              >
                {{ profile.pro_status || 'status placeholder' | translate }}
                <i class="gcicon-pencil"></i>
              </a>
            </p>
            <p ng-if="!canEditInline('pro_status') && profile.pro_status" class="profile-status break-words">{{profile.pro_status}}</p>

            <small class="profile-created-at" ng-if="profile.created_at">{{'registered since'|translate}} {{profile.created_at|shortDate}}</small>

            <a class="profile-twitter profile-twitter-inline-edit break-words" ng-if="canEditInline('twitter_username') || (profile.twitter_username && profile.twitter_username.length > 0)"
              ng-href="{{ isCurrentUser && !showFullProfile ? '' : 'https://twitter.com/' + profile.twitter_username }}"
              target="_blank" rel="noopener"
            >
              <i class="gc-icon gcicon-twitter"></i>
              <span ng-if="!canEditInline('twitter_username')">{{ displayTwitterUsername() }}</span>
              <span
                ng-if="canEditInline('twitter_username')"
                editable-text="profile.twitter_username"
                e-maxlength="79"
                e-class="gc-small-input"
                e-formclass="inline-form"
                buttons="no"
                blur="submit"
                title="{{ 'edit profile info' | translate }}"
              >
                {{ displayTwitterUsername() }}
                <i class="gcicon-pencil"></i>
              </span>
            </a>

            <a ng-show="canEditInline('bio') && !editBio" class="profile-bio break-words editable editable-click" ng-click="toggleBio()"
               title="{{ 'edit profile info' | translate }}"
            >
              <span ng-bind-html="profile.bio || ('bio' | translate)"></span>
              <i class="gcicon-pencil"></i>
            </a>

            <div class="profile-bio-form" ng-if="canEditInline('bio') && editBio">
              <div
                contenteditable="true"
                editable-maxlength="600"
                ng-model="profile.bio"
                ng-model-options="{debounce: 300}"
              >
              </div>
              <div class="controls">
                <button class="gc-comment-submit gc-btn" ng-click="updateProfile()" translate>send</button>
                •
                <button class="gc-comment-cancel gc-btn" ng-click="toggleBio($event)" translate>cancel</button>
              </div>
            </div>

            <div ng-if="!canEditInline('bio')" class="profile-bio break-words">
              <p ng-bind-html="profile.bio">{{ 'bio' | translate }}</p>
              <p ng-if="!canEditInline('bio') && !isCurrentUser && !profile.bio && $root.website.notification"
                class="profile-bio-ask"
                ng-class="{ disabled: !canSendRecoTo }"
              >
                {{ 'invite complete bio' | translate:({ user: profile.pseudo }) }}
                <br>
                <a ng-click="sendReco()" translate>send</a>
              </p>
            </div>

            <button class="gc-btn gc-btn-primary gc-btn-create-profile" ng-if="shouldFillProfile()" ng-click="createProfile()" translate>validate profile</button>
          </div>
        </div>

        <div class="gc-profile-stats">
          <small
            ng-pluralize
            class="cursor-pointer gc-theme-color-main"
            style="font-weight: bold"
            ng-click="seeFullProfile('comments')"
            count="stats.count_comment"
            when="{
            '0': '{{&quot;comments.empty&quot;|translate|capitalize}}',
            'one': '1 {{&quot;comments.singular&quot;|translate|capitalize}}',
            'other': '{} {{&quot;comments.plural&quot;|translate|capitalize}}'
            }"
            ></small>
          <small>{{stats.votes_sended}} {{'votes'|translate}}</small>
          <small>{{stats.votes_received}} {{'votes received'|translate}}</small>
        </div>

        <div class="gc-profile-progress" ng-if="isCurrentUser && !showFullProfile && progress !== 100 && !$root.ssoUnidirectionalEnabled()">
          <p class="remaining">
            {{ 'profile completed at' | translate:({ percent: progress })}}
            <a class="gc-theme-color-main" ng-click="completeProgress()" translate>update profile</a>
          </p>
          <div class="progress-bar">
            <div class="bar">
              <div class="progress" ng-class="{ zero: progress === 0 }"></div>
            </div>
          </div>
        </div>


        <div class="gc-profile-tabs" ng-show="showFullProfile">
          <a class="gc-profile-tabs-item"
            ng-class="{ 'active': activeTab === 'badges' }"
            ng-if="$root.website.rewards"
            ng-click="switchTab('badges')"
            translate
          >badges</a>
          <a class="gc-profile-tabs-item"
            ng-class="{ 'active': activeTab === 'comments' }"
            ng-click="switchTab('comments')"
          >{{ isCurrentUser ? 'my comments' : 'comments.plural' | translate | capitalize }}</a>
          <a class="gc-profile-tabs-item"
            ng-if="isCurrentUser"
            ng-class="{ 'active': activeTab === 'preferences' }"
            ng-click="switchTab('preferences')"
          >{{ 'my prefs' | translate }}</a>
        </div>

        <div class="gc-profile-tabs-container" ng-show="showFullProfile">

          <div class="gc-profile-badges" ng-show="activeTab === 'badges'" ng-cloak>
            <span ng-repeat="reward in rewards"
              class="gc-reward-badge {{reward.type}}"
              ng-class="{ 'fade': !reward.possess }"
              data-gc-tooltip="{{ 'rewards.' + reward.name | translate }}"
            >
              <span class="gc-reward-icon {{reward.type}}"></span>
              {{ reward.name | capitalize }}
            </span>
          </div>

          <div class="gc-profile-comments" ng-show="activeTab === 'comments'" ng-cloak>
            <div class="gc-profile-comments-header">
              <div class="gc-profile-comments-title">
                <span ng-cloak ng-pluralize
                  count="stats.count_comment"
                  when="{
                    '0': '{{&quot;comments.empty&quot;|translate|capitalize}}',
                    'one': '1 {{&quot;comments.singular&quot;|translate|capitalize}}',
                    'other': '{} {{&quot;comments.plural&quot;|translate|capitalize}}'
                  }"
                ></span>
              </div>

              <div class="gc-profile-comments-sorting" ng-click="showSortDropdown($event)">
                <a class="cursor-pointer">
                  {{ 'sort by' | translate }} <b>{{ sorting | translate }}</b>
                  <i class="gcicon-readmore cursor-pointer" style="vertical-align: middle;"></i>
                </a>
                <ul class="gc-dropdown align-right-mobile" ng-if="sortDropdownVisible">
                  <li ng-class="{ 'active': sorting === 'date' }">
                    <a ng-click="setSort($event, 'date')" translate>date</a>
                  </li>
                  <li ng-class="{ 'active': sorting === 'thread' }">
                    <a ng-click="setSort($event, 'thread')" translate>thread</a>
                  </li>
                </ul>
              </div>
            </div>

            <div class="gc-profile-comments-list">
              <share-popin ng-if="showSharePopin" show="showSharePopin" placement="commentToSharePlacement" comment="commentToShare"></share-popin>

              <div class="comment" ng-repeat="comment in comments"
                ng-class="{ 'deleted': comment.status === 'deleted' || comment.status === 'refused' }"
              >
                <div class="gc-waiting-moderation" ng-if="comment.status === 'pending'">
                  <i class="gcicon-clock"></i>
                  <span translate>comment waiting moderation</span>
                </div>
                <span class="comment-deleted" ng-if="comment.status === 'deleted' || comment.status == 'refused'" translate>deleted</span>
                <span class="comment-deleted-text" ng-if="comment.status === 'deleted' || comment.status == 'refused'" translate>comment only visible by you</span>
                <a class="comment-page"
                  ng-href="{{ getThreadLink(comment) }}"
                  target="_blank"
                  data-gc-tooltip="{{ 'view comment in its page' | translate }}"
                >{{ comment.thread.page_title }} <i class="gcicon-newtab"></i></a>
                <div class="comment-meta">
                  <b class="comment-author">{{ comment.cached_author.username }}</b>
                  <span class="gc-vr">|</span>
                  <span class="comment-date">{{ comment.created_at | moment:('YYMMDD'|translate) }}</span>
                  <a class="comment-share" ng-click="shareComment($event, comment)">
                    <i class="gcicon-share"></i> <span translate>share</span>
                  </a>
                  <span class="gc-vr" ng-if="isCurrentUser && comment.child_comments.length === 0">|</span>
                  <a class="comment-delete"
                    ng-if="isCurrentUser && comment.status !== 'deleted' && comment.status !== 'refused'"
                    data-gc-tooltip="{{ 'delete' | translate }}"
                    ng-click="deleteModal($event, comment)"
                  >
                    <i class="gcicon-remove"></i>
                  </a>
                </div>
                <div class="comment-content inner-content"
                  ng-bind-html="comment.content | htmlContent | emoticonsFallback"
                ></div>
                <div class="gc-vote-result gc-votes-count-tooltip">
                  <div ng-bind-html="comment.top_voters"></div>
                  <div class="gc-votes-count-tooltip-content" ng-bind-html="comment.votes_count"></div>
                </div>
              </div>

              <ul class="pagination" ng-if="commentsPageCount > 1">
                <li ng-class="{ 'disabled': commentsPage === 1}">
                  <a class="pagination" ng-click="loadComments(1)">❮❮</a>
                </li>
                <li ng-class="{ 'disabled': commentsPage === 1}">
                  <a class="pagination" ng-click="loadComments(commentsPage - 1)">❮</a>
                </li>
                <li ng-class="{ 'active': commentsPage === page }" ng-repeat="page in commentsPageRange">
                  <a class="pagination" ng-click="loadComments(page)">{{ page }}</a>
                </li>
                <li ng-class="{ 'disabled': commentsPage === commentsPageCount}">
                  <a class="pagination" ng-click="loadComments(commentsPage + 1)">❯</a>
                </li>
                <li ng-class="{ 'disabled': commentsPage === commentsPageCount}">
                  <a class="pagination" ng-click="loadComments(commentsPageCount)">❯❯</a>
                </li>
              </ul>

              <div class="load-more-comments" style="visibility: hidden"></div>
            </div>
          </div>

          <div class="gc-profile-prefs" ng-if="isCurrentUser" ng-show="activeTab === 'preferences'" ng-cloak>
            <form ng-submit="updatePrefs()" name="fUpdate">
              <fieldset class="gc-prefs-form">
                <label class="gc-label" for="loading_depth" translate>loading_depth</label>
                <select
                  class="gc-input"
                  name="loading-depth"
                  ng-model="profile.loading_depth"
                  convert-to-number
                >
                  <option value="-1" translate>auto</option>
                  <option>0</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                  <option>9</option>
                  <option>10</option>
                </select>

                <label class="gc-label" for="language" translate>language</label>
                <select ng-options="lang.value as lang.label for lang in langs"
                  class="gc-input"
                  name="language"
                  ng-model="profile.language"
                ></select>

                <label class="gc-label" for="sorting" translate>default sorting</label>
                <select class="gc-input" name="sorting" ng-model="profile.sort">
                  <option value="relevance" translate>sort by relevance</option>
                  <option value="newest" translate>newest</option>
                  <option value="oldest" translate>oldest</option>
                </select>

                <div ng-if="!$root.website.disable_mail_notif">
                  <label class="gc-label">
                    <p style="margin: 0 0 .5em" translate>email notifications</p>
                    <input type="checkbox" ng-model="profile.disable_mail_notif"
                      ng-true-value="false" ng-false-value="true"
                    />
                    {{ 'receive email when reply' | translate }}
                  </label>
                </div>

                <p ng-show="err" class="gc-login-error-msg" translate>{{err}}</p>

                <div class="gc-form-actions" ng-show="profileChanged">
                  <button class="gc-form-action gc-btn-primary" type="submit" ng-disabled="fUpdate.$invalid" translate>save</button>
                </div>

              </fieldset>
            </form>
          </div>

        </div>

        <div class="gc-profile-footer" ng-hide="showFullProfile || shouldFillProfile()">
          <a ng-click="seeFullProfile()" translate>view complete profile</a>
        </div>

      </div>


      <!-- Comment Deletion Popin -->
      <div class="gc-popin-wrapper has-overlay" ng-click="commentDeletionPopinOverlayClick($event)" ng-if="showCommentDeletionPopin">
        <div class="gc-popin gc-popin--comment-deletion"
          ng-style="$root.deleteCommentPopinCoord && { top: $root.deleteCommentPopinCoord.y + 'px' }"
          style="min-width: 400px; padding: 1em;"
        >

          <button class="gc-popin-close" ng-click="hideDeletionPopin($event)">
            <i class="gcicon-close"></i>
            <span class="u-sr-only" translate>close</span>
          </button>

          <p class="comment-deletion-message" translate>are you sure</p>

          <div class="btns">
            <button class="gc-btn" type="button" ng-click="hideDeletionPopin()" style="margin-left:10px" translate>keep comment</button>
            <button class="gc-btn-primary" type="button" ng-click="deleteComment(commentToDelete)" style="margin-left:10px" translate>delete comment</button>
          </div>

        </div>
      </div>

    </div>

  </div>
</script>

    <script type="text/ng-template" id="accountPopin.html">
  <div class="gc-popin-wrapper gc-popin-account" ng-class="{ 'has-overlay': showFullAccount }" ng-click="onOverlayClick($event)">

    <div class="gc-popin" ng-if="show">
      <button class="gc-popin-close" ng-click="close()">
        <i class="gcicon-close"></i>
        <span class="u-sr-only" translate>close</span>
      </button>

      <p class="gc-account-error" ng-if="err" translate>{{ err }}</p>

      <div class="gc-account-container">

        <form ng-submit="updateAccount()" name="fUpdate">
          <fieldset class="gc-account-form">
            <div class="legend" translate>my account</div>

            <label class="gc-label" for="username" translate>username</label>
            <input type="text"
              required="true"
              name="username"
              class="gc-input"
              min-length-forgiving="4"
              max-length-forgiving="25"
              placeholder="{{'username'|translate}}"
              ng-model="account.username"
            />

            <label class="gc-label" for="email">{{ 'email' | translate | capitalize }}</label>
            <input type="email"
              class="gc-input"
              name="email"
              placeholder="{{'name@email'|translate}}"
              ng-model="account.email"
            />

            <div class="gc-msg gc-msg-info" ng-show="account.validation && account.validation.v_email">
              <a class="gc-msg-close" ng-click="cancelEmailValidation($event)"
                data-gc-tooltip="{{ 'cancel email validation' | translate }}"
                data-gc-tooltip-100
              >
                <i class="gcicon-close"></i>
              </a>
              <span ng-bind-html="'validation email sent' | translate:({email:account.validation.v_email}) | htmlSafe"></span>
              <br><br>
              <a ng-click="showTokenPopin($event)" translate>click to validate email</a>
            </div>

            <a class="gc-account-reset-pass" ng-click="resetPass()" ng-if="!resetPassSuccess" translate>reset password</a>
            <span class="gc-account-reset-pass gc-popin-success" ng-if="resetPassSuccess" translate>reset password email sent</span>

            <div class="gc-form-actions" ng-show="accountChanged">
              <button class="gc-form-action gc-btn-primary" type="submit" ng-disabled="fUpdate.$invalid" translate>save</button>
            </div>

          </fieldset>
        </form>

      </div>
    </div>
  </div>
</script>

    <script type="text/ng-template" id="smartEditPopup.html">
  <div id="gc-smed-popup" ng-click="stopPropagation()">
    <div class="menu" ng-hide="linkInterface">
      <ul>
        <li>
          <a ng-click="selectModifier($event, 'bold')" ng-mousedown="$event.preventDefault()" class="bold"><span>B</span></a>
        </li>
        <li>
          <a ng-click="selectModifier($event, 'underline')" ng-mousedown="$event.preventDefault()" class="underline"><span>U</span></a>
        </li>
        <li>
          <a ng-click="selectModifier($event, 'italic')" ng-mousedown="$event.preventDefault()" class="italic"><span>I</span></a>
        </li>
        <li ng-if="CommentService.website.edition.link">
          <a ng-click="selectModifier($event, 'link')" ng-mousedown="$event.preventDefault()" class="link">
            <span>
              <i class="gcicon-link2"></i>
            </span>
          </a>
        </li>
        <li>
          <a ng-click="selectModifier($event, 'code')" ng-mousedown="$event.preventDefault()" class="code">
            <span>
              <i class="gcicon-code"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
    <div ng-show="linkInterface">
      <input type="url" placeholder="https://" class="gc-input gc-smed-input"
             ng-model="linkChosen" required />
       <input type="submit" value="{{ 'insert' | translate }}" translate ng-click="linkWithUrl();" unselectable="on">
    </div>
    <div class="arrow" ng-style="{'margin-left': arrowOffset}"></div>
  </div>
</script>

    <script type="text/ng-template" id="sharePopin.html">
  <div class="gc-popin gc-popin-share"
    ng-style="{'top': popinCoord.y +'px', 'left': popinCoord.x +'px' }"
    ng-class="{'gc-popin-share--discussion' : depth > 0}"
    ng-if="show"
  >

    <div class="social-sharing">
      <button class="sharing-button" ng-click="sharer('fb')">
        <i class="gcicon-facebook"></i>
      </button>
      <button class="sharing-button" ng-click="sharer('twitter')">
        <i class="gcicon-twitter"></i>
      </button>
      <button class="sharing-button" ng-click="sharer('linkedin')">
        <i class="gcicon-linkedin"></i>
      </button>
    </div>

    <input type="text"
      ng-model="short_url"
      class="share-shortened-url"
      ng-click="copyClipboard($event)"
      onmouseup="return false;"
      ontouchend="setTimeout(function() {setSelectionRange(0, 9999)}, 200)"
      readonly
    />

    <p class="gc-popin-success" ng-if="copied">copied !</p>
  </div>
</script>

    <script type="text/ng-template" id="votePopin.html">

  <div ng-if="comment && show" class="gc-vote" ng-class="{ 'has-boost': canModerate() && !$root.rtl, 'gc-vote-required': required }" visible="popinStyle" ng-style="popinStyle">

    <button class="gc-popin-close" ng-click="close()">
      <i class="gcicon-close"></i>
      <span class="u-sr-only" translate>close</span>
    </button>

    <div class="gc-vote-notice" ng-if="required">
      <div class="gc-vote-notice-inner">
        <span class="gc-vote-notice-text" translate>you have answered to</span>
        <img class="gc-profile-picture" ng-src="{{comment | extractImgCmt}}" alt="" fallback-src>
        <span class="gc-vote-notice-username gc-theme-color-main">{{ comment | extractUsername }}</span>
        <div class="gc-vote-notice-group">
          <span class="gc-vote-notice-ask" translate>leave a vote?</span>
          <a class="gc-vote-notice-nope" ng-click="sendVote(0)" translate>no thanks</a>
        </div>
      </div>
    </div>

    <div class="gc-vote-container">

      <a class="gc-vote-guest" ng-if="GcUser.getGuest()">
        {{ 'can not vote as guest' | translate }}
        <br>
        <span class="gc-vote-guest-register" ng-click="showSignupPopup()">{{ 'register' | translate }}</span>
      </a>

      <div class="gc-vote-boost" ng-if="canModerate() && !$root.rtl">
        <p class="gc-vote-boost-title" translate>vote booster</p>
        <div range-slider
          class="gc-range is-horizontal"
          start="0"
          end="100"
          step="10"
          slider-value="voteBoost"
          slided="updateVoteBoost(value)"
        >
          <div class="gc-slider-enlarger">
            <span>
              <div class="gc-cursor"></div>
            </span>
          </div>
        </div>
        <input disabled
          ng-show="isOwner() && comment.rating.has_voted"
          type="text"
          id="amount"
          value="{{cmt.rating.vote_rate | plusminus}}"
        />
        <ul class="gc-vote-boost-labels">
          <li>0</li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li>50</li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li>100</li>
        </ul>
      </div>

      <div class="gc-vote-slider">
        <ul class="gc-range-values" ng-if="!CommentService.website.votes_discreet">
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(3)" ng-click="sendVote(3)">+</li>
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(2)" ng-click="sendVote(2)">+</li>
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(1)" ng-click="sendVote(1)">+</li>
          <li class="gc-zero" ng-click="sendVote(0)">0</li>
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(-1)" ng-click="sendVote(-1)">-</li>
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(-2)" ng-click="sendVote(-2)">-</li>
          <li class="gc-strong-value" ng-bind-html="Utils.voteIcon(-3)" ng-click="sendVote(-3)">-</li>
        </ul>
        <div range-slider
            class="gc-range"
            start="3"
            end="-3"
            step="1"
            slider-value="vote"
            slided="slided(value)"
          >
          <div class="gc-slider-enlarger">
            <span>
              <div class="gc-cursor"></div>
            </span>
          </div>
        </div>
        <input disabled
             ng-show="isOwner() && comment.rating.has_voted"
             type="text"
             id="amount"
             value="{{cmt.rating.vote_rate | plusminus}}"/>
        <ul class="gc-range-labels">
          <li ng-click="sendVote(3)" translate>ratings6 </li>
          <li ng-click="sendVote(2)" translate>ratings5 </li>
          <li ng-click="sendVote(1)" translate>ratings4 </li>
          <li ng-click="sendVote(0)" translate>ratings3 </li>
          <li ng-click="sendVote(-1)" translate>ratings2 </li>
          <li ng-click="sendVote(-2)" translate>ratings1 </li>
          <li ng-click="sendVote(-3)" translate>ratings0 </li>
        </ul>
      </div>

    </div>

  </div>

</script>


    

<!-- Mock Facebook Pixel Code -->
<script>

  function fbq(action, type) {
    console.log('Facebook pixel code call with action : ' + action + ' and type ' + type);
  }

</script>
<!-- End Mock Facebook Pixel Code -->



    
<!-- Mock Mixpanel -->
<script type="text/javascript">

  function MixPanelMock() {
    this.logParam = function (func) {
      return function() {
        var track_info = 'mixpanel : ' + func + '(';
        for (var i = 0; i < arguments.length; i++) {
          track_info += ' "' + (typeof arguments[i] === 'object' ? JSON.stringify(arguments[i]) : arguments[i]) + '" ';
        }
        console.debug(track_info + ')');
      }
    };
    this.init = this.logParam('init');
    this.alias = this.logParam('alias');
    this.identify = this.logParam('identify');
    this.track = this.logParam('track');
    this.people = {
      set : this.logParam('people.set')
    };
  }
</script>



<!-- start Mixpanel -->
<script type="text/javascript">
  var enableLogging = Math.floor(Math.random() * 12) === 0; // log only one every 12 users
  if (enableLogging) {
    (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
    0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
    for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);

    mixpanel.init('363a36518987415c87e30289e757d86c');
  } else {
    window.mixpanel = new MixPanelMock();
  }
</script>


<!-- end Mixpanel -->


    <script>
      window.langRev = '6fa7ac5004a2f5229e34361c7e1d7346378bd3a3';
      window.gcVersion = '4326833';
    </script>

    
      <script src="./vendors-5d1a4760a7.js.télécharger"></script>
    
      <script src="./main-16f8c15e85.js.télécharger"></script>
    

    <script>
  Sentry.init({
    dsn: 'https://11134f5aedd34aaab963146254a535b0@sentry.io/279191',
    integrations: [new Sentry.Integrations.Angular()],
    sampleRate: .0001, // send one every 10000 events
    whitelistUrls: ['https://graphcomment.com', 'https://errors.angularjs.org'],
  });
</script>


    <script>

      // apply theme as fast as possible
      if (window.location.search.indexOf('theme=dark') !== -1) {
        var bodies = document.querySelectorAll('.gc-body');
        [].forEach.call(bodies, function(body) {
          body.classList.add('gc-theme-dark');
        });
      }

      // apply overlay modifications as fast as possible
      if (window.location.search.indexOf('overlay=true') !== -1) {
        document.documentElement.classList.add('overlay');

        // only on desktop
        if (window.location.search.indexOf('mobile=false') !== -1) {
          document.documentElement.classList.add('overlay-desktop');

          window.overlayScrollbar = OverlayScrollbars(document.body, {
            scrollbars: {
              autoHide: 'move'
            },
            callbacks: {
              onScroll: function() {
                if (window.onOverlayScroll) window.onOverlayScroll();
              }
            }
          });
          window.overlayScrollbar.addExt('scroll-chain');
        } else {
          document.documentElement.classList.add('overlay-mobile');
        }
      }
    </script>

  

</body></html>