var maxHeight=400;var ie7=false;if(navigator.appVersion.indexOf("MSIE 7.")!=-1){ie7=true}$(function(){function a(j){var f=j.find("> ul").eq(0),e=f.height()*1.1,k=e/maxHeight;j.data("origHeight",j.height());f.css({top:"80%",opacity:"0"}).show().animate({top:"100%",opacity:"1"},"fast");if(!ie7){var d=j.find(".scroll");var g=d.hasClass("scrollToCurrent");var h=d.find("li.active");d.mCustomScrollbar({theme:"minimal-dark",scrollInertia:200,mouseWheel:{preventDefault:true}});if(g){d.mCustomScrollbar("scrollTo",h.prev())}}}function c(d){if(!ie7){d.find(".scroll").mCustomScrollbar("destroy")}d.height($(this).data("origHeight")).find("ul").css({top:0}).hide().end()}if($("body").is(".device-desktop")){var b=$(".menu");b.on("mouseenter",".dropdown",function(d){a($(this))});b.on("mouseleave",".dropdown",function(d){c($(this))})}});
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.12
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var f=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false)}}else{this.onmousewheel=l}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false)}}else{this.onmousewheel=null}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(n){var m=c(n),o=m["offsetParent" in c.fn?"offsetParent":"parent"]();if(!o.length){o=c("body")}return parseInt(o.css("fontSize"),10)||parseInt(m.css("fontSize"),10)||16},getPageHeight:function(m){return c(m).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(m){return m?this.bind("mousewheel",m):this.trigger("mousewheel")},unmousewheel:function(m){return this.unbind("mousewheel",m)}});function l(m){var p=m||window.event,v=h.call(arguments,1),x=0,r=0,q=0,u=0,t=0,s=0;m=c.event.fix(p);m.type="mousewheel";if("detail" in p){q=p.detail*-1}if("wheelDelta" in p){q=p.wheelDelta}if("wheelDeltaY" in p){q=p.wheelDeltaY}if("wheelDeltaX" in p){r=p.wheelDeltaX*-1}if("axis" in p&&p.axis===p.HORIZONTAL_AXIS){r=q*-1;q=0}x=q===0?r:q;if("deltaY" in p){q=p.deltaY*-1;x=q}if("deltaX" in p){r=p.deltaX;if(q===0){x=r*-1}}if(q===0&&r===0){return}if(p.deltaMode===1){var w=c.data(this,"mousewheel-line-height");x*=w;q*=w;r*=w}else{if(p.deltaMode===2){var o=c.data(this,"mousewheel-page-height");x*=o;q*=o;r*=o}}u=Math.max(Math.abs(q),Math.abs(r));if(!b||u<b){b=u;if(a(p,u)){b/=40}}if(a(p,u)){x/=40;r/=40;q/=40}x=Math[x>=1?"floor":"ceil"](x/b);r=Math[r>=1?"floor":"ceil"](r/b);q=Math[q>=1?"floor":"ceil"](q/b);if(f.settings.normalizeOffset&&this.getBoundingClientRect){var n=this.getBoundingClientRect();t=m.clientX-n.left;s=m.clientY-n.top}m.deltaX=r;m.deltaY=q;m.deltaFactor=b;m.offsetX=t;m.offsetY=s;m.deltaMode=0;v.unshift(m,x,r,q);if(j){clearTimeout(j)}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,v)}function g(){b=null}function a(n,m){return f.settings.adjustOldDeltas&&n.type==="mousewheel"&&m%120===0}}));(function(b,a,c){(function(d){if(typeof define==="function"&&define.amd){define(["jquery","jquery-mousewheel"],d)}else{d(jQuery)}}(function(k){var g="mCustomScrollbar",d="mCS",n=".mCustomScrollbar",h={setWidth:false,setHeight:false,setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,autoHideScrollbar:false,autoExpandScrollbar:false,alwaysShowScrollbar:0,snapAmount:null,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false,disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{enable:false,scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:true,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoExpandHorizontalScroll:false,autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:true,updateOnImageLoad:true,updateOnSelectorChange:false},theme:"light",callbacks:{onScrollStart:false,onScroll:false,onTotalScroll:false,onTotalScrollBack:false,whileScrolling:false,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true},live:false,liveSelector:null},m=0,p={},f=function(q){if(p[q]){clearTimeout(p[q]);j._delete.call(null,p[q])}},l=(b.attachEvent&&!b.addEventListener)?1:0,o=false,e={init:function(r){var r=k.extend(true,{},h,r),q=j._selector.call(this);if(r.live){var t=r.liveSelector||this.selector||n,s=k(t);if(r.live==="off"){f(t);return}p[t]=setTimeout(function(){s.mCustomScrollbar(r);if(r.live==="once"&&s.length){f(t)}},500)}else{f(t)}r.setWidth=(r.set_width)?r.set_width:r.setWidth;r.setHeight=(r.set_height)?r.set_height:r.setHeight;r.axis=(r.horizontalScroll)?"x":j._findAxis.call(null,r.axis);r.scrollInertia=r.scrollInertia<17?17:r.scrollInertia;if(typeof r.mouseWheel!=="object"&&r.mouseWheel==true){r.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}}r.mouseWheel.scrollAmount=!r.mouseWheelPixels?r.mouseWheel.scrollAmount:r.mouseWheelPixels;r.mouseWheel.normalizeDelta=!r.advanced.normalizeMouseWheelDelta?r.mouseWheel.normalizeDelta:r.advanced.normalizeMouseWheelDelta;r.scrollButtons.scrollType=j._findScrollButtonsType.call(null,r.scrollButtons.scrollType);j._theme.call(null,r);return k(q).each(function(){var v=k(this);if(!v.data(d)){v.data(d,{idx:++m,opt:r,scrollRatio:{y:null,x:null},overflowed:null,bindEvents:false,tweenRunning:false,sequential:{},langDir:v.css("direction"),cbOffsets:null,trigger:null});var x=v.data(d).opt,w=v.data("mcs-axis"),u=v.data("mcs-scrollbar-position"),y=v.data("mcs-theme");if(w){x.axis=w}if(u){x.scrollbarPosition=u}if(y){x.theme=y;j._theme.call(null,x)}j._pluginMarkup.call(this);e.update.call(null,v)}})},update:function(r){var q=r||j._selector.call(this);return k(q).each(function(){var u=k(this);if(u.data(d)){var w=u.data(d),v=w.opt,s=k("#mCSB_"+w.idx+"_container"),t=[k("#mCSB_"+w.idx+"_dragger_vertical"),k("#mCSB_"+w.idx+"_dragger_horizontal")];if(!s.length){return}if(w.tweenRunning){j._stop.call(null,u)}if(u.hasClass("mCS_disabled")){u.removeClass("mCS_disabled")}if(u.hasClass("mCS_destroyed")){u.removeClass("mCS_destroyed")}j._maxHeight.call(this);j._expandContentHorizontally.call(this);if(v.axis!=="y"&&!v.advanced.autoExpandHorizontalScroll){s.css("width",j._contentWidth(s.children()))}w.overflowed=j._overflowed.call(this);j._scrollbarVisibility.call(this);if(v.autoDraggerLength){j._setDraggerLength.call(this)}j._scrollRatio.call(this);j._bindEvents.call(this);var x=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];if(v.axis!=="x"){if(!w.overflowed[0]){j._resetContentPosition.call(this);if(v.axis==="y"){j._unbindEvents.call(this)}else{if(v.axis==="yx"&&w.overflowed[1]){j._scrollTo.call(this,u,x[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}}else{if(t[0].height()>t[0].parent().height()){j._resetContentPosition.call(this)}else{j._scrollTo.call(this,u,x[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}}if(v.axis!=="y"){if(!w.overflowed[1]){j._resetContentPosition.call(this);if(v.axis==="x"){j._unbindEvents.call(this)}else{if(v.axis==="yx"&&w.overflowed[0]){j._scrollTo.call(this,u,x[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}}else{if(t[1].width()>t[1].parent().width()){j._resetContentPosition.call(this)}else{j._scrollTo.call(this,u,x[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}}j._autoUpdate.call(this)}})},scrollTo:function(s,r){if(typeof s=="undefined"||s==null){return}var q=j._selector.call(this);return k(q).each(function(){var v=k(this);if(v.data(d)){var y=v.data(d),x=y.opt,w={trigger:"external",scrollInertia:x.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:false,callbacks:true,onStart:true,onUpdate:true,onComplete:true},t=k.extend(true,{},w,r),z=j._arr.call(this,s),u=t.scrollInertia<17?17:t.scrollInertia;z[0]=j._to.call(this,z[0],"y");z[1]=j._to.call(this,z[1],"x");if(t.moveDragger){z[0]*=y.scrollRatio.y;z[1]*=y.scrollRatio.x}t.dur=u;setTimeout(function(){if(z[0]!==null&&typeof z[0]!=="undefined"&&x.axis!=="x"&&y.overflowed[0]){t.dir="y";t.overwrite="all";j._scrollTo.call(this,v,z[0].toString(),t)}if(z[1]!==null&&typeof z[1]!=="undefined"&&x.axis!=="y"&&y.overflowed[1]){t.dir="x";t.overwrite="none";j._scrollTo.call(this,v,z[1].toString(),t)}},60)}})},stop:function(){var q=j._selector.call(this);return k(q).each(function(){var r=k(this);if(r.data(d)){j._stop.call(null,r)}})},disable:function(s){var q=j._selector.call(this);return k(q).each(function(){var r=k(this);if(r.data(d)){var u=r.data(d),t=u.opt;j._autoUpdate.call(this,"remove");j._unbindEvents.call(this);if(s){j._resetContentPosition.call(this)}j._scrollbarVisibility.call(this,true);r.addClass("mCS_disabled")}})},destroy:function(){var q=j._selector.call(this);return k(q).each(function(){var t=k(this);if(t.data(d)){var v=t.data(d),u=v.opt,r=k("#mCSB_"+v.idx),s=k("#mCSB_"+v.idx+"_container"),w=k(".mCSB_"+v.idx+"_scrollbar");if(u.live){f(q)}j._autoUpdate.call(this,"remove");j._unbindEvents.call(this);j._resetContentPosition.call(this);t.removeData(d);j._delete.call(null,this.mcs);w.remove();r.replaceWith(s.contents());t.removeClass(g+" _"+d+"_"+v.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")}})}},j={_selector:function(){return(typeof k(this)!=="object"||k(this).length<1)?n:this},_theme:function(t){var s=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],q=["minimal","minimal-dark"],v=["minimal","minimal-dark"],u=["minimal","minimal-dark"];t.autoDraggerLength=k.inArray(t.theme,s)>-1?false:t.autoDraggerLength;t.autoExpandScrollbar=k.inArray(t.theme,r)>-1?false:t.autoExpandScrollbar;t.scrollButtons.enable=k.inArray(t.theme,q)>-1?false:t.scrollButtons.enable;t.autoHideScrollbar=k.inArray(t.theme,v)>-1?true:t.autoHideScrollbar;t.scrollbarPosition=k.inArray(t.theme,u)>-1?"outside":t.scrollbarPosition},_findAxis:function(q){return(q==="yx"||q==="xy"||q==="auto")?"yx":(q==="x"||q==="horizontal")?"x":"y"},_findScrollButtonsType:function(q){return(q==="stepped"||q==="pixels"||q==="step"||q==="click")?"stepped":"stepless"},_pluginMarkup:function(){var z=k(this),y=z.data(d),s=y.opt,u=s.autoExpandScrollbar?" mCSB_scrollTools_onDrag_expand":"",C=["<div id='mCSB_"+y.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+y.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+u+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+y.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+y.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+y.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+u+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+y.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],v=s.axis==="yx"?"mCSB_vertical_horizontal":s.axis==="x"?"mCSB_horizontal":"mCSB_vertical",x=s.axis==="yx"?C[0]+C[1]:s.axis==="x"?C[1]:C[0],w=s.axis==="yx"?"<div id='mCSB_"+y.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",t=s.autoHideScrollbar?" mCS-autoHide":"",q=(s.axis!=="x"&&y.langDir==="rtl")?" mCS-dir-rtl":"";if(s.setWidth){z.css("width",s.setWidth)}if(s.setHeight){z.css("height",s.setHeight)}s.setLeft=(s.axis!=="y"&&y.langDir==="rtl")?"989999px":s.setLeft;z.addClass(g+" _"+d+"_"+y.idx+t+q).wrapInner("<div id='mCSB_"+y.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+v+"'><div id='mCSB_"+y.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir="+y.langDir+" /></div>");var r=k("#mCSB_"+y.idx),A=k("#mCSB_"+y.idx+"_container");if(s.axis!=="y"&&!s.advanced.autoExpandHorizontalScroll){A.css("width",j._contentWidth(A.children()))}if(s.scrollbarPosition==="outside"){if(z.css("position")==="static"){z.css("position","relative")}z.css("overflow","visible");r.addClass("mCSB_outside").after(x)}else{r.addClass("mCSB_inside").append(x);A.wrap(w)}j._scrollButtons.call(this);var B=[k("#mCSB_"+y.idx+"_dragger_vertical"),k("#mCSB_"+y.idx+"_dragger_horizontal")];B[0].css("min-height",B[0].height());B[1].css("min-width",B[1].width())},_contentWidth:function(q){return Math.max.apply(Math,q.map(function(){return k(this).outerWidth(true)}).get())},_expandContentHorizontally:function(){var r=k(this),t=r.data(d),s=t.opt,q=k("#mCSB_"+t.idx+"_container");if(s.advanced.autoExpandHorizontalScroll&&s.axis!=="y"){q.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:(Math.ceil(q[0].getBoundingClientRect().right+0.4)-Math.floor(q[0].getBoundingClientRect().left)),position:"relative"}).unwrap()}},_scrollButtons:function(){var t=k(this),v=t.data(d),u=v.opt,r=k(".mCSB_"+v.idx+"_scrollbar:first"),s=["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],q=[(u.axis==="x"?s[2]:s[0]),(u.axis==="x"?s[3]:s[1]),s[2],s[3]];if(u.scrollButtons.enable){r.prepend(q[0]).append(q[1]).next(".mCSB_scrollTools").prepend(q[2]).append(q[3])}},_maxHeight:function(){var u=k(this),x=u.data(d),w=x.opt,s=k("#mCSB_"+x.idx),r=u.css("max-height"),t=r.indexOf("%")!==-1,q=u.css("box-sizing");if(r!=="none"){var v=t?u.parent().height()*parseInt(r)/100:parseInt(r);if(q==="border-box"){v-=((u.innerHeight()-u.height())+(u.outerHeight()-u.innerHeight()))}s.css("max-height",Math.round(v))}},_setDraggerLength:function(){var v=k(this),t=v.data(d),q=k("#mCSB_"+t.idx),x=k("#mCSB_"+t.idx+"_container"),z=[k("#mCSB_"+t.idx+"_dragger_vertical"),k("#mCSB_"+t.idx+"_dragger_horizontal")],u=[q.height()/x.outerHeight(false),q.width()/x.outerWidth(false)],r=[parseInt(z[0].css("min-height")),Math.round(u[0]*z[0].parent().height()),parseInt(z[1].css("min-width")),Math.round(u[1]*z[1].parent().width())],s=l&&(r[1]<r[0])?r[0]:r[1],y=l&&(r[3]<r[2])?r[2]:r[3];z[0].css({height:s,"max-height":(z[0].parent().height()-10)}).find(".mCSB_dragger_bar").css({"line-height":r[0]+"px"});z[1].css({width:y,"max-width":(z[1].parent().width()-10)})},_scrollRatio:function(){var u=k(this),w=u.data(d),r=k("#mCSB_"+w.idx),s=k("#mCSB_"+w.idx+"_container"),t=[k("#mCSB_"+w.idx+"_dragger_vertical"),k("#mCSB_"+w.idx+"_dragger_horizontal")],v=[s.outerHeight(false)-r.height(),s.outerWidth(false)-r.width()],q=[v[0]/(t[0].parent().height()-t[0].height()),v[1]/(t[1].parent().width()-t[1].width())];w.scrollRatio={y:q[0],x:q[1]}},_onDragClasses:function(s,u,r){var t=r?"mCSB_dragger_onDrag_expanded":"",q=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],v=s.closest(".mCSB_scrollTools");if(u==="active"){s.toggleClass(q[0]+" "+t);v.toggleClass(q[1]);s[0]._draggable=s[0]._draggable?0:1}else{if(!s[0]._draggable){if(u==="hide"){s.removeClass(q[0]);v.removeClass(q[1])}else{s.addClass(q[0]);v.addClass(q[1])}}}},_overflowed:function(){var u=k(this),v=u.data(d),r=k("#mCSB_"+v.idx),t=k("#mCSB_"+v.idx+"_container"),s=v.overflowed==null?t.height():t.outerHeight(false),q=v.overflowed==null?t.width():t.outerWidth(false);return[s>r.height(),q>r.width()]},_resetContentPosition:function(){var u=k(this),w=u.data(d),v=w.opt,r=k("#mCSB_"+w.idx),s=k("#mCSB_"+w.idx+"_container"),t=[k("#mCSB_"+w.idx+"_dragger_vertical"),k("#mCSB_"+w.idx+"_dragger_horizontal")];j._stop(u);if((v.axis!=="x"&&!w.overflowed[0])||(v.axis==="y"&&w.overflowed[0])){t[0].add(s).css("top",0)}if((v.axis!=="y"&&!w.overflowed[1])||(v.axis==="x"&&w.overflowed[1])){var q=dx=0;if(w.langDir==="rtl"){q=r.width()-s.outerWidth(false);dx=Math.abs(q/w.scrollRatio.x)}s.css("left",q);t[1].css("left",dx)}},_bindEvents:function(){var s=k(this),u=s.data(d),t=u.opt;if(!u.bindEvents){j._draggable.call(this);if(t.contentTouchScroll){j._contentDraggable.call(this)}if(t.mouseWheel.enable){function r(){q=setTimeout(function(){if(!k.event.special.mousewheel){r()}else{clearTimeout(q);j._mousewheel.call(s[0])}},1000)}var q;j._mousewheel.call(s[0])}j._draggerRail.call(this);j._wrapperScroll.call(this);if(t.advanced.autoScrollOnFocus){j._focus.call(this)}if(t.scrollButtons.enable){j._buttons.call(this)}if(t.keyboard.enable){j._keyboard.call(this)}u.bindEvents=true}},_unbindEvents:function(){var t=k(this),u=t.data(d),q=d+"_"+u.idx,v=".mCSB_"+u.idx+"_scrollbar",s=k("#mCSB_"+u.idx+",#mCSB_"+u.idx+"_container,#mCSB_"+u.idx+"_container_wrapper,"+v+" .mCSB_draggerContainer,#mCSB_"+u.idx+"_dragger_vertical,#mCSB_"+u.idx+"_dragger_horizontal,"+v+">a"),r=k("#mCSB_"+u.idx+"_container");if(u.bindEvents){k(a).unbind("."+q);s.each(function(){k(this).unbind("."+q)});clearTimeout(t[0]._focusTimeout);j._delete.call(null,t[0]._focusTimeout);clearTimeout(u.sequential.step);j._delete.call(null,u.sequential.step);clearTimeout(r[0].onCompleteTimeout);j._delete.call(null,r[0].onCompleteTimeout);u.bindEvents=false}},_scrollbarVisibility:function(r){var u=k(this),w=u.data(d),v=w.opt,q=k("#mCSB_"+w.idx+"_container_wrapper"),s=q.length?q:k("#mCSB_"+w.idx+"_container"),x=[k("#mCSB_"+w.idx+"_scrollbar_vertical"),k("#mCSB_"+w.idx+"_scrollbar_horizontal")],t=[x[0].find(".mCSB_dragger"),x[1].find(".mCSB_dragger")];if(v.axis!=="x"){if(w.overflowed[0]&&!r){x[0].add(t[0]).add(x[0].children("a")).css("display","block");s.removeClass("mCS_no_scrollbar_y mCS_y_hidden")}else{if(v.alwaysShowScrollbar){if(v.alwaysShowScrollbar!==2){t[0].add(x[0].children("a")).css("display","none")}s.removeClass("mCS_y_hidden")}else{x[0].css("display","none");s.addClass("mCS_y_hidden")}s.addClass("mCS_no_scrollbar_y")}}if(v.axis!=="y"){if(w.overflowed[1]&&!r){x[1].add(t[1]).add(x[1].children("a")).css("display","block");s.removeClass("mCS_no_scrollbar_x mCS_x_hidden")}else{if(v.alwaysShowScrollbar){if(v.alwaysShowScrollbar!==2){t[1].add(x[1].children("a")).css("display","none")}s.removeClass("mCS_x_hidden")}else{x[1].css("display","none");s.addClass("mCS_x_hidden")}s.addClass("mCS_no_scrollbar_x")}}if(!w.overflowed[0]&&!w.overflowed[1]){u.addClass("mCS_no_scrollbar")}else{u.removeClass("mCS_no_scrollbar")}},_coordinates:function(r){var q=r.type;switch(q){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[r.originalEvent.pageY,r.originalEvent.pageX];break;case"touchstart":case"touchmove":case"touchend":var s=r.originalEvent.touches[0]||r.originalEvent.changedTouches[0];return[s.pageY,s.pageX];break;default:return[r.pageY,r.pageX]}},_draggable:function(){var v=k(this),t=v.data(d),q=t.opt,s=d+"_"+t.idx,u=["mCSB_"+t.idx+"_dragger_vertical","mCSB_"+t.idx+"_dragger_horizontal"],w=k("#mCSB_"+t.idx+"_container"),x=k("#"+u[0]+",#"+u[1]),B,z,A;x.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(F){F.stopImmediatePropagation();F.preventDefault();if(!j._mouseBtnLeft(F)){return}o=true;if(l){a.onselectstart=function(){return false}}y(false);j._stop(v);B=k(this);var G=B.offset(),H=j._coordinates(F)[0]-G.top,C=j._coordinates(F)[1]-G.left,E=B.height()+G.top,D=B.width()+G.left;if(H<E&&H>0&&C<D&&C>0){z=H;A=C}j._onDragClasses(B,"active",q.autoExpandScrollbar)}).bind("touchmove."+s,function(D){D.stopImmediatePropagation();D.preventDefault();var E=B.offset(),F=j._coordinates(D)[0]-E.top,C=j._coordinates(D)[1]-E.left;r(z,A,F,C)});k(a).bind("mousemove."+s+" pointermove."+s+" MSPointerMove."+s,function(D){if(B){var E=B.offset(),F=j._coordinates(D)[0]-E.top,C=j._coordinates(D)[1]-E.left;if(z===F){return}r(z,A,F,C)}}).add(x).bind("mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(C){if(B){j._onDragClasses(B,"active",q.autoExpandScrollbar);B=null}o=false;if(l){a.onselectstart=null}y(true)});function y(C){var D=w.find("iframe");if(!D.length){return}var E=!C?"none":"auto";D.css("pointer-events",E)}function r(E,F,H,C){w[0].idleTimer=q.scrollInertia<233?250:0;if(B.attr("id")===u[1]){var D="x",G=((B[0].offsetLeft-F)+C)*t.scrollRatio.x}else{var D="y",G=((B[0].offsetTop-E)+H)*t.scrollRatio.y}j._scrollTo(v,G.toString(),{dir:D,drag:true})}},_contentDraggable:function(){var z=k(this),L=z.data(d),J=L.opt,G=d+"_"+L.idx,w=k("#mCSB_"+L.idx),A=k("#mCSB_"+L.idx+"_container"),x=[k("#mCSB_"+L.idx+"_dragger_vertical"),k("#mCSB_"+L.idx+"_dragger_horizontal")],F,H,M,N,D=[],E=[],I,B,v,u,K,y,s=0,r,t=J.axis==="yx"?"none":"all";A.bind("touchstart."+G+" pointerdown."+G+" MSPointerDown."+G,function(O){if(!j._pointerTouch(O)||o){return}var P=A.offset();F=j._coordinates(O)[0]-P.top;H=j._coordinates(O)[1]-P.left}).bind("touchmove."+G+" pointermove."+G+" MSPointerMove."+G,function(R){if(!j._pointerTouch(R)||o){return}R.stopImmediatePropagation();B=j._getTime();var Q=w.offset(),T=j._coordinates(R)[0]-Q.top,V=j._coordinates(R)[1]-Q.left,S="mcsLinearOut";D.push(T);E.push(V);if(L.overflowed[0]){var P=x[0].parent().height()-x[0].height(),U=((F-T)>0&&(T-F)>-(P*L.scrollRatio.y))}if(L.overflowed[1]){var O=x[1].parent().width()-x[1].width(),W=((H-V)>0&&(V-H)>-(O*L.scrollRatio.x))}if(U||W){R.preventDefault()}y=J.axis==="yx"?[(F-T),(H-V)]:J.axis==="x"?[null,(H-V)]:[(F-T),null];A[0].idleTimer=250;if(L.overflowed[0]){C(y[0],s,S,"y","all",true)}if(L.overflowed[1]){C(y[1],s,S,"x",t,true)}});w.bind("touchstart."+G+" pointerdown."+G+" MSPointerDown."+G,function(O){if(!j._pointerTouch(O)||o){return}O.stopImmediatePropagation();j._stop(z);I=j._getTime();var P=w.offset();M=j._coordinates(O)[0]-P.top;N=j._coordinates(O)[1]-P.left;D=[];E=[]}).bind("touchend."+G+" pointerup."+G+" MSPointerUp."+G,function(Q){if(!j._pointerTouch(Q)||o){return}Q.stopImmediatePropagation();v=j._getTime();var O=w.offset(),U=j._coordinates(Q)[0]-O.top,W=j._coordinates(Q)[1]-O.left;if((v-B)>30){return}K=1000/(v-I);var R="mcsEaseOut",S=K<2.5,X=S?[D[D.length-2],E[E.length-2]]:[0,0];u=S?[(U-X[0]),(W-X[1])]:[U-M,W-N];var P=[Math.abs(u[0]),Math.abs(u[1])];K=S?[Math.abs(u[0]/4),Math.abs(u[1]/4)]:[K,K];var V=[Math.abs(A[0].offsetTop)-(u[0]*q((P[0]/K[0]),K[0])),Math.abs(A[0].offsetLeft)-(u[1]*q((P[1]/K[1]),K[1]))];y=J.axis==="yx"?[V[0],V[1]]:J.axis==="x"?[null,V[1]]:[V[0],null];r=[(P[0]*4)+J.scrollInertia,(P[1]*4)+J.scrollInertia];var T=parseInt(J.contentTouchScroll)||0;y[0]=P[0]>T?y[0]:0;y[1]=P[1]>T?y[1]:0;if(L.overflowed[0]){C(y[0],r[0],R,"y",t,false)}if(L.overflowed[1]){C(y[1],r[1],R,"x",t,false)}});function q(Q,O){var P=[O*1.5,O*2,O/1.5,O/2];if(Q>90){return O>4?P[0]:P[3]}else{if(Q>60){return O>3?P[3]:P[2]}else{if(Q>30){return O>8?P[1]:O>6?P[0]:O>4?O:P[2]}else{return O>8?O:P[3]}}}}function C(Q,S,T,P,O,R){if(!Q){return}j._scrollTo(z,Q.toString(),{dur:S,scrollEasing:T,dir:P,overwrite:O,drag:R})}},_mousewheel:function(){var t=k(this),v=t.data(d);if(v){var u=v.opt,r=d+"_"+v.idx,q=k("#mCSB_"+v.idx),s=[k("#mCSB_"+v.idx+"_dragger_vertical"),k("#mCSB_"+v.idx+"_dragger_horizontal")];q.bind("mousewheel."+r,function(A,E){j._stop(t);if(j._disableMousewheel(t,A.target)){return}var C=u.mouseWheel.deltaFactor!=="auto"?parseInt(u.mouseWheel.deltaFactor):(l&&A.deltaFactor<100)?100:A.deltaFactor<40?40:A.deltaFactor||100;if(u.axis==="x"||u.mouseWheel.axis==="x"){var x="x",D=[Math.round(C*v.scrollRatio.x),parseInt(u.mouseWheel.scrollAmount)],z=u.mouseWheel.scrollAmount!=="auto"?D[1]:D[0]>=q.width()?q.width()*0.9:D[0],F=Math.abs(k("#mCSB_"+v.idx+"_container")[0].offsetLeft),B=s[1][0].offsetLeft,y=s[1].parent().width()-s[1].width(),w=A.deltaX||A.deltaY||E}else{var x="y",D=[Math.round(C*v.scrollRatio.y),parseInt(u.mouseWheel.scrollAmount)],z=u.mouseWheel.scrollAmount!=="auto"?D[1]:D[0]>=q.height()?q.height()*0.9:D[0],F=Math.abs(k("#mCSB_"+v.idx+"_container")[0].offsetTop),B=s[0][0].offsetTop,y=s[0].parent().height()-s[0].height(),w=A.deltaY||E}if((x==="y"&&!v.overflowed[0])||(x==="x"&&!v.overflowed[1])){return}if(u.mouseWheel.invert){w=-w}if(u.mouseWheel.normalizeDelta){w=w<0?-1:1}if((w>0&&B!==0)||(w<0&&B!==y)||u.mouseWheel.preventDefault){A.stopImmediatePropagation();A.preventDefault()}j._scrollTo(t,(F-(w*z)).toString(),{dir:x})})}},_disableMousewheel:function(s,u){var q=u.nodeName.toLowerCase(),r=s.data(d).opt.mouseWheel.disableOver,t=["select","textarea"];return k.inArray(q,r)>-1&&!(k.inArray(q,t)>-1&&!k(u).is(":focus"))},_draggerRail:function(){var t=k(this),u=t.data(d),r=d+"_"+u.idx,s=k("#mCSB_"+u.idx+"_container"),v=s.parent(),q=k(".mCSB_"+u.idx+"_scrollbar .mCSB_draggerContainer");q.bind("touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(w){o=true}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(w){o=false}).bind("click."+r,function(A){if(k(A.target).hasClass("mCSB_draggerContainer")||k(A.target).hasClass("mCSB_draggerRail")){j._stop(t);var x=k(this),z=x.find(".mCSB_dragger");if(x.parent(".mCSB_scrollTools_horizontal").length>0){if(!u.overflowed[1]){return}var w="x",y=A.pageX>z.offset().left?-1:1,B=Math.abs(s[0].offsetLeft)-(y*(v.width()*0.9))}else{if(!u.overflowed[0]){return}var w="y",y=A.pageY>z.offset().top?-1:1,B=Math.abs(s[0].offsetTop)-(y*(v.height()*0.9))}j._scrollTo(t,B.toString(),{dir:w,scrollEasing:"mcsEaseInOut"})}})},_focus:function(){var s=k(this),u=s.data(d),t=u.opt,q=d+"_"+u.idx,r=k("#mCSB_"+u.idx+"_container"),v=r.parent();r.bind("focusin."+q,function(y){var x=k(a.activeElement),z=r.find(".mCustomScrollBox").length,w=0;if(!x.is(t.advanced.autoScrollOnFocus)){return}j._stop(s);clearTimeout(s[0]._focusTimeout);s[0]._focusTimer=z?(w+17)*z:0;s[0]._focusTimeout=setTimeout(function(){var D=[x.offset().top-r.offset().top,x.offset().left-r.offset().left],C=[r[0].offsetTop,r[0].offsetLeft],A=[(C[0]+D[0]>=0&&C[0]+D[0]<v.height()-x.outerHeight(false)),(C[1]+D[1]>=0&&C[0]+D[1]<v.width()-x.outerWidth(false))],B=(t.axis==="yx"&&!A[0]&&!A[1])?"none":"all";if(t.axis!=="x"&&!A[0]){j._scrollTo(s,D[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:B,dur:w})}if(t.axis!=="y"&&!A[1]){j._scrollTo(s,D[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:B,dur:w})}},s[0]._focusTimer)})},_wrapperScroll:function(){var r=k(this),s=r.data(d),q=d+"_"+s.idx,t=k("#mCSB_"+s.idx+"_container").parent();t.bind("scroll."+q,function(u){t.scrollTop(0).scrollLeft(0)})},_buttons:function(){var v=k(this),x=v.data(d),w=x.opt,q=x.sequential,s=d+"_"+x.idx,u=k("#mCSB_"+x.idx+"_container"),t=".mCSB_"+x.idx+"_scrollbar",r=k(t+">a");r.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,function(A){A.preventDefault();if(!j._mouseBtnLeft(A)){return}var z=k(this).attr("class");q.type=w.scrollButtons.scrollType;switch(A.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(q.type==="stepped"){return}o=true;x.tweenRunning=false;y("on",z);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(q.type==="stepped"){return}o=false;if(q.dir){y("off",z)}break;case"click":if(q.type!=="stepped"||x.tweenRunning){return}y("on",z);break}function y(B,C){q.scrollAmount=w.snapAmount||w.scrollButtons.scrollAmount;j._sequentialScroll.call(this,v,B,C)}})},_keyboard:function(){var v=k(this),u=v.data(d),r=u.opt,y=u.sequential,t=d+"_"+u.idx,s=k("#mCSB_"+u.idx),x=k("#mCSB_"+u.idx+"_container"),q=x.parent(),w="input,textarea,select,datalist,keygen,[contenteditable='true']";s.attr("tabindex","0").bind("blur."+t+" keydown."+t+" keyup."+t,function(E){switch(E.type){case"blur":if(u.tweenRunning&&y.dir){z("off",null)}break;case"keydown":case"keyup":var B=E.keyCode?E.keyCode:E.which,C="on";if((r.axis!=="x"&&(B===38||B===40))||(r.axis!=="y"&&(B===37||B===39))){if(((B===38||B===40)&&!u.overflowed[0])||((B===37||B===39)&&!u.overflowed[1])){return}if(E.type==="keyup"){C="off"}if(!k(a.activeElement).is(w)){E.preventDefault();E.stopImmediatePropagation();z(C,B)}}else{if(B===33||B===34){if(u.overflowed[0]||u.overflowed[1]){E.preventDefault();E.stopImmediatePropagation()}if(E.type==="keyup"){j._stop(v);var D=B===34?-1:1;if(r.axis==="x"||(r.axis==="yx"&&u.overflowed[1]&&!u.overflowed[0])){var A="x",F=Math.abs(x[0].offsetLeft)-(D*(q.width()*0.9))}else{var A="y",F=Math.abs(x[0].offsetTop)-(D*(q.height()*0.9))}j._scrollTo(v,F.toString(),{dir:A,scrollEasing:"mcsEaseInOut"})}}else{if(B===35||B===36){if(!k(a.activeElement).is(w)){if(u.overflowed[0]||u.overflowed[1]){E.preventDefault();E.stopImmediatePropagation()}if(E.type==="keyup"){if(r.axis==="x"||(r.axis==="yx"&&u.overflowed[1]&&!u.overflowed[0])){var A="x",F=B===35?Math.abs(q.width()-x.outerWidth(false)):0}else{var A="y",F=B===35?Math.abs(q.height()-x.outerHeight(false)):0}j._scrollTo(v,F.toString(),{dir:A,scrollEasing:"mcsEaseInOut"})}}}}}break}function z(G,H){y.type=r.keyboard.scrollType;y.scrollAmount=r.snapAmount||r.keyboard.scrollAmount;if(y.type==="stepped"&&u.tweenRunning){return}j._sequentialScroll.call(this,v,G,H)}})},_sequentialScroll:function(s,v,t){var x=s.data(d),r=x.opt,z=x.sequential,y=k("#mCSB_"+x.idx+"_container"),q=z.type==="stepped"?true:false;switch(v){case"on":z.dir=[(t==="mCSB_buttonRight"||t==="mCSB_buttonLeft"||t===39||t===37?"x":"y"),(t==="mCSB_buttonUp"||t==="mCSB_buttonLeft"||t===38||t===37?-1:1)];j._stop(s);if(j._isNumeric(t)&&z.type==="stepped"){return}u(q);break;case"off":w();if(q||(x.tweenRunning&&z.dir)){u(true)}break}function u(A){var G=z.type!=="stepped",K=!A?1000/60:G?r.scrollInertia/1.5:r.scrollInertia,C=!A?2.5:G?7.5:40,J=[Math.abs(y[0].offsetTop),Math.abs(y[0].offsetLeft)],F=[x.scrollRatio.y>10?10:x.scrollRatio.y,x.scrollRatio.x>10?10:x.scrollRatio.x],D=z.dir[0]==="x"?J[1]+(z.dir[1]*(F[1]*C)):J[0]+(z.dir[1]*(F[0]*C)),I=z.dir[0]==="x"?J[1]+(z.dir[1]*parseInt(z.scrollAmount)):J[0]+(z.dir[1]*parseInt(z.scrollAmount)),H=z.scrollAmount!=="auto"?I:D,E=!A?"mcsLinear":G?"mcsLinearOut":"mcsEaseInOut",B=!A?false:true;if(A&&K<17){H=z.dir[0]==="x"?J[1]:J[0]}j._scrollTo(s,H.toString(),{dir:z.dir[0],scrollEasing:E,dur:K,onComplete:B});if(A){z.dir=false;return}clearTimeout(z.step);z.step=setTimeout(function(){u()},K)}function w(){clearTimeout(z.step);j._stop(s)}},_arr:function(s){var r=k(this).data(d).opt,q=[];if(typeof s==="function"){s=s()}if(!(s instanceof Array)){q[0]=s.y?s.y:s.x||r.axis==="x"?null:s;q[1]=s.x?s.x:s.y||r.axis==="y"?null:s}else{q=s.length>1?[s[0],s[1]]:r.axis==="x"?[null,s[0]]:[s[0],null]}if(typeof q[0]==="function"){q[0]=q[0]()}if(typeof q[1]==="function"){q[1]=q[1]()}return q},_to:function(v,w){if(v==null||typeof v=="undefined"){return}var C=k(this),B=C.data(d),u=B.opt,D=k("#mCSB_"+B.idx+"_container"),r=D.parent(),F=typeof v;if(!w){w=u.axis==="x"?"x":"y"}var q=w==="x"?D.outerWidth(false):D.outerHeight(false),x=w==="x"?D.offset().left:D.offset().top,E=w==="x"?D[0].offsetLeft:D[0].offsetTop,z=w==="x"?"left":"top";switch(F){case"function":return v();break;case"object":if(v.nodeType){var A=w==="x"?k(v).offset().left:k(v).offset().top}else{if(v.jquery){if(!v.length){return}var A=w==="x"?v.offset().left:v.offset().top}}return A-x;break;case"string":case"number":if(j._isNumeric.call(null,v)){return Math.abs(v)}else{if(v.indexOf("%")!==-1){return Math.abs(q*parseInt(v)/100)}else{if(v.indexOf("-=")!==-1){return Math.abs(E-parseInt(v.split("-=")[1]))}else{if(v.indexOf("+=")!==-1){var s=(E+parseInt(v.split("+=")[1]));return s>=0?0:Math.abs(s)}else{if(v.indexOf("px")!==-1&&j._isNumeric.call(null,v.split("px")[0])){return Math.abs(v.split("px")[0])}else{if(v==="top"||v==="left"){return 0}else{if(v==="bottom"){return Math.abs(r.height()-D.outerHeight(false))}else{if(v==="right"){return Math.abs(r.width()-D.outerWidth(false))}else{if(v==="first"||v==="last"){var y=D.find(":"+v),A=w==="x"?k(y).offset().left:k(y).offset().top;return A-x}else{if(k(v).length){var A=w==="x"?k(v).offset().left:k(v).offset().top;return A-x}else{D.css(z,v);e.update.call(null,C[0]);return}}}}}}}}}}break}},_autoUpdate:function(r){var u=k(this),G=u.data(d),A=G.opt,w=k("#mCSB_"+G.idx+"_container");if(r){clearTimeout(w[0].autoUpdate);j._delete.call(null,w[0].autoUpdate);return}var t=w.parent(),q=[k("#mCSB_"+G.idx+"_scrollbar_vertical"),k("#mCSB_"+G.idx+"_scrollbar_horizontal")],E=function(){return[q[0].is(":visible")?q[0].outerHeight(true):0,q[1].is(":visible")?q[1].outerWidth(true):0]},F=z(),y,v=[w.outerHeight(false),w.outerWidth(false),t.height(),t.width(),E()[0],E()[1]],I,C=H(),x;D();function D(){clearTimeout(w[0].autoUpdate);w[0].autoUpdate=setTimeout(function(){if(A.advanced.updateOnSelectorChange){y=z();if(y!==F){s();F=y;return}}if(A.advanced.updateOnContentResize){I=[w.outerHeight(false),w.outerWidth(false),t.height(),t.width(),E()[0],E()[1]];if(I[0]!==v[0]||I[1]!==v[1]||I[2]!==v[2]||I[3]!==v[3]||I[4]!==v[4]||I[5]!==v[5]){s();v=I}}if(A.advanced.updateOnImageLoad){x=H();if(x!==C){w.find("img").each(function(){B(this.src)});C=x}}if(A.advanced.updateOnSelectorChange||A.advanced.updateOnContentResize||A.advanced.updateOnImageLoad){D()}},60)}function H(){var J=0;if(A.advanced.updateOnImageLoad){J=w.find("img").length}return J}function B(M){var J=new Image();function L(N,O){return function(){return O.apply(N,arguments)}}function K(){this.onload=null;s()}J.onload=L(J,K);J.src=M}function z(){if(A.advanced.updateOnSelectorChange===true){A.advanced.updateOnSelectorChange="*"}var J=0,K=w.find(A.advanced.updateOnSelectorChange);if(A.advanced.updateOnSelectorChange&&K.length>0){K.each(function(){J+=k(this).height()+k(this).width()})}return J}function s(){clearTimeout(w[0].autoUpdate);e.update.call(null,u[0])}},_snapAmount:function(s,q,r){return(Math.round(s/q)*q-r)},_stop:function(q){var s=q.data(d),r=k("#mCSB_"+s.idx+"_container,#mCSB_"+s.idx+"_container_wrapper,#mCSB_"+s.idx+"_dragger_vertical,#mCSB_"+s.idx+"_dragger_horizontal");r.each(function(){j._stopTween.call(this)})},_scrollTo:function(r,t,v){var J=r.data(d),F=J.opt,E={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:false,dur:F.scrollInertia,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},v=k.extend(E,v),H=[v.dur,(v.drag?0:v.dur)],w=k("#mCSB_"+J.idx),C=k("#mCSB_"+J.idx+"_container"),L=F.callbacks.onTotalScrollOffset?j._arr.call(r,F.callbacks.onTotalScrollOffset):[0,0],q=F.callbacks.onTotalScrollBackOffset?j._arr.call(r,F.callbacks.onTotalScrollBackOffset):[0,0];J.trigger=v.trigger;if(F.snapAmount){t=j._snapAmount(t,F.snapAmount,F.snapOffset)}switch(v.dir){case"x":var y=k("#mCSB_"+J.idx+"_dragger_horizontal"),A="left",D=C[0].offsetLeft,I=[w.width()-C.outerWidth(false),y.parent().width()-y.width()],s=[t,(t/J.scrollRatio.x)],M=L[1],K=q[1],B=M>0?M/J.scrollRatio.x:0,x=K>0?K/J.scrollRatio.x:0;break;case"y":var y=k("#mCSB_"+J.idx+"_dragger_vertical"),A="top",D=C[0].offsetTop,I=[w.height()-C.outerHeight(false),y.parent().height()-y.height()],s=[t,(t/J.scrollRatio.y)],M=L[0],K=q[0],B=M>0?M/J.scrollRatio.y:0,x=K>0?K/J.scrollRatio.y:0;break}if(s[1]<0){s=[0,0]}else{if(s[1]>=I[1]){s=[I[0],I[1]]}else{s[0]=-s[0]}}clearTimeout(C[0].onCompleteTimeout);if(!J.tweenRunning&&((D===0&&s[0]>=0)||(D===I[0]&&s[0]<=I[0]))){return}j._tweenTo.call(null,y[0],A,Math.round(s[1]),H[1],v.scrollEasing);j._tweenTo.call(null,C[0],A,Math.round(s[0]),H[0],v.scrollEasing,v.overwrite,{onStart:function(){if(v.callbacks&&v.onStart&&!J.tweenRunning){if(u("onScrollStart")){G();F.callbacks.onScrollStart.call(r[0])}J.tweenRunning=true;j._onDragClasses(y);J.cbOffsets=z()}},onUpdate:function(){if(v.callbacks&&v.onUpdate){if(u("whileScrolling")){G();F.callbacks.whileScrolling.call(r[0])}}},onComplete:function(){if(v.callbacks&&v.onComplete){if(F.axis==="yx"){clearTimeout(C[0].onCompleteTimeout)}var N=C[0].idleTimer||0;C[0].onCompleteTimeout=setTimeout(function(){if(u("onScroll")){G();F.callbacks.onScroll.call(r[0])}if(u("onTotalScroll")&&s[1]>=I[1]-B&&J.cbOffsets[0]){G();F.callbacks.onTotalScroll.call(r[0])}if(u("onTotalScrollBack")&&s[1]<=x&&J.cbOffsets[1]){G();F.callbacks.onTotalScrollBack.call(r[0])}J.tweenRunning=false;C[0].idleTimer=0;j._onDragClasses(y,"hide")},N)}}});function u(N){return J&&F.callbacks[N]&&typeof F.callbacks[N]==="function"}function z(){return[F.callbacks.alwaysTriggerOffsets||D>=I[0]+M,F.callbacks.alwaysTriggerOffsets||D<=-K]}function G(){var P=[C[0].offsetTop,C[0].offsetLeft],Q=[y[0].offsetTop,y[0].offsetLeft],N=[C.outerHeight(false),C.outerWidth(false)],O=[w.height(),w.width()];r[0].mcs={content:C,top:P[0],left:P[1],draggerTop:Q[0],draggerLeft:Q[1],topPct:Math.round((100*Math.abs(P[0]))/(Math.abs(N[0])-O[0])),leftPct:Math.round((100*Math.abs(P[1]))/(Math.abs(N[1])-O[1])),direction:v.dir}}},_tweenTo:function(s,v,t,r,B,u,K){var K=K||{},H=K.onStart||function(){},C=K.onUpdate||function(){},I=K.onComplete||function(){},A=j._getTime(),y,w=0,E=s.offsetTop,F=s.style;if(v==="left"){E=s.offsetLeft}var z=t-E;s._mcsstop=0;if(u!=="none"){D()}q();function J(){if(s._mcsstop){return}if(!w){H.call()}w=j._getTime()-A;G();if(w>=s._mcstime){s._mcstime=(w>s._mcstime)?w+y-(w-s._mcstime):w+y-1;if(s._mcstime<w+1){s._mcstime=w+1}}if(s._mcstime<r){s._mcsid=_request(J)}else{I.call()}}function G(){if(r>0){s._mcscurrVal=x(s._mcstime,E,z,r,B);F[v]=Math.round(s._mcscurrVal)+"px"}else{F[v]=t+"px"}C.call()}function q(){y=1000/60;s._mcstime=w+y;_request=(!b.requestAnimationFrame)?function(L){G();return setTimeout(L,0.01)}:b.requestAnimationFrame;s._mcsid=_request(J)}function D(){if(s._mcsid==null){return}if(!b.requestAnimationFrame){clearTimeout(s._mcsid)}else{b.cancelAnimationFrame(s._mcsid)}s._mcsid=null}function x(N,M,R,Q,O){switch(O){case"linear":case"mcsLinear":return R*N/Q+M;break;case"mcsLinearOut":N/=Q;N--;return R*Math.sqrt(1-N*N)+M;break;case"easeInOutSmooth":N/=Q/2;if(N<1){return R/2*N*N+M}N--;return -R/2*(N*(N-2)-1)+M;break;case"easeInOutStrong":N/=Q/2;if(N<1){return R/2*Math.pow(2,10*(N-1))+M}N--;return R/2*(-Math.pow(2,-10*N)+2)+M;break;case"easeInOut":case"mcsEaseInOut":N/=Q/2;if(N<1){return R/2*N*N*N+M}N-=2;return R/2*(N*N*N+2)+M;break;case"easeOutSmooth":N/=Q;N--;return -R*(N*N*N*N-1)+M;break;case"easeOutStrong":return R*(-Math.pow(2,-10*N/Q)+1)+M;break;case"easeOut":case"mcsEaseOut":default:var P=(N/=Q)*N,L=P*N;return M+R*(0.499999999999997*L*P+-2.5*P*P+5.5*L+-6.5*P+4*N)}}},_getTime:function(){if(b.performance&&b.performance.now){return b.performance.now()}else{if(b.performance&&b.performance.webkitNow){return b.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}},_stopTween:function(){var q=this;if(q._mcsid==null){return}if(!b.requestAnimationFrame){clearTimeout(q._mcsid)}else{b.cancelAnimationFrame(q._mcsid)}q._mcsid=null;q._mcsstop=1},_delete:function(r){try{delete r}catch(q){r=null}},_mouseBtnLeft:function(q){return !(q.which&&q.which!==1)},_pointerTouch:function(r){var q=r.originalEvent.pointerType;return !(q&&q!=="touch"&&q!==2)},_isNumeric:function(q){return !isNaN(parseFloat(q))&&isFinite(q)}};k.fn[g]=function(q){if(e[q]){return e[q].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof q==="object"||!q){return e.init.apply(this,arguments)}else{k.error("Method "+q+" does not exist")}}};k[g]=function(q){if(e[q]){return e[q].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof q==="object"||!q){return e.init.apply(this,arguments)}else{k.error("Method "+q+" does not exist")}}};k[g].defaults=h;b[g]=true;k(b).load(function(){k(n)[g]()})}))}(window,document));
/*! Respond.js v1.4.2: min/max-width media query polyfill
 * Copyright 2014 Scott Jehl
 * Licensed under MIT
 * http://j.mp/respondjs */
;!function(b){b.matchMedia=b.matchMedia||function(h){var g,m=h.documentElement,l=m.firstElementChild||m.firstChild,k=h.createElement("body"),j=h.createElement("div");return j.id="mq-test-1",j.style.cssText="position:absolute;top:-100em",k.style.background="none",k.appendChild(j),function(c){return j.innerHTML='&shy;<style media="'+c+'"> #mq-test-1 { width: 42px; }</style>',m.insertBefore(k,l),g=42===j.offsetWidth,m.removeChild(k),{matches:g,media:c}}}(b.document)}(this),function(X){function W(){C(!0)}var V={};X.respond=V,V.update=function(){};var U=[],T=function(){var a=!1;try{a=new X.XMLHttpRequest}catch(d){a=new X.ActiveXObject("Microsoft.XMLHTTP")}return function(){return a}}(),S=function(e,d){var f=T();f&&(f.open("GET",e,!0),f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&304!==f.status||d(f.responseText)},4!==f.readyState&&f.send(null))},R=function(b){return b.replace(V.regex.minmaxwh,"").match(V.regex.other)};if(V.ajax=S,V.queue=U,V.unsupportedmq=R,V.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},V.mediaQueriesSupported=X.matchMedia&&null!==X.matchMedia("only all")&&X.matchMedia("only all").matches,!V.mediaQueriesSupported){var Q,P,O,N=X.document,M=N.documentElement,L=[],K=[],J=[],I={},H=30,G=N.getElementsByTagName("head")[0]||M,F=N.getElementsByTagName("base")[0],E=G.getElementsByTagName("link"),D=function(){var h,g=N.createElement("div"),m=N.body,l=M.style.fontSize,k=m&&m.style.fontSize,j=!1;return g.style.cssText="position:absolute;font-size:1em;width:1em",m||(m=j=N.createElement("body"),m.style.background="none"),M.style.fontSize="100%",m.style.fontSize="100%",m.appendChild(g),j&&M.insertBefore(m,M.firstChild),h=g.offsetWidth,j?M.removeChild(m):m.removeChild(g),M.style.fontSize=l,k&&(m.style.fontSize=k),h=O=parseFloat(h)},C=function(ac){var ab="clientWidth",aa=M[ab],Z="CSS1Compat"===N.compatMode&&aa||N.body[ab]||aa,Y={},v=E[E.length-1],u=(new Date).getTime();if(ac&&Q&&H>u-Q){return X.clearTimeout(P),P=X.setTimeout(C,H),void 0}Q=u;for(var n in L){if(L.hasOwnProperty(n)){var k=L[n],j=k.minw,h=k.maxw,a=null===j,t=null===h,r="em";j&&(j=parseFloat(j)*(j.indexOf(r)>-1?O||D():1)),h&&(h=parseFloat(h)*(h.indexOf(r)>-1?O||D():1)),k.hasquery&&(a&&t||!(a||Z>=j)||!(t||h>=Z))||(Y[k.media]||(Y[k.media]=[]),Y[k.media].push(K[k.rules]))}}for(var q in J){J.hasOwnProperty(q)&&J[q]&&J[q].parentNode===G&&G.removeChild(J[q])}J.length=0;for(var o in Y){if(Y.hasOwnProperty(o)){var m=N.createElement("style"),l=Y[o].join("\n");m.type="text/css",m.media=o,G.insertBefore(m,v.nextSibling),m.styleSheet?m.styleSheet.cssText=l:m.appendChild(N.createTextNode(l)),J.push(m)}}},B=function(Y,y,x){var w=Y.replace(V.regex.comments,"").replace(V.regex.keyframes,"").match(V.regex.media),v=w&&w.length||0;y=y.substring(0,y.lastIndexOf("/"));var u=function(b){return b.replace(V.regex.urls,"$1"+y+"$2$3")},t=!v&&x;y.length&&(y+="/"),t&&(v=1);for(var s=0;v>s;s++){var r,n,m,g;t?(r=x,K.push(u(Y))):(r=w[s].match(V.regex.findStyles)&&RegExp.$1,K.push(RegExp.$2&&u(RegExp.$2))),m=r.split(","),g=m.length;for(var c=0;g>c;c++){n=m[c],R(n)||L.push({media:n.split("(")[0].match(V.regex.only)&&RegExp.$2||"all",rules:K.length-1,hasquery:n.indexOf("(")>-1,minw:n.match(V.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:n.match(V.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}C()},A=function(){if(U.length){var a=U.shift();S(a.href,function(b){B(b,a.href,a.media),I[a.href]=!0,X.setTimeout(function(){A()},0)})}},z=function(){for(var a=0;a<E.length;a++){var k=E[a],j=k.href,h=k.media,d=k.rel&&"stylesheet"===k.rel.toLowerCase();j&&d&&!I[j]&&(k.styleSheet&&k.styleSheet.rawCssText?(B(k.styleSheet.rawCssText,j,h),I[j]=!0):(!/^([a-zA-Z:]*\/\/)/.test(j)&&!F||j.replace(RegExp.$1,"").split("/")[0]===X.location.host)&&("//"===j.substring(0,2)&&(j=X.location.protocol+j),U.push({href:j,media:h})))}A()};z(),V.update=z,V.getEmValue=D,X.addEventListener?X.addEventListener("resize",W,!1):X.attachEvent&&X.attachEvent("onresize",W)}}(this);(function(a){a.blocHref=function(c){var d={className:"blocHref",node:document,hoverClassName:"overflown",targetClassName:"blocHrefTarget"};c=a.extend(true,{},d,c);var b="."+c.className;a(b,c.node).each(function(e,j){var g="a"+((c.targetClassName!=="")?"."+c.targetClassName:"");var h=a(g,j)[0];if(!h){h=a("a",j)[0]}if(h){var f=a(j);f.hover(function(){f.find("a").first().addClass(c.hoverClassName)},function(){f.find("a").first().removeClass(c.hoverClassName)}).click(function(l){if(!f.clickDone){f.clickDone=true;var n=l.srcElement?l.srcElement:l.target,m=false;while(a(n).hasClass(c.className)===false){if(n.tagName==="A"){m=true;break}else{n=n.parentNode}}if(!m){var k,o;if(document.createEvent){k=document.createEvent("MouseEvent");o=document.createEvent("MouseEvent");if(k.initMouseEvent){o.initMouseEvent("mouseup",false,true,window,0,0,0,0,0,false,false,false,false,0,null);k.initMouseEvent("click",false,true,window,0,0,0,0,0,false,false,false,false,0,null)}else{k=o=false}}if(k){h.dispatchEvent(o);h.dispatchEvent(k)}else{if(link.click){k=document.createEventObject();h.fireEvent("onmouseup",k);h.click()}}}setTimeout(function(){f.clickDone=false},400)}});a("a",j).hover(function(){a(h).removeClass(c.hoverClassName);a(this).addClass(c.hoverClassName)},function(){a(this).removeClass(c.hoverClassName);a(h).addClass(c.hoverClassName)})}})}}(jQuery));(function(){$(".scrollTo").click(function(d){d.preventDefault();var a=$(this),c=a.attr("href"),b=1000;$("html,body").animate({scrollTop:$(c).offset().top},{duration:b,complete:function(){var e=a.data("cb");if(e&&typeof e==="function"){e()}}})})})();function unavailableEllipsis(){return !("webkitLineClamp" in document.body.style)}(function(d,g){var c=".content";var a=".description";var n=/\s|,|;|\.|…/;var j=/<[a-zA-Z]+\s[^>]*>/g;var q=/<([a-zA-Z]+)[^>\/]*>/g;var o=/<\/([a-zA-Z]+)>/g;var f=3;var p=" …";function e(t){q.lastIndex=0;o.lastIndex=0;var s,r,u=[];while((r=q.exec(t))!==null){u.push(r[1])}while((r=o.exec(t))!==null){r=r[1];for(s=0;s<u.length;s++){if(r===u[s]){u=u.slice(s);break}}}for(s=u.length-1;s>=0;s--){t+="</"+u[s]+">"}return t}function m(s){j.lastIndex=0;s=s.replace(j,function(y){var v="",x=parseInt(y.length);for(var w=0;w<x;w++){v+="x"}return v});var r=[],t=-1,u=0;r.push(-1);while((t=s.search(n))>=0){u+=t+1;r.push(u-1);s=s.substring(t+1)}return r}function b(r,s){return s<=0?"":r.substr(0,s)+p}function h(x,t){var w=0;var u=x.html();var B=m(u);var A=Math.round(B.length/2);var v=true;var C=b(u,B[A]);var s=A;var y,z,r;do{y=v;z=C;r=s;if(A==B.length){C=u}else{C=b(u,B[A])}x.html(C);v=t();if(v){s=-Math.max(1,Math.round(Math.abs(s)/2))}else{s=Math.max(1,Math.round(Math.abs(s)/2))}A=Math.max(0,A+s)}while(++w<50&&!((v&&r==1)||(!v&&r==-1)));if(A!=B.length){x.html(e(v?z:C))}return A}function l(){var t=d(this);try{var r=t.data("text");if(r){t.html(r)}else{t.data("text",t.html()).addClass("ellipsis-js")}}catch(s){}}function k(t,r,s){return function(){return t.outerHeight()+t.offset().top<r.outerHeight()+s+r.offset().top}}d.fn.strdim=function(){return this.width()+"x"+this.height()};d.fn.unavailableEllipsis=function(){return unavailableEllipsis()?this:d()};d.fn.truncate=function(r,u,s,t){r=r||c;u=u||a;t=t==0?t:t||f;this.each(function(){var B=d(this);var y=B.find(r).first();if(y.length){if(!y.hasClass("ellipsis-js-container")){y.addClass("ellipsis-js-container")}var D=t;var A=y.data("padding-bottom");if(A!=null){D=parseInt(A)}var C=B.strdim(),v=y.strdim();if(s||(C!=B.data("strdim")||v!=y.data("strdim"))){B.data("strdim",C);y.data("strdim",v);var w=k(B,y,D);var x=B.find(u);var z=x.length-2;x.each(l);while(w()&&z<x.length*2-2){h(x.eq(++z%x.length),w)}}}})};d.fn.ellipsis=function(s){if(s.forceApply||unavailableEllipsis()){var u=this;var r=true;var t=function(){if(r){r=false;setTimeout(function(){var v;if(s.parent){v=u.find(s.parent)}else{v=u}v.each(function(){d(this).truncate(s.container,s.ellapse,s.forceUpdate,s.paddingBottom)});r=true},5)}};d(g).resize(t);d(document).on("equalized",t);t()}}}(jQuery,window));$(document).ready(function(){if((typeof disable_default_ellipsis==="undefined")||!disable_default_ellipsis){if(!unavailableEllipsis()){$(".main-container").addClass("ellipsis-supported")}$(".main-container").ellipsis({parent:".ellipsis-parent",container:".ellipsis-container",ellapse:".lines-2,.lines-3,.lines-4,.lines-5,.lines-6"});$(".main-container").ellipsis({parent:".type6 .ellipsis-parent",container:".ellipsis-container",ellapse:".lines-2,.lines-3,.lines-4,.lines-5,.lines-6",forceApply:true})}});(function(b){function a(c,d){this.node=c;this.params=d;this.label=d.label;this.init()}a.prototype.init=function(){this.$itemsfixedWidthMenu=b(".fixed-width",this.node);this.$itemsDynamicMenu=b(".dynamic-menu",this.node);this.countElements=b(".dynamic-menu li",this.node).length;this.build();b(window).bind("resizeMenuV3",(b.proxy(this.resizeRequested,this)));this.maxSavedWidth=this.getMaxWidthDynamicMenu();this.refInterval=setInterval(b.proxy(function(){var c=this.getMaxWidthDynamicMenu();if(this.maxSavedWidth!=c){this.resizeRequested()}},this),100);b(window).on("load",b.proxy(function(){clearInterval(this.refInterval)},this))};a.prototype.resizeRequested=function(){this.resetMenu();this.build();this.maxSavedWidth=this.getMaxWidthDynamicMenu()};a.prototype.build=function(){if(this.isRearrangeRequired()){this.rearrangeMenu()}else{this.hideLoading()}};a.prototype.isRearrangeRequired=function(){var d=this.getMaxWidthDynamicMenu(),c=this.getWidthDynamicMenu();return c>d};a.prototype.rearrangeMenu=function(){this.displayLoading();this.createDropdown();b(".dynamic-menu",this.node).append(this.$target);var e=this.getMaxWidthDynamicMenu(),d=0,c=0;do{c++;this.moveItemMenuToDropdown();d=this.getWidthDynamicMenu()}while(c<=this.countElements&&(d>e||(d<=e&&this.getCountMenuItemInDropdown()===1)));this.hideLoading()};a.prototype.resetMenu=function(){this.moveItemMenuFromDropdown();this.removeDropdown()};a.prototype.displayLoading=function(){b(this.node).removeClass("mv3-loader-off")};a.prototype.hideLoading=function(){b(this.node).addClass("mv3-loader-off")};a.prototype.createDropdown=function(){var c='<li class="drop dropdown"><a href="#" title=" '+this.label+' " target="_blank"> '+this.label+' </a><ul class="scroll"></ul>';this.$target=b(c)};a.prototype.removeDropdown=function(){b(".dynamic-menu > li.dropdown",this.node).remove()};a.prototype.getWidthDynamicMenu=function(){return b("li.dynamic",this.node).width()};a.prototype.getMaxWidthDynamicMenu=function(){var c=b(this.node).width();var d=0;b.each(this.$itemsfixedWidthMenu,function(){d+=b(this).width()});return c-d-50};a.prototype.moveItemMenuToDropdown=function(){if(b(".dynamic-menu > li:last-child",this.node).hasClass("dropdown").toString()){b(".dynamic-menu > li:not(.dropdown)",this.node).last().prependTo(this.$target.find("ul"))}};a.prototype.getCountMenuItemInDropdown=function(){return b(".dynamic-menu .dropdown ul li",this.node).length};a.prototype.moveItemMenuFromDropdown=function(){var d=b(".dynamic-menu > li:last-child.dropdown li",this.node);var c=this.node;b.each(d,function(){b(this).appendTo(b(".dynamic-menu",c))})};b.fn.MenuV3=function(c){var e={label:"Autres..."};var d=b.extend(e,c);return this.each(function(){var f=b(this).data("menuV3");if(!f){b(this).data("menuV3",new a(this,d))}})}})(jQuery);(function(d){function c(){d(window).trigger("resizeMenuV3")}function a(){if(d("#menu-v3-first-level > div > ul").length){d("#menu-v3-first-level > div > ul").MenuV3();d(".menu-v3").addClass("menuready");d("#menu-v3-second-level-init").remove();d("#menu-v3-second-level").css({display:"block"});d("#menu-v3-second-level > div > ul").MenuV3()}}if(typeof head!=="undefined"){head.ready(a)}else{d(a)}d(".menu-v3 img").on("load",c);if(d("html").hasClass("lt-ie9")){d("li.mv3-active").prev().addClass("no-bg-img")}else{a()}var b=null;d(window).on("resize",function(){if(b){clearTimeout(b)}b=setTimeout(c,10)})})(jQuery);if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(b,d){var a=b.History=b.History||{},c=b.jQuery;if(typeof a.Adapter!=="undefined"){throw new Error("History.js Adapter has already been loaded...")}a.Adapter={bind:function(e,f,g){c(e).bind(f,g)},trigger:function(f,g,e){c(f).trigger(g,e)},extractEventData:function(g,h,f){var e=(h&&h.originalEvent&&h.originalEvent[g])||(f&&f[g])||d;return e},onDomLoad:function(e){c(e)}};if(typeof a.init!=="undefined"){a.init()}})(window);(function(d,g){var a=d.document,e=d.setTimeout||e,f=d.clearTimeout||f,b=d.setInterval||b,c=d.History=d.History||{};if(typeof c.initHtml4!=="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}c.initHtml4=function(){if(typeof c.initHtml4.initialized!=="undefined"){return false}else{c.initHtml4.initialized=true}c.enabled=true;c.savedHashes=[];c.isLastHash=function(h){var k=c.getHashByIndex(),j;j=h===k;return j};c.isHashEqual=function(h,j){h=encodeURIComponent(h).replace(/%25/g,"%");j=encodeURIComponent(j).replace(/%25/g,"%");return h===j};c.saveHash=function(h){if(c.isLastHash(h)){return false}c.savedHashes.push(h);return true};c.getHashByIndex=function(h){var j=null;if(typeof h==="undefined"){j=c.savedHashes[c.savedHashes.length-1]}else{if(h<0){j=c.savedHashes[c.savedHashes.length+h]}else{j=c.savedHashes[h]}}return j};c.discardedHashes={};c.discardedStates={};c.discardState=function(m,h,l){var j=c.getHashByState(m),k;k={discardedState:m,backState:l,forwardState:h};c.discardedStates[j]=k;return true};c.discardHash=function(j,h,l){var k={discardedHash:j,backState:l,forwardState:h};c.discardedHashes[j]=k;return true};c.discardedState=function(h){var k=c.getHashByState(h),j;j=c.discardedStates[k]||false;return j};c.discardedHash=function(j){var h=c.discardedHashes[j]||false;return h};c.recycleState=function(h){var j=c.getHashByState(h);if(c.discardedState(h)){delete c.discardedStates[j]}return true};if(c.emulated.hashChange){c.hashChangeInit=function(){c.checkerFunction=null;var h="",n,j,l,m,k=Boolean(c.getHash());if(c.isInternetExplorer()){n="historyjs-iframe";j=a.createElement("iframe");j.setAttribute("id",n);j.setAttribute("src","#");j.style.display="none";a.body.appendChild(j);j.contentWindow.document.open();j.contentWindow.document.close();l="";m=false;c.checkerFunction=function(){if(m){return false}m=true;var p=c.getHash(),o=c.getHash(j.contentWindow.document);if(p!==h){h=p;if(o!==p){l=o=p;j.contentWindow.document.open();j.contentWindow.document.close();j.contentWindow.document.location.hash=c.escapeHash(p)}c.Adapter.trigger(d,"hashchange")}else{if(o!==l){l=o;if(k&&o===""){c.back()}else{c.setHash(o,false)}}}m=false;return true}}else{c.checkerFunction=function(){var o=c.getHash()||"";if(o!==h){h=o;c.Adapter.trigger(d,"hashchange")}return true}}c.intervalList.push(b(c.checkerFunction,c.options.hashChangeInterval));return true};c.Adapter.onDomLoad(c.hashChangeInit)}if(c.emulated.pushState){c.onHashChange=function(m){var n=((m&&m.newURL)||c.getLocationHref()),l=c.getHashByUrl(n),k=null,h=null,o=null,j;if(c.isLastHash(l)){c.busy(false);return false}c.doubleCheckComplete();c.saveHash(l);if(l&&c.isTraditionalAnchor(l)){c.Adapter.trigger(d,"anchorchange");c.busy(false);return false}k=c.extractState(c.getFullUrl(l||c.getLocationHref()),true);if(c.isLastSavedState(k)){c.busy(false);return false}h=c.getHashByState(k);j=c.discardedState(k);if(j){if(c.getHashByIndex(-2)===c.getHashByState(j.forwardState)){c.back(false)}else{c.forward(false)}return false}c.pushState(k.data,k.title,encodeURI(k.url),false);return true};c.Adapter.bind(d,"hashchange",c.onHashChange);c.pushState=function(m,r,h,o){h=encodeURI(h).replace(/%25/g,"%");if(c.getHashByUrl(h)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(o!==false&&c.busy()){c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:o});return false}c.busy(true);var l=c.createStateObject(m,r,h),j=c.getHashByState(l),k=c.getState(false),n=c.getHashByState(k),q=c.getHash(),p=c.expectedStateId==l.id;c.storeState(l);c.expectedStateId=l.id;c.recycleState(l);c.setTitle(l);if(j===n){c.busy(false);return false}c.saveState(l);if(!p){c.Adapter.trigger(d,"statechange")}if(!c.isHashEqual(j,q)&&!c.isHashEqual(j,c.getShortUrl(c.getLocationHref()))){c.setHash(j,false)}c.busy(false);return true};c.replaceState=function(m,q,h,o){h=encodeURI(h).replace(/%25/g,"%");if(c.getHashByUrl(h)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(o!==false&&c.busy()){c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:o});return false}c.busy(true);var l=c.createStateObject(m,q,h),j=c.getHashByState(l),k=c.getState(false),n=c.getHashByState(k),p=c.getStateByIndex(-2);c.discardState(k,l,p);if(j===n){c.storeState(l);c.expectedStateId=l.id;c.recycleState(l);c.setTitle(l);c.saveState(l);c.Adapter.trigger(d,"statechange");c.busy(false)}else{c.pushState(l.data,l.title,l.url,false)}return true}}if(c.emulated.pushState){if(c.getHash()&&!c.emulated.hashChange){c.Adapter.onDomLoad(function(){c.Adapter.trigger(d,"hashchange")})}}};if(typeof c.init!=="undefined"){c.init()}})(window);(function(j,a){var d=j.console||a,l=j.document,o=j.navigator,n=false,c=j.setTimeout,m=j.clearTimeout,f=j.setInterval,q=j.clearInterval,p=j.JSON,k=j.alert,b=j.History=j.History||{},h=j.history;try{n=j.sessionStorage;n.setItem("TEST","1");n.removeItem("TEST")}catch(g){n=false}p.stringify=p.stringify||p.encode;p.parse=p.parse||p.decode;if(typeof b.init!=="undefined"){throw new Error("History.js Core has already been loaded...")}b.init=function(e){if(typeof b.Adapter==="undefined"){return false}if(typeof b.initCore!=="undefined"){b.initCore()}if(typeof b.initHtml4!=="undefined"){b.initHtml4()}return true};b.initCore=function(e){if(typeof b.initCore.initialized!=="undefined"){return false}else{b.initCore.initialized=true}b.options=b.options||{};b.options.hashChangeInterval=b.options.hashChangeInterval||100;b.options.safariPollInterval=b.options.safariPollInterval||500;b.options.doubleCheckInterval=b.options.doubleCheckInterval||500;b.options.disableSuid=b.options.disableSuid||false;b.options.storeInterval=b.options.storeInterval||1000;b.options.busyDelay=b.options.busyDelay||250;b.options.debug=b.options.debug||false;b.options.initialTitle=b.options.initialTitle||l.title;b.options.html4Mode=b.options.html4Mode||false;b.options.delayInit=b.options.delayInit||false;b.intervalList=[];b.clearAllIntervals=function(){var u,t=b.intervalList;if(typeof t!=="undefined"&&t!==null){for(u=0;u<t.length;u++){q(t[u])}b.intervalList=null}};b.debug=function(){if((b.options.debug||false)){b.log.apply(b,arguments)}};b.log=function(){var z=!(typeof d==="undefined"||typeof d.log==="undefined"||typeof d.log.apply==="undefined"),u=l.getElementById("log"),y,x,A,v,t;if(z){v=Array.prototype.slice.call(arguments);y=v.shift();if(typeof d.debug!=="undefined"){d.debug.apply(d,[y,v])}else{d.log.apply(d,[y,v])}}else{y=("\n"+arguments[0]+"\n")}for(x=1,A=arguments.length;x<A;++x){t=arguments[x];if(typeof t==="object"&&typeof p!=="undefined"){try{t=p.stringify(t)}catch(w){}}y+="\n"+t+"\n"}if(u){u.value+=y+"\n-----\n";u.scrollTop=u.scrollHeight-u.clientHeight}else{if(!z){k(y)}}return true};b.getInternetExplorerMajorVersion=function(){var t=b.getInternetExplorerMajorVersion.cached=(typeof b.getInternetExplorerMajorVersion.cached!=="undefined")?b.getInternetExplorerMajorVersion.cached:(function(){var u=3,x=l.createElement("div"),w=x.getElementsByTagName("i");while((x.innerHTML="<!--[if gt IE "+(++u)+"]><i></i><![endif]-->")&&w[0]){}return(u>4)?u:false})();return t};b.isInternetExplorer=function(){var t=b.isInternetExplorer.cached=(typeof b.isInternetExplorer.cached!=="undefined")?b.isInternetExplorer.cached:Boolean(b.getInternetExplorerMajorVersion());return t};if(b.options.html4Mode){b.emulated={pushState:true,hashChange:true}}else{b.emulated={pushState:!Boolean(j.history&&j.history.pushState&&j.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(o.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(o.userAgent))),hashChange:Boolean(!(("onhashchange" in j)||("onhashchange" in l))||(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8))}}b.enabled=!b.emulated.pushState;b.bugs={setHash:Boolean(!b.emulated.pushState&&o.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!b.emulated.pushState&&o.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<7)};b.isEmptyObject=function(u){for(var t in u){if(u.hasOwnProperty(t)){return false}}return true};b.cloneObject=function(v){var u,t;if(v){u=p.stringify(v);t=p.parse(u)}else{t={}}return t};b.getRootUrl=function(){var t=l.location.protocol+"//"+(l.location.hostname||l.location.host);if(l.location.port||false){t+=":"+l.location.port}t+="/";return t};b.getBaseHref=function(){var t=l.getElementsByTagName("base"),v=null,u="";if(t.length===1){v=t[0];u=v.href.replace(/[^\/]+$/,"")}u=u.replace(/\/+$/,"");if(u){u+="/"}return u};b.getBaseUrl=function(){var t=b.getBaseHref()||b.getBasePageUrl()||b.getRootUrl();return t};b.getPageUrl=function(){var t=b.getState(false,false),v=(t||{}).url||b.getLocationHref(),u;u=v.replace(/\/+$/,"").replace(/[^\/]+$/,function(y,x,w){return(/\./).test(y)?y:y+"/"});return u};b.getBasePageUrl=function(){var t=(b.getLocationHref()).replace(/[#\?].*/,"").replace(/[^\/]+$/,function(w,v,u){return(/[^\/]$/).test(w)?"":w}).replace(/\/+$/,"")+"/";return t};b.getFullUrl=function(u,w){var t=u,v=u.substring(0,1);w=(typeof w==="undefined")?true:w;if(/[a-z]+\:\/\//.test(u)){}else{if(v==="/"){t=b.getRootUrl()+u.replace(/^\/+/,"")}else{if(v==="#"){t=b.getPageUrl().replace(/#.*/,"")+u}else{if(v==="?"){t=b.getPageUrl().replace(/[\?#].*/,"")+u}else{if(w){t=b.getBaseUrl()+u.replace(/^(\.\/)+/,"")}else{t=b.getBasePageUrl()+u.replace(/^(\.\/)+/,"")}}}}}return t.replace(/\#$/,"")};b.getShortUrl=function(v){var u=v,w=b.getBaseUrl(),t=b.getRootUrl();if(b.emulated.pushState){u=u.replace(w,"")}u=u.replace(t,"/");if(b.isTraditionalAnchor(u)){u="./"+u}u=u.replace(/^(\.\/)+/g,"./").replace(/\#$/,"");return u};b.getLocationHref=function(t){t=t||l;if(t.URL===t.location.href){return t.location.href}if(t.location.href===decodeURIComponent(t.URL)){return t.URL}if(t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash){return t.location.href}if(t.URL.indexOf("#")==-1&&t.location.href.indexOf("#")!=-1){return t.location.href}return t.URL||t.location.href};b.store={};b.idToState=b.idToState||{};b.stateToId=b.stateToId||{};b.urlToId=b.urlToId||{};b.storedStates=b.storedStates||[];b.savedStates=b.savedStates||[];b.normalizeStore=function(){b.store.idToState=b.store.idToState||{};b.store.urlToId=b.store.urlToId||{};b.store.stateToId=b.store.stateToId||{}};b.getState=function(v,u){if(typeof v==="undefined"){v=true}if(typeof u==="undefined"){u=true}var t=b.getLastSavedState();if(!t&&u){t=b.createStateObject()}if(v){t=b.cloneObject(t);t.url=t.cleanUrl||t.url}return t};b.getIdByState=function(t){var v=b.extractId(t.url),u;if(!v){u=b.getStateString(t);if(typeof b.stateToId[u]!=="undefined"){v=b.stateToId[u]}else{if(typeof b.store.stateToId[u]!=="undefined"){v=b.store.stateToId[u]}else{while(true){v=(new Date()).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof b.idToState[v]==="undefined"&&typeof b.store.idToState[v]==="undefined"){break}}b.stateToId[u]=v;b.idToState[v]=t}}}return v};b.normalizeState=function(u){var v,t;if(!u||(typeof u!=="object")){u={}}if(typeof u.normalized!=="undefined"){return u}if(!u.data||(typeof u.data!=="object")){u.data={}}v={};v.normalized=true;v.title=u.title||"";v.url=b.getFullUrl(u.url?u.url:(b.getLocationHref()));v.hash=b.getShortUrl(v.url);v.data=b.cloneObject(u.data);v.id=b.getIdByState(v);v.cleanUrl=v.url.replace(/\??\&_suid.*/,"");v.url=v.cleanUrl;t=!b.isEmptyObject(v.data);if((v.title||t)&&b.options.disableSuid!==true){v.hash=b.getShortUrl(v.url).replace(/\??\&_suid.*/,"");if(!/\?/.test(v.hash)){v.hash+="?"}v.hash+="&_suid="+v.id}v.hashedUrl=b.getFullUrl(v.hash);if((b.emulated.pushState||b.bugs.safariPoll)&&b.hasUrlDuplicate(v)){v.url=v.hashedUrl}return v};b.createStateObject=function(v,w,u){var t={data:v,title:w,url:u};t=b.normalizeState(t);return t};b.getStateById=function(u){u=String(u);var t=b.idToState[u]||b.store.idToState[u]||a;return t};b.getStateString=function(u){var t,v,w;t=b.normalizeState(u);v={data:t.data,title:u.title,url:u.url};w=p.stringify(v);return w};b.getStateId=function(u){var t,v;t=b.normalizeState(u);v=t.id;return v};b.getHashByState=function(u){var t,v;t=b.normalizeState(u);v=t.hash;return v};b.extractId=function(w){var x,v,t,u;if(w.indexOf("#")!=-1){u=w.split("#")[0]}else{u=w}v=/(.*)\&_suid=([0-9]+)$/.exec(u);t=v?(v[1]||w):w;x=v?String(v[2]||""):"";return x||false};b.isTraditionalAnchor=function(u){var t=!(/[\/\?\.]/.test(u));return t};b.extractState=function(w,v){var t=null,x,u;v=v||false;x=b.extractId(w);if(x){t=b.getStateById(x)}if(!t){u=b.getFullUrl(w);x=b.getIdByUrl(u)||false;if(x){t=b.getStateById(x)}if(!t&&v&&!b.isTraditionalAnchor(w)){t=b.createStateObject(null,null,u)}}return t};b.getIdByUrl=function(t){var u=b.urlToId[t]||b.store.urlToId[t]||a;return u};b.getLastSavedState=function(){return b.savedStates[b.savedStates.length-1]||a};b.getLastStoredState=function(){return b.storedStates[b.storedStates.length-1]||a};b.hasUrlDuplicate=function(v){var u=false,t;t=b.extractState(v.url);u=t&&t.id!==v.id;return u};b.storeState=function(t){b.urlToId[t.url]=t.id;b.storedStates.push(b.cloneObject(t));return t};b.isLastSavedState=function(w){var v=false,u,t,x;if(b.savedStates.length){u=w.id;t=b.getLastSavedState();x=t.id;v=(u===x)}return v};b.saveState=function(t){if(b.isLastSavedState(t)){return false}b.savedStates.push(b.cloneObject(t));return true};b.getStateByIndex=function(u){var t=null;if(typeof u==="undefined"){t=b.savedStates[b.savedStates.length-1]}else{if(u<0){t=b.savedStates[b.savedStates.length+u]}else{t=b.savedStates[u]}}return t};b.getCurrentIndex=function(){var t=null;if(b.savedStates.length<1){t=0}else{t=b.savedStates.length-1}return t};b.getHash=function(v){var t=b.getLocationHref(v),u;u=b.getHashByUrl(t);return u};b.unescapeHash=function(u){var t=b.normalizeHash(u);t=decodeURIComponent(t);return t};b.normalizeHash=function(u){var t=u.replace(/[^#]*#/,"").replace(/#.*/,"");return t};b.setHash=function(w,t){var u,v;if(t!==false&&b.busy()){b.pushQueue({scope:b,callback:b.setHash,args:arguments,queue:t});return false}b.busy(true);u=b.extractState(w,true);if(u&&!b.emulated.pushState){b.pushState(u.data,u.title,u.url,false)}else{if(b.getHash()!==w){if(b.bugs.setHash){v=b.getPageUrl();b.pushState(null,null,v+"#"+w,false)}else{l.location.hash=w}}}return b};b.escapeHash=function(u){var t=b.normalizeHash(u);t=j.encodeURIComponent(t);if(!b.bugs.hashEscape){t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")}return t};b.getHashByUrl=function(t){var u=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");u=b.unescapeHash(u);return u};b.setTitle=function(v){var w=v.title,u;if(!w){u=b.getStateByIndex(0);if(u&&u.url===v.url){w=u.title||b.options.initialTitle}}try{l.getElementsByTagName("title")[0].innerHTML=w.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}l.title=w;return b};b.queues=[];b.busy=function(u){if(typeof u!=="undefined"){b.busy.flag=u}else{if(typeof b.busy.flag==="undefined"){b.busy.flag=false}}if(!b.busy.flag){m(b.busy.timeout);var t=function(){var w,v,x;if(b.busy.flag){return}for(w=b.queues.length-1;w>=0;--w){v=b.queues[w];if(v.length===0){continue}x=v.shift();b.fireQueueItem(x);b.busy.timeout=c(t,b.options.busyDelay)}};b.busy.timeout=c(t,b.options.busyDelay)}return b.busy.flag};b.busy.flag=false;b.fireQueueItem=function(t){return t.callback.apply(t.scope||b,t.args||[])};b.pushQueue=function(t){b.queues[t.queue||0]=b.queues[t.queue||0]||[];b.queues[t.queue||0].push(t);return b};b.queue=function(u,t){if(typeof u==="function"){u={callback:u}}if(typeof t!=="undefined"){u.queue=t}if(b.busy()){b.pushQueue(u)}else{b.fireQueueItem(u)}return b};b.clearQueue=function(){b.busy.flag=false;b.queues=[];return b};b.stateChanged=false;b.doubleChecker=false;b.doubleCheckComplete=function(){b.stateChanged=true;b.doubleCheckClear();return b};b.doubleCheckClear=function(){if(b.doubleChecker){m(b.doubleChecker);b.doubleChecker=false}return b};b.doubleCheck=function(t){b.stateChanged=false;b.doubleCheckClear();if(b.bugs.ieDoubleCheck){b.doubleChecker=c(function(){b.doubleCheckClear();if(!b.stateChanged){t()}return true},b.options.doubleCheckInterval)}return b};b.safariStatePoll=function(){var u=b.extractState(b.getLocationHref()),t;if(!b.isLastSavedState(u)){t=u}else{return}if(!t){t=b.createStateObject()}b.Adapter.trigger(j,"popstate");return b};b.back=function(t){if(t!==false&&b.busy()){b.pushQueue({scope:b,callback:b.back,args:arguments,queue:t});return false}b.busy(true);b.doubleCheck(function(){b.back(false)});h.go(-1);return true};b.forward=function(t){if(t!==false&&b.busy()){b.pushQueue({scope:b,callback:b.forward,args:arguments,queue:t});return false}b.busy(true);b.doubleCheck(function(){b.forward(false)});h.go(1);return true};b.go=function(u,t){var v;if(u>0){for(v=1;v<=u;++v){b.forward(t)}}else{if(u<0){for(v=-1;v>=u;--v){b.back(t)}}else{throw new Error("History.go: History.go requires a positive or negative integer passed.")}}return b};if(b.emulated.pushState){var s=function(){};b.pushState=b.pushState||s;b.replaceState=b.replaceState||s}else{b.onPopState=function(w,t){var y=false,x=false,v,u;b.doubleCheckComplete();v=b.getHash();if(v){u=b.extractState(v||b.getLocationHref(),true);if(u){b.replaceState(u.data,u.title,u.url,false)}else{b.Adapter.trigger(j,"anchorchange");b.busy(false)}b.expectedStateId=false;return false}y=b.Adapter.extractEventData("state",w,t)||false;if(y){x=b.getStateById(y)}else{if(b.expectedStateId){x=b.getStateById(b.expectedStateId)}else{x=b.extractState(b.getLocationHref())}}if(!x){x=b.createStateObject(null,null,b.getLocationHref())}b.expectedStateId=false;if(b.isLastSavedState(x)){b.busy(false);return false}b.storeState(x);b.saveState(x);b.setTitle(x);b.Adapter.trigger(j,"statechange");b.busy(false);return true};b.Adapter.bind(j,"popstate",b.onPopState);b.pushState=function(v,x,u,t){if(b.getHashByUrl(u)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(t!==false&&b.busy()){b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:t});return false}b.busy(true);var w=b.createStateObject(v,x,u);if(b.isLastSavedState(w)){b.busy(false)}else{b.storeState(w);b.expectedStateId=w.id;h.pushState(w.id,w.title,w.url);b.Adapter.trigger(j,"popstate")}return true};b.replaceState=function(w,y,v,t){if(b.getHashByUrl(v)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(t!==false&&b.busy()){b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:t});return false}b.busy(true);var x=b.createStateObject(w,y,v);if(b.isLastSavedState(x)){b.busy(false)}else{b.storeState(x);b.expectedStateId=x.id;try{h.replaceState(x.id,x.title,x.url)}catch(u){}b.Adapter.trigger(j,"popstate")}return true}}if(n){try{b.store=p.parse(n.getItem("History.store"))||{}}catch(r){b.store={}}b.normalizeStore()}else{b.store={};b.normalizeStore()}b.Adapter.bind(j,"unload",b.clearAllIntervals);b.saveState(b.storeState(b.extractState(b.getLocationHref(),true)));if(n){b.onUnload=function(){var t,v,x;try{t=p.parse(n.getItem("History.store"))||{}}catch(u){t={}}t.idToState=t.idToState||{};t.urlToId=t.urlToId||{};t.stateToId=t.stateToId||{};for(v in b.idToState){if(!b.idToState.hasOwnProperty(v)){continue}t.idToState[v]=b.idToState[v]}for(v in b.urlToId){if(!b.urlToId.hasOwnProperty(v)){continue}t.urlToId[v]=b.urlToId[v]}for(v in b.stateToId){if(!b.stateToId.hasOwnProperty(v)){continue}t.stateToId[v]=b.stateToId[v]}b.store=t;b.normalizeStore();x=p.stringify(t);try{n.setItem("History.store",x)}catch(w){if(w.code===DOMException.QUOTA_EXCEEDED_ERR){if(n.length){n.removeItem("History.store");n.setItem("History.store",x)}else{}}else{throw w}}};b.intervalList.push(f(b.onUnload,b.options.storeInterval));b.Adapter.bind(j,"beforeunload",b.onUnload);b.Adapter.bind(j,"unload",b.onUnload)}if(!b.emulated.pushState){if(b.bugs.safariPoll){b.intervalList.push(f(b.safariStatePoll,b.options.safariPollInterval))}if(o.vendor==="Apple Computer, Inc."||(o.appCodeName||"")==="Mozilla"){b.Adapter.bind(j,"hashchange",function(){b.Adapter.trigger(j,"popstate")});if(b.getHash()){b.Adapter.onDomLoad(function(){b.Adapter.trigger(j,"hashchange")})}}}};if(!b.options||!b.options.delayInit){b.init()}})(window);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j)}function g(j){return b.raw?j:decodeURIComponent(j)}function h(j){return d(b.json?JSON.stringify(j):String(j))}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(a," "));return b.json?JSON.parse(j):j}catch(k){}}function e(k,j){var l=b.raw?k:c(k);return f.isFunction(j)?j(l):l}var b=f.cookie=function(q,p,v){if(p!==undefined&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(k,j){if(f.cookie(k)===undefined){return false}f.cookie(k,"",f.extend({},j,{expires:-1}));return !f.cookie(k)}}));(function(E){var ab="plmAutoplayPref";var B=30;var T={video:"Vidéo suivante",image:"Image suivante",raw:"Elément suivant"};var J=new RegExp("%id%","g");var K=new RegExp("%keywords%","g");var z=new RegExp("%refId%","g");var Z=new RegExp("%type%","g");var Q={container:null};var ac={};var r=[];var f={};var e={};var A={};var C={};var P={loading:false,playing:false,remainder:0,timer:0};E.playlistManager=function(ae,ad){if(!a(ad)){return}l(ad.firstItem,ae,ad.itemsType,ad.redirectToItem,ad.checkVisibility);if(!o(ae,ad.dummyEnd,ad.itemsType,ad.redirectToItem,ad.checkVisibility)){console.error("Invalid playlist");return}W(ad);if(!A.redirect){aa();if(!A.protectFirstState){H(true)}}d();h();v(true);if(P.currentItem.type=="video"){P.playing=true}c();f.init(P.firstItemFound,P.currentIndex)};var u=function(){P.loading=false;E(Q.container).removeClass(e.loading);E(C.prevBtn).prop("disabled",false).removeClass(e.inactive);E(C.nextBtn).prop("disabled",false).removeClass(e.inactive);E(C.status).prop("disabled",false).removeClass(e.inactive)};var R=function(ad){return(P.currentItem.href||window.location.href).split("?")[0]+A.adquery+"="+ad};var G=function(){return A.titlePattern.replace("%title%",P.currentItem.title).replace("%index%",P.currentIndex).replace("%index+1%",P.currentIndex+1)};var a=function(ad){if(ad.nodeContent){Q.container=ad.nodeContent;C.div=Q.container+" div";C.image=Q.container+" img"}else{console.error("Missing option nodeContent");return false}return true};var c=function(){clearTimeout(P.timer);E(C.status).removeClass(P.autoplay?e.disabled:e.enabled);E(C.status).addClass(P.autoplay?e.enabled:e.disabled);if(E(C.status).length>0&&r.length>1){E.cookie(ab,P.autoplay?"enabled":"disabled",{path:"/",expires:B})}if(P.autoplay&&!P.playing&&b()!==null){if(A.countdown>0){P.remainder=A.countdown;P.timer=setInterval(F,1000)}else{if(A.itemsType==="video"||P.currentItem.type==="video"){setTimeout(n,500)}else{P.remainder=0}}}else{P.remainder=0}Y();if(!A.dummyEnd&&b()===null&&!P.playing){f.end()}};var l=function(ag,ah,af,ai,ad){P.firstItemFound=false;if(ag){var ae=-1;if(E.isArray(ah)){E.each(ah,function(aj,ak){if(S(ak,af,ai)){ae++;if(ak.id==ag.id){P.currentIndex=ae;P.firstItemFound=true}}})}else{C.playlistItem=ah+" a";E(C.playlistItem).each(function(){if(S(p(E(this),ad),af,ai)){ae++;if(E(this).attr("data-id")==ag.id){P.currentIndex=ae;P.firstItemFound=true}}})}if(P.currentIndex===undefined){L(ag,af,ai)}}};var S=function(ad,ae,af){return ad&&ad.id&&(ad.src||af)&&(ad.href||!af)&&(ae||ad.type)};var m=function(){if(P.currentIndex==r.length-1&&!A.cycle){E(C.nextBtn).prop("disabled",true).addClass(e.ineffective)}else{E(C.nextBtn).prop("disabled",false).removeClass(e.ineffective)}};var U=function(ad){if(P.currentIndex==0&&(ad||!A.cycle)){E(C.prevBtn).prop("disabled",true).addClass(e.ineffective)}else{E(C.prevBtn).prop("disabled",false).removeClass(e.ineffective)}};var p=function(ae,ad){return(!ad||ae.is(":visible"))?{id:ae.attr("data-id"),refId:ae.attr("data-refId"),copyright:ae.attr("data-copyright"),description:ae.attr("data-description"),href:ae.attr("href"),src:ae.attr("data-src"),title:ae.attr("data-title"),type:ae.attr("data-type")}:null};var t=function(){P.loading=true;E(Q.container).addClass(e.loading);E(C.nextBtn).prop("disabled",true).addClass(e.inactive);E(C.prevBtn).prop("disabled",true).addClass(e.inactive);E(C.status).prop("disabled",true).addClass(e.inactive);P.remainder=0;Y()};var W=function(ad){P.autoplay=typeof ad.autoplay=="boolean"?ad.autoplay:true;if(P.firstItemFound){P.currentId=r[P.currentIndex].id}else{P.currentId=ad.currentId&&ac.hasOwnProperty(ad.currentId)?ad.currentId:r[0].id;P.currentIndex=ac[P.currentId]}P.currentItem=r[P.currentIndex];P.pvp=ad.pvpInstance||null;A.adquery=ad.advertisingQueryString||"?pub-iframe";A.checkVisibility=typeof ad.checkVisibility=="boolean"?ad.checkVisibility:false;A.countdown=ad.countdown||0;A.currentMsg=ad.msgCurrentTag||"";A.cycle=typeof ad.cycle=="boolean"?ad.cycle:false;A.dummyEnd=typeof ad.dummyEnd=="boolean"?ad.dummyEnd:false;A.fadeSpeed=ad.fadeSpeed||"fast";A.itemsType=ad.itemsType||"";A.nextMsg=ad.msgNextTag||"";A.pid=ad.pid||"";A.protectFirstState=typeof ad.protectFirstState=="boolean"?ad.protectFirstState:false;A.redirect=typeof ad.redirectToItem=="boolean"?ad.redirectToItem:false;A.shortCountdownText=ad.shortCountdownText||false;A.showNext=typeof ad.showNextTag=="boolean"?ad.showNextTag:true;A.titlePattern=ad.titlePattern||"%title%";A.xhr=ad.xhrBlocks||[];e.countdown=ad.uiCountdownClass||"plmCountdown";e.current=ad.classCurrent||"plmCurrent";e.currentTag=ad.classCurrentTag||"plmCurrentTag";e.disabled=ad.uiDisabledClass||"plmDisabled";e.enabled=ad.uiEnabledClass||"plmEnabled";e.inactive=ad.uiInactiveClass||"plmInactive";e.ineffective=ad.uiIneffectiveClass||"plmIneffective";e.loading=ad.classLoading||"plmLoading";e.next=ad.classNext||"plmNext";e.nextBtn=ad.uiNextClass||"plmNextBtn";e.nextTag=ad.classNextTag||"plmNextTag";e.prevBtn=ad.uiPrevClass||"plmPrevBtn";e.status=ad.uiStatusClass||"plmStatus";C.additional=ad.nodeAdditional||[];C.advertising=ad.nodeAdvertising||"#pub";C.copyright=ad.nodeCopyright||"#plmCopyright";C.countdown="."+e.countdown;C.current="."+e.current;C.currentTag="."+e.currentTag;C.description=ad.nodeDescription||"#plmDescription";C.next="."+e.next;C.nextBtn="."+e.nextBtn;C.nextTag="."+e.nextTag;C.prevBtn="."+e.prevBtn;C.reportLink=ad.nodeReportLink||"#plmReport";C.status="."+e.status;C.title=ad.nodeTitle||"#plmTitle";C.uploader=ad.nodeUploader||"#plmUploader";C.videoType=ad.nodeVideoType||"#plmVideoType";f.init=ad.onPlaylistLoad||function(){};f.load=ad.onBeforeLoad||function(){};f.loaded=ad.onItemLoad||function(){};f.end=ad.onPlaylistEnded||function(){};f.autoplay=ad.onStateChange||function(){}};var k=function(){E(Q.container).animate({opacity:1},A.fadeSpeed,function(){H(false);v(false);if(P.currentId!="dummyEnd"){}u();if(P.currentItem.type=="video"){y()}f.loaded(P.currentItem,P.currentIndex,P.pvp);c()})};var N=function(ae){if(ae){if(ae.substring(0,2)=="//"){ae=window.location.protocol+ae}var ad=ae.match("https?://([^/]+)");if(ad&&ad[1]!=location.hostname){return ae.replace(ad[1],location.hostname)}else{return ae}}return null};var O=function(ae,af){f.load(r[ae],ac[r[ae].id]);if(ae!==null){t();P.currentIndex=ae;P.currentItem=r[ae];P.currentId=P.currentItem.id;if(A.redirect&&P.currentItem.href){var ad=P.currentItem.href;if(A.pid&&af){ad+=(/\?/.test(ad)?"&":"?")+"pid="+A.pid}ad+="#plmAnchor";window.location.href=ad}else{E(Q.container).animate({opacity:0},A.fadeSpeed,x);U(false);m()}}};var s=function(){var ad=new Image();ad.title=P.currentItem.title;ad.alt=P.currentItem.title;ad.onload=function(){E(C.image).replaceWith(ad);k()};ad.src=P.currentItem.src};var n=function(){if(!P.loading){O(b(),true)}};var V=function(){if(!P.loading){O(D(),true)}};var I=function(){E.get(P.currentItem.src,function(ad){E(C.div).html(ad);k()})};var q=function(){E.get(P.currentItem.src,function(af){try{var ag=JSON.parse(af);ag.infoPlayer.domNode=Q.container.replace("#","");P.pvp=new Pvp(ag.playerType,ag.infoVideo,ag.infoPlayer);P.currentItem.title=ag.name||P.currentItem.title;P.currentItem.description=ag.description||P.currentItem.description;P.currentItem.uploader=ag.uploader||P.currentItem.uploader;P.currentItem.videoType=ag.videoType||P.currentItem.videoType;P.currentItem.reportUrl=ag.reportUrl||P.currentItem.reportUrl;P.playing=true}catch(ae){console.error("Cannot fetch information about video "+P.currentItem.id);var ad=b();if(ad){console.warn("Trying next video");O(ad,true)}else{console.warn("Reached the end of the playlist")}}}).always(k)};var b=function(){if(P.currentIndex<r.length-1){return P.currentIndex+1}else{if(A.cycle){return 0}else{return null}}};var X=function(){var ad=b();return ad!==null?r[ad].type:null};var L=function(ad,ae,af){if(S(ad,ae,af)){r.push({id:ad.id,refId:ad.refId||ad.id,copyright:ad.copyright||"",description:ad.description||"",href:N(ad.href)||"",src:ad.src||"",title:ad.title||"",type:ae||ad.type});ac[ad.id]=r.length-1}};var o=function(ag,ae,af,ah,ad){if(E.isArray(ag)){E.each(ag,function(ai,aj){L(aj,af,ah)})}else{C.playlistItem=ag+" a";E(C.playlistItem).each(function(){L(p(E(this),ad),af,ah)})}if(ae){r.push({id:"dummyEnd",type:"dummy"})}return r.length>0};var x=function(){switch(P.currentItem.type){case"image":if(E(C.image).length==0){E(Q.container).html("<img />")}s();break;case"raw":if(E(C.div).length==0){E(Q.container).html("<div />")}I();break;case"video":E(Q.container).html("");q();break;case"dummy":E(Q.container).html("");k();f.end();break}};var D=function(){if(P.currentIndex>0){return P.currentIndex-1}else{if(A.cycle){return r.length-1}else{return null}}};var w=function(){E(C.advertising).each(function(){var ae=E(this).attr("id");var ad=ae.match(/_(\d{1,4})x(\d{1,4})_/);if(ad){E(this).html('<iframe width="'+ad[1]+'" height="'+ad[2]+'" style="width:'+ad[1]+"px;height:"+ad[2]+'px;overflow:hidden!important;border:none;" src="'+R(ae)+'" scrolling="no" />')}})};var g=function(){var ad='<iframe width="0" height="0" style="width:0;height:0;overflow:hidden!important;border:none" scrolling="no" src="'+(P.currentItem.href||window.location.href).split("?")[0]+'?audience" />';E("body").append(E(ad))};var F=function(){P.remainder-=1;Y();if(P.remainder<=0){n()}};var Y=function(){var ad="";if(P.remainder>0){if(!A.shortCountdownText){ad+=T[X()]+" dans "}ad+=P.remainder+" seconde"+(P.remainder==1?"":"s")}E(C.countdown).html(ad)};var j=function(){var ad=b();if(E(this).attr("data-id")==P.currentId){E(this).addClass(e.current).after('<div class="'+e.currentTag+'">'+A.currentMsg+"</div>")}if(A.showNext&&ad!==null&&E(this).attr("data-id")==r[ad].id){E(this).addClass(e.next).after('<div class="'+e.nextTag+'">'+A.nextMsg+"</div>")}};var v=function(ae){if(!ae){E(C.title).html(P.currentItem.title||"");E(C.uploader).html(P.currentItem.uploader||"");E(C.videoType).removeClass();if(P.currentItem.videoType){E(C.videoType).addClass(P.currentItem.videoType)}E(C.reportLink).attr("href",P.currentItem.reportUrl||"");if(P.currentItem.title&&P.currentItem.href){document.title=G()}E(C.description).html(P.currentItem.description||"");E(C.copyright).html(P.currentItem.copyright||"");if(typeof oShare!=="undefined"&&P.currentItem.href){oShare.reload(P.currentItem.href)}var ad=P.currentItem;E.each(A.xhr,function(af,ah){var ag=ah.src.replace(J,P.currentItem.id).replace(z,P.currentItem.refId).replace(Z,P.currentItem.type).replace(K,"none");E.get(ag,function(ai){E(ah.id).html(ai)}).done(function(){if(typeof ah.callback==="function"){ah.callback(ad)}})})}E(C.current).removeClass(e.current);E(C.next).removeClass(e.next);E(C.currentTag).remove();E(C.nextTag).remove();E.each(C.additional,function(ag,af){E(af).find("a").each(j)});E(C.playlistItem).each(j)};var d=function(){if(E(C.status).length>0&&r.length>1){var ad=E.cookie(ab);if(ad){P.autoplay=ad==="enabled"}else{E.cookie(ab,P.autoplay?"enabled":"disabled",{path:"/",expires:B})}}else{P.autoplay=false;E(C.status).removeClass(e.enabled);E(C.status).addClass(e.disabled)}if(P.currentItem.type=="video"){y()}};var h=function(){U(true);E(C.nextBtn).click(n);E(C.prevBtn).click(V);if(r.length>1){E(C.status).click(M)}E(C.playlistItem).click(function(ad){var ae=E(this).attr("data-id");if(ac.hasOwnProperty(ae)){ad.preventDefault();if(ae!=P.currentId&&!P.loading){O(ac[ae],true)}}})};var aa=function(){History.Adapter.bind(window,"statechange",function(){var ad=History.getState().data.id;if(P.currentId!=ad){O(ac[ad],false)}})};var y=function(){if(P.pvp){P.pvp.subscribe(window.Pvp.TOPICS.VIDEO_ENDED,this,function(){P.playing=false;c()})}else{console.error("No instance of PVP provided")}};var M=function(){if(!P.loading&&r.length>1){f.autoplay(!P.autoplay);P.autoplay=!P.autoplay;c()}};var H=function(ad){if(P.currentItem.href){var ae=G();if(P.currentItem.title){if(ad){History.replaceState(P.currentItem,ae||null,P.currentItem.href)}else{History.pushState(P.currentItem,ae||null,P.currentItem.href)}}}};window.PlM={load:O,setupButtons:h}}(jQuery));(function(b){var a={};var d;var c={forceHeight:false,initialWidth:1180,initialHeight:300,mode:"horizontal",slideSelector:"",infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:"visible",responsive:true,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,pager:true,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:"",prevText:"",nextSelector:null,prevSelector:null,autoControls:false,startText:"Start",stopText:"Stop",autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:"next",autoHover:false,autoDelay:0,autoSlideForOnePage:false,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){},prevClass:"o_r_fleche_gauche",nextClass:"o_r_fleche_droite",pagerLinkClass:"o_r_boutons",controlsClass:"o_r_nav"};b.fn.bxSlider=function(t){if(this.length==0){return this}if(this.length>1){this.each(function(){b(this).bxSlider(t)});return this}var k={};var I=this;a.el=this;var K=b(window).width();var N=b(window).height();var D=function(){k.settings=b.extend({},c,t);k.settings.slideWidth=parseInt(k.settings.slideWidth);k.children=I.children(k.settings.slideSelector);if(k.children.length<k.settings.minSlides){k.settings.minSlides=k.children.length}if(k.children.length<k.settings.maxSlides){k.settings.maxSlides=k.children.length}if(k.settings.randomStart){k.settings.startSlide=Math.floor(Math.random()*k.children.length)}k.active={index:k.settings.startSlide};k.carousel=k.settings.minSlides>1||k.settings.maxSlides>1;if(k.carousel){k.settings.preloadImages="all"}k.minThreshold=(k.settings.minSlides*k.settings.slideWidth)+((k.settings.minSlides-1)*k.settings.slideMargin);k.maxThreshold=(k.settings.maxSlides*k.settings.slideWidth)+((k.settings.maxSlides-1)*k.settings.slideMargin);k.working=false;k.controls={};k.interval=null;k.animProp=k.settings.mode=="vertical"?"top":"left";k.usingCSS=k.settings.useCSS&&k.settings.mode!="fade"&&(function(){var U=document.createElement("div");var T=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var S in T){if(U.style[T[S]]!==undefined){k.cssPrefix=T[S].replace("Perspective","").toLowerCase();k.animProp="-"+k.cssPrefix+"-transform";return true}}return false}());if(k.settings.mode=="vertical"){k.settings.maxSlides=k.settings.minSlides}I.data("origStyle",I.attr("style"));I.children(k.settings.slideSelector).each(function(){b(this).data("origStyle",b(this).attr("style"))});n()};var n=function(){I.wrap('<div class="'+k.settings.wrapperClass+'"><div class="bx-viewport"></div></div>');k.viewport=I.parent();k.viewport.prepend(b('<div class="bx-loading" />'));I.css({width:k.settings.mode=="horizontal"?(k.children.length*100+215)+"%":"auto",position:"relative"});if(k.usingCSS&&k.settings.easing){I.css("-"+k.cssPrefix+"-transition-timing-function",k.settings.easing)}else{if(!k.settings.easing){k.settings.easing="swing"}}var S=B();k.viewport.css({width:"100%",overflow:"hidden",position:"relative"});k.viewport.parent().css({maxWidth:M()});if(!k.settings.pager){k.viewport.parent().css({margin:"0 auto 0px"})}k.children.css({"float":k.settings.mode=="horizontal"?"left":"none",listStyle:"none",position:"relative"});k.children.css("width",E());if(k.settings.mode=="horizontal"&&k.settings.slideMargin>0){k.children.css("marginRight",k.settings.slideMargin)}if(k.settings.mode=="vertical"&&k.settings.slideMargin>0){k.children.css("marginBottom",k.settings.slideMargin)}if(k.settings.mode=="fade"){k.children.css({position:"absolute",zIndex:0,display:"none"});k.children.eq(k.settings.startSlide).css({zIndex:k.settings.slideZIndex,display:"block"})}k.controls.el=b('<div class="bx-controls '+k.settings.controlsClass+'" />');if(k.settings.captions){A()}k.active.last=k.settings.startSlide==w()-1;if(k.settings.video){I.fitVids()}var T=k.children.eq(k.settings.startSlide);if(k.settings.preloadImages=="all"){T=k.children}if(!k.settings.ticker){if(k.settings.pager){P()}if(k.settings.controls){l()}if(k.settings.auto&&k.settings.autoControls){L()}if(k.settings.controls||k.settings.autoControls||k.settings.pager){k.viewport.after(k.controls.el)}}else{k.settings.pager=false}e(T,u)};var e=function(S,V){var U=S.find("img, iframe").length;if(U==0){V();return}var T=0;S.find("img, iframe").each(function(){b(this).one("load",function(){if(++T==U){V()}}).each(function(){if(this.complete){b(this).load()}})})};var u=function(){if(k.settings.infiniteLoop&&k.settings.mode!="fade"&&!k.settings.ticker){var U=k.settings.mode=="vertical"?k.settings.minSlides:k.settings.maxSlides;var T=k.children.slice(0,U).clone().addClass("bx-clone");var S=k.children.slice(-U).clone().addClass("bx-clone");I.append(T).prepend(S)}b(".bx-loading").remove();j();if(k.settings.mode=="vertical"){k.settings.adaptiveHeight=true}k.viewport.height(p());d=k.viewport.width();I.redrawSlider();k.settings.onSliderLoad(k.active.index);k.initialized=true;if(k.settings.responsive){b(window).bind("resize",o)}if(k.settings.auto&&k.settings.autoStart&&(w()>1||k.settings.autoSlideForOnePage)){f()}if(k.settings.ticker){G()}if(k.settings.pager){R(k.settings.startSlide)}if(k.settings.controls){m()}if(k.settings.touchEnabled&&!k.settings.ticker){g()}};var p=function(){var S=0;var W=b();if(k.settings.mode!="vertical"&&!k.settings.adaptiveHeight){W=k.children}else{if(!k.carousel){W=k.children.eq(k.active.index)}else{var T=k.settings.moveSlides==1?k.active.index:k.active.index*r();W=k.children.eq(T);for(var V=1;V<=k.settings.maxSlides-1;V++){if(T+V>=k.children.length){W=W.add(k.children.eq(V-1))}else{W=W.add(k.children.eq(T+V))}}}}if(k.settings.mode=="vertical"){W.each(function(){S+=b(this).outerHeight()});if(k.settings.slideMargin>0){S+=k.settings.slideMargin*(k.settings.minSlides-1)}}else{S=Math.max.apply(Math,W.map(function(){return b(this).outerHeight(false)}).get())}if(k.viewport.css("box-sizing")=="border-box"){S+=parseFloat(k.viewport.css("padding-top"))+parseFloat(k.viewport.css("padding-bottom"))+parseFloat(k.viewport.css("border-top-width"))+parseFloat(k.viewport.css("border-bottom-width"))}else{if(k.viewport.css("box-sizing")=="padding-box"){S+=parseFloat(k.viewport.css("padding-top"))+parseFloat(k.viewport.css("padding-bottom"))}}var X;var Y;var U;if(k.settings.forceHeight==true){X=k.settings.initialWidth/k.settings.initialHeight;Y=k.viewport.width();U=Math.floor(Y/X);S=U}return S};var M=function(){var S="100%";if(k.settings.slideWidth>0){if(k.settings.mode=="horizontal"){S=(k.settings.maxSlides*k.settings.slideWidth)+((k.settings.maxSlides-1)*k.settings.slideMargin)}else{S=k.settings.slideWidth}}return S};var E=function(){var T=k.settings.slideWidth;var S=k.viewport.width();if(k.settings.slideWidth==0||(k.settings.slideWidth>S&&!k.carousel)||k.settings.mode=="vertical"){T=S}else{if(k.settings.maxSlides>1&&k.settings.mode=="horizontal"){if(S>k.maxThreshold){}else{if(S<k.minThreshold){T=(S-(k.settings.slideMargin*(k.settings.minSlides-1)))/k.settings.minSlides}}}}return T};var B=function(){var T=1;if(k.settings.mode=="horizontal"&&k.settings.slideWidth>0){if(k.viewport.width()<k.minThreshold){T=k.settings.minSlides}else{if(k.viewport.width()>k.maxThreshold){T=k.settings.maxSlides}else{var S=k.children.first().width()+k.settings.slideMargin;T=Math.floor((k.viewport.width()+k.settings.slideMargin)/S)}}}else{if(k.settings.mode=="vertical"){T=k.settings.minSlides}}return T};var w=function(){var T=0;if(k.settings.moveSlides>0){if(k.settings.infiniteLoop){T=Math.ceil(k.children.length/r())}else{var U=0;var S=0;while(U<k.children.length){++T;U=S+B();S+=k.settings.moveSlides<=B()?k.settings.moveSlides:B()}}}else{T=Math.ceil(k.children.length/B())}return T};var r=function(){if(k.settings.moveSlides>0&&k.settings.moveSlides<=B()){return k.settings.moveSlides}return B()};var j=function(){var S;if(k.children.length>k.settings.maxSlides&&k.active.last&&!k.settings.infiniteLoop){if(k.settings.mode=="horizontal"){var U=k.children.last();S=U.position();C(-(S.left-(k.viewport.width()-U.outerWidth())),"reset",0)}else{if(k.settings.mode=="vertical"){var T=k.children.length-k.settings.minSlides;S=k.children.eq(T).position();C(-S.top,"reset",0)}}}else{S=k.children.eq(k.active.index*r()).position();if(k.active.index==w()-1){k.active.last=true}if(S!=undefined){if(k.settings.mode=="horizontal"){C(-S.left,"reset",0)}else{if(k.settings.mode=="vertical"){C(-S.top,"reset",0)}}}}};var C=function(U,T,V,X){if(k.usingCSS){var W=k.settings.mode=="vertical"?"translate3d(0, "+U+"px, 0)":"translate3d("+U+"px, 0, 0)";I.css("-"+k.cssPrefix+"-transition-duration",V/1000+"s");if(T=="slide"){I.css(k.animProp,W);I.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){I.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");q()})}else{if(T=="reset"){I.css(k.animProp,W)}else{if(T=="ticker"){I.css("-"+k.cssPrefix+"-transition-timing-function","linear");I.css(k.animProp,W);I.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){I.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");C(X.resetValue,"reset",0);v()})}}}}else{var S={};S[k.animProp]=U;if(T=="slide"){I.animate(S,V,k.settings.easing,function(){q()})}else{if(T=="reset"){I.css(k.animProp,U)}else{if(T=="ticker"){I.animate(S,speed,"linear",function(){C(X.resetValue,"reset",0);v()})}}}}};var s=function(){var V="";var U=w();for(var T=0;T<U;T++){var S="";if(k.settings.buildPager&&b.isFunction(k.settings.buildPager)){S=k.settings.buildPager(T);k.pagerEl.addClass("bx-custom-pager")}else{S=T+1;k.pagerEl.addClass("bx-default-pager")}V+='<div class="bx-pager-item"><a href="" data-slide-index="'+T+'" class="bx-pager-link '+k.settings.pagerLinkClass+'">'+S+"</a></div>"}k.pagerEl.html(V)};var P=function(){if(!k.settings.pagerCustom){k.pagerEl=b('<div class="bx-pager" />');if(k.settings.pagerSelector){b(k.settings.pagerSelector).html(k.pagerEl)}else{k.controls.el.addClass("bx-has-pager").append(k.pagerEl)}s()}else{k.pagerEl=b(k.settings.pagerCustom)}k.pagerEl.on("click","a",y)};var l=function(){k.controls.next=b('<a class="bx-next '+k.settings.nextClass+'" href="">'+k.settings.nextText+"</a>");k.controls.prev=b('<a class="bx-prev '+k.settings.prevClass+'" href="">'+k.settings.prevText+"</a>");k.controls.next.click(h);k.controls.prev.click(O);if(k.settings.nextSelector){b(k.settings.nextSelector).append(k.controls.next)}if(k.settings.prevSelector){b(k.settings.prevSelector).append(k.controls.prev)}if(!k.settings.nextSelector&&!k.settings.prevSelector){k.controls.directionEl=b('<div class="bx-controls-direction" />');k.controls.directionEl.append(k.controls.prev).append(k.controls.next);k.controls.el.addClass("bx-has-controls-direction").append(k.controls.directionEl)}};var L=function(){k.controls.start=b('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+k.settings.startText+"</a></div>");k.controls.stop=b('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+k.settings.stopText+"</a></div>");k.controls.autoEl=b('<div class="bx-controls-auto" />');k.controls.autoEl.on("click",".bx-start",x);k.controls.autoEl.on("click",".bx-stop",Q);if(k.settings.autoControlsCombine){k.controls.autoEl.append(k.controls.start)}else{k.controls.autoEl.append(k.controls.start).append(k.controls.stop)}if(k.settings.autoControlsSelector){b(k.settings.autoControlsSelector).html(k.controls.autoEl)}else{k.controls.el.addClass("bx-has-controls-auto").append(k.controls.autoEl)}H(k.settings.autoStart?"stop":"start")};var A=function(){k.children.each(function(S){})};var h=function(S){S.preventDefault();if(k.settings.auto){I.stopAuto(false)}I.goToNextSlide()};var O=function(S){S.preventDefault();if(k.settings.auto){I.stopAuto(false)}I.goToPrevSlide()};var x=function(S){I.startAuto(false);S.preventDefault()};var Q=function(S){I.stopAuto(false);S.preventDefault()};var y=function(U){if(k.settings.auto){I.stopAuto(false)}var T=b(U.currentTarget);if(T.attr("data-slide-index")!==undefined){var S=parseInt(T.attr("data-slide-index"));if(S!=k.active.index){I.goToSlide(S)}U.preventDefault()}};var R=function(T){var S=k.children.length;if(k.settings.pagerType=="short"){if(k.settings.maxSlides>1){S=Math.ceil(k.children.length/k.settings.maxSlides)}k.pagerEl.html((T+1)+k.settings.pagerShortSeparator+S);return}k.pagerEl.find("a").removeClass("active");k.pagerEl.each(function(U,V){b(V).find("a").eq(T).addClass("active")})};var q=function(){if(k.settings.infiniteLoop){var S="";if(k.active.index==0){S=k.children.eq(0).position()}else{if(k.active.index==w()-1&&k.carousel){S=k.children.eq((w()-1)*r()).position()}else{if(k.active.index==k.children.length-1){S=k.children.eq(k.children.length-1).position()}}}if(S){if(k.settings.mode=="horizontal"){C(-S.left,"reset",0)}else{if(k.settings.mode=="vertical"){C(-S.top,"reset",0)}}}}k.working=false;k.settings.onSlideAfter(k.children.eq(k.active.index),k.oldIndex,k.active.index)};var H=function(S){if(k.settings.autoControlsCombine){k.controls.autoEl.html(k.controls[S])}else{k.controls.autoEl.find("a").removeClass("active");k.controls.autoEl.find("a:not(.bx-"+S+")").addClass("active")}};var m=function(){if(w()==1){k.controls.prev.addClass("disabled");k.controls.next.addClass("disabled")}else{if(!k.settings.infiniteLoop&&k.settings.hideControlOnEnd){if(k.active.index==0){k.controls.prev.addClass("disabled");k.controls.next.removeClass("disabled")}else{if(k.active.index==w()-1){k.controls.next.addClass("disabled");k.controls.prev.removeClass("disabled")}else{k.controls.prev.removeClass("disabled");k.controls.next.removeClass("disabled")}}}}};var f=function(){if(k.settings.autoDelay>0){var S=setTimeout(I.startAuto,k.settings.autoDelay)}else{I.startAuto(false)}if(k.settings.autoHover){I.hover(function(){if(k.interval){I.stopAuto(true);k.autoPaused=true}},function(){if(k.autoPaused){I.startAuto(true);k.autoPaused=null}})}};var G=function(){var T=0;if(k.settings.autoDirection=="next"){I.append(k.children.clone().addClass("bx-clone"))}else{I.prepend(k.children.clone().addClass("bx-clone"));var S=k.children.first().position();T=k.settings.mode=="horizontal"?-S.left:-S.top}C(T,"reset",0);k.settings.pager=false;k.settings.controls=false;k.settings.autoControls=false;if(k.settings.tickerHover&&!k.usingCSS){k.viewport.hover(function(){I.stop()},function(){var X=0;k.children.each(function(){X+=k.settings.mode=="horizontal"?b(this).outerWidth(true):b(this).outerHeight(true)});var U=k.settings.speed/X;var V=k.settings.mode=="horizontal"?"left":"top";var W=U*(X-(Math.abs(parseInt(I.css(V)))));v(W)})}v()};var v=function(Y){var W=Y?Y:k.settings.speed;var S={left:0,top:0};var V={left:0,top:0};if(k.settings.autoDirection=="next"){S=I.find(".bx-clone").first().position()}else{V=k.children.first().position()}var U=k.settings.mode=="horizontal"?-S.left:-S.top;var T=k.settings.mode=="horizontal"?-V.left:-V.top;var X={resetValue:T};C(U,"ticker",W,X)};var g=function(){k.touch={start:{x:0,y:0},end:{x:0,y:0}};k.viewport.bind("touchstart",F)};var F=function(S){if(k.working){S.preventDefault()}else{k.touch.originalPos=I.position();var T=S.originalEvent;k.touch.start.x=T.changedTouches[0].pageX;k.touch.start.y=T.changedTouches[0].pageY;k.viewport.bind("touchmove",J);k.viewport.bind("touchend",z)}};var J=function(T){var X=T.originalEvent;var U=Math.abs(X.changedTouches[0].pageX-k.touch.start.x);var W=Math.abs(X.changedTouches[0].pageY-k.touch.start.y);if((U*3)>W&&k.settings.preventDefaultSwipeX){T.preventDefault()}else{if((W*3)>U&&k.settings.preventDefaultSwipeY){T.preventDefault()}}if(k.settings.mode!="fade"&&k.settings.oneToOneTouch){var S=0;var V;if(k.settings.mode=="horizontal"){V=X.changedTouches[0].pageX-k.touch.start.x;S=k.touch.originalPos.left+V}else{V=X.changedTouches[0].pageY-k.touch.start.y;S=k.touch.originalPos.top+V}C(S,"reset",0)}};var z=function(T){k.viewport.unbind("touchmove",J);var V=T.originalEvent;var S=0;k.touch.end.x=V.changedTouches[0].pageX;k.touch.end.y=V.changedTouches[0].pageY;var U;if(k.settings.mode=="fade"){U=Math.abs(k.touch.start.x-k.touch.end.x);if(U>=k.settings.swipeThreshold){k.touch.start.x>k.touch.end.x?I.goToNextSlide():I.goToPrevSlide();I.stopAuto()}}else{U=0;if(k.settings.mode=="horizontal"){U=k.touch.end.x-k.touch.start.x;S=k.touch.originalPos.left}else{U=k.touch.end.y-k.touch.start.y;S=k.touch.originalPos.top}if(!k.settings.infiniteLoop&&((k.active.index==0&&U>0)||(k.active.last&&U<0))){C(S,"reset",200)}else{if(Math.abs(U)>=k.settings.swipeThreshold){U<0?I.goToNextSlide():I.goToPrevSlide();I.stopAuto()}else{C(S,"reset",200)}}}k.viewport.unbind("touchend",z)};var o=function(){if(!k.initialized){return}var S=b(window).width();var T=b(window).height();if(K!=S||N!=T||d!=E()){K=S;N=T;I.redrawSlider();k.settings.onSliderResize.call(I,k.active.index)}};I.goToSlide=function(W,Y){if(k.working||k.active.index==W){return}k.working=true;k.oldIndex=k.active.index;if(W<0){k.active.index=w()-1}else{if(W>=w()){k.active.index=0}else{k.active.index=W}}k.settings.onSlideBefore(k.children.eq(k.active.index),k.oldIndex,k.active.index);if(Y=="next"){k.settings.onSlideNext(k.children.eq(k.active.index),k.oldIndex,k.active.index)}else{if(Y=="prev"){k.settings.onSlidePrev(k.children.eq(k.active.index),k.oldIndex,k.active.index)}}k.active.last=k.active.index>=w()-1;if(k.settings.pager){R(k.active.index)}if(k.settings.controls){m()}if(k.settings.mode=="fade"){if(k.settings.adaptiveHeight&&k.viewport.height()!=p()){k.viewport.animate({height:p()},k.settings.adaptiveHeightSpeed)}k.children.filter(":visible").fadeOut(k.settings.speed).css({zIndex:0});k.children.eq(k.active.index).css("zIndex",k.settings.slideZIndex+1).fadeIn(k.settings.speed,function(){b(this).css("zIndex",k.settings.slideZIndex);q()})}else{if(k.settings.adaptiveHeight&&k.viewport.height()!=p()){k.viewport.animate({height:p()},k.settings.adaptiveHeightSpeed)}var X=0;var V={left:0,top:0};var S;if(!k.settings.infiniteLoop&&k.carousel&&k.active.last){if(k.settings.mode=="horizontal"){S=k.children.eq(k.children.length-1);V=S.position();X=k.viewport.width()-S.outerWidth()}else{var U=k.children.length-k.settings.minSlides;V=k.children.eq(U).position()}}else{if(k.carousel&&k.active.last&&Y=="prev"){var aa=k.settings.moveSlides==1?k.settings.maxSlides-r():((w()-1)*r())-(k.children.length-k.settings.maxSlides);S=I.children(".bx-clone").eq(aa);V=S.position()}else{if(Y=="next"&&k.active.index==0){V=I.find("> .bx-clone").eq(k.settings.maxSlides).position();k.active.last=false}else{if(W>=0){var T=W*r();V=k.children.eq(T).position()}}}}if("undefined"!==typeof(V)){var Z=k.settings.mode=="horizontal"?-(V.left-X):-V.top;C(Z,"slide",k.settings.speed)}}};I.goToNextSlide=function(){if(!k.settings.infiniteLoop&&k.active.last){return}var S=parseInt(k.active.index)+1;I.goToSlide(S,"next")};I.goToPrevSlide=function(){if(!k.settings.infiniteLoop&&k.active.index==0){return}var S=parseInt(k.active.index)-1;I.goToSlide(S,"prev")};I.startAuto=function(S){if(k.interval){return}k.interval=setInterval(function(){k.settings.autoDirection=="next"?I.goToNextSlide():I.goToPrevSlide()},k.settings.pause);if(k.settings.autoControls&&S!=true){H("stop")}};I.stopAuto=function(S){if(!k.interval){return}clearInterval(k.interval);k.interval=null;if(k.settings.autoControls&&S!=true){H("start")}};I.getCurrentSlide=function(){return k.active.index};I.getCurrentSlideElement=function(){return k.children.eq(k.active.index)};I.getSlideCount=function(){return k.children.length};I.redrawSlider=function(){k.children.add(I.find(".bx-clone")).width(E());k.viewport.css("height",p());if(!k.settings.ticker){j()}if(k.active.last){k.active.index=w()-1}if(k.active.index>=w()){k.active.last=true}if(k.settings.pager&&!k.settings.pagerCustom){s();R(k.active.index)}};I.destroySlider=function(){if(!k.initialized){return}k.initialized=false;b(".bx-clone",this).remove();k.children.each(function(){b(this).data("origStyle")!=undefined?b(this).attr("style",b(this).data("origStyle")):b(this).removeAttr("style")});b(this).data("origStyle")!=undefined?this.attr("style",b(this).data("origStyle")):b(this).removeAttr("style");b(this).unwrap().unwrap();if(k.controls.el){k.controls.el.remove()}if(k.controls.next){k.controls.next.remove()}if(k.controls.prev){k.controls.prev.remove()}if(k.pagerEl&&k.settings.controls){k.pagerEl.remove()}b(".bx-caption",this).remove();if(k.controls.autoEl){k.controls.autoEl.remove()}clearInterval(k.interval);if(k.settings.responsive){b(window).unbind("resize",o)}};I.reloadSlider=function(S){if(S!=undefined){t=S}I.destroySlider();D();if(typeof o_changeAllLinks==="function"){o_changeAllLinks()}};D();if(typeof o_changeAllLinks==="function"){o_changeAllLinks()}return this}})(jQuery);
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 * Warning: patched to remove IE7-incompatible querySelectorAll
 */
;
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var m=c.prototype;var w=this;var y=w.EventEmitter;function h(A,B){var z=A.length;while(z--){if(A[z].listener===B){return z}}return -1}function k(z){return function A(){return this[z].apply(this,arguments)}}m.getListeners=function u(z){var C=this._getEvents();var A;var B;if(typeof z==="object"){A={};for(B in C){if(C.hasOwnProperty(B)&&z.test(B)){A[B]=C[B]}}}else{A=C[z]||(C[z]=[])}return A};m.flattenListeners=function s(B){var z=[];var A;for(A=0;A<B.length;A+=1){z.push(B[A].listener)}return z};m.getListenersAsObject=function e(z){var B=this.getListeners(z);var A;if(B instanceof Array){A={};A[z]=B}return A||B};m.addListener=function f(z,C){var B=this.getListenersAsObject(z);var D=typeof C==="object";var A;for(A in B){if(B.hasOwnProperty(A)&&h(B[A],C)===-1){B[A].push(D?C:{listener:C,once:false})}}return this};m.on=k("addListener");m.addOnceListener=function a(z,A){return this.addListener(z,{listener:A,once:true})};m.once=k("addOnceListener");m.defineEvent=function q(z){this.getListeners(z);return this};m.defineEvents=function r(z){for(var A=0;A<z.length;A+=1){this.defineEvent(z[A])}return this};m.removeListener=function b(z,D){var C=this.getListenersAsObject(z);var A;var B;for(B in C){if(C.hasOwnProperty(B)){A=h(C[B],D);if(A!==-1){C[B].splice(A,1)}}}return this};m.off=k("removeListener");m.addListeners=function n(z,A){return this.manipulateListeners(false,z,A)};m.removeListeners=function t(z,A){return this.manipulateListeners(true,z,A)};m.manipulateListeners=function g(A,B,D){var C;var E;var F=A?this.removeListener:this.addListener;var z=A?this.removeListeners:this.addListeners;if(typeof B==="object"&&!(B instanceof RegExp)){for(C in B){if(B.hasOwnProperty(C)&&(E=B[C])){if(typeof E==="function"){F.call(this,C,E)}else{z.call(this,C,E)}}}}else{C=D.length;while(C--){F.call(this,B,D[C])}}return this};m.removeEvent=function p(z){var C=typeof z;var B=this._getEvents();var A;if(C==="string"){delete B[z]}else{if(C==="object"){for(A in B){if(B.hasOwnProperty(A)&&z.test(A)){delete B[A]}}}else{delete this._events}}return this};m.removeAllListeners=k("removeEvent");m.emitEvent=function v(z,B){var E=this.getListenersAsObject(z);var F;var D;var C;var A;for(C in E){if(E.hasOwnProperty(C)){D=E[C].length;while(D--){F=E[C][D];if(F.once===true){this.removeListener(z,F.listener)}A=F.listener.apply(this,B||[]);if(A===this._getOnceReturnValue()){this.removeListener(z,F.listener)}}}}return this};m.trigger=k("emitEvent");m.emit=function l(z){var A=Array.prototype.slice.call(arguments,1);return this.emitEvent(z,A)};m.setOnceReturnValue=function j(z){this._onceReturnValue=z;return this};m._getOnceReturnValue=function o(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};m._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function x(){w.EventEmitter=y;return c};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{this.EventEmitter=c}}}.call(this));
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(j,h,g){j.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(j,h,g){j[h+g]=g.handleEvent?function(){var k=a(j);g.handleEvent.call(g,k)}:function(){var k=a(j);g.call(j,k)};j.attachEvent("on"+h,j[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(j,h,g){j.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(k,h,g){k.detachEvent("on"+h,k[h+g]);try{delete k[h+g]}catch(j){k[h+g]=undefined}}}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c)}else{e.eventie=c}})(this);
/*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(b,a){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c)})}else{if(typeof exports==="object"){module.exports=a(b,require("wolfy87-eventemitter"),require("eventie"))}else{b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}}})(window,function factory(j,n,m){var g=j.jQuery;var e=j.console;var c=typeof e!=="undefined";function k(q,p){for(var r in p){q[r]=p[r]}return q}var o=Object.prototype.toString;function h(p){return o.call(p)==="[object Array]"}function d(s){var r=[];if(h(s)){r=s}else{if(typeof s.length==="number"){for(var q=0,p=s.length;q<p;q++){r.push(s[q])}}else{r.push(s)}}return r}function f(r,q,p){if(!(this instanceof f)){return new f(r,q)}if(typeof r==="string"){r=g(document).find(r)}this.elements=d(r);this.options=k({},this.options);if(typeof q==="function"){p=q}else{k(this.options,q)}if(p){this.on("always",p)}this.getImages();if(g){this.jqDeferred=new g.Deferred()}var s=this;setTimeout(function(){s.check()})}f.prototype=new n();f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var t=0,p=this.elements.length;t<p;t++){var u=this.elements[t];if(u.nodeName==="IMG"){this.addImage(u)}var q=u.nodeType;if(!q||!(q===1||q===9||q===11)){continue}var w=g(u).find("img");for(var s=0,v=w.length;s<v;s++){var r=w[s];this.addImage(r)}}};f.prototype.addImage=function(p){var q=new l(p);this.images.push(q)};f.prototype.check=function(){var u=this;var q=0;var s=this.images.length;this.hasAnyBroken=false;if(!s){this.complete();return}function r(w,v){if(u.options.debug&&c){e.log("confirm",w,v)}u.progress(w);q++;if(q===s){u.complete()}return true}for(var p=0;p<s;p++){var t=this.images[p];t.on("confirm",r);t.check()}};f.prototype.progress=function(p){this.hasAnyBroken=this.hasAnyBroken||!p.isLoaded;var q=this;setTimeout(function(){q.emit("progress",q,p);if(q.jqDeferred&&q.jqDeferred.notify){q.jqDeferred.notify(q,p)}})};f.prototype.complete=function(){var p=this.hasAnyBroken?"fail":"done";this.isComplete=true;var q=this;setTimeout(function(){q.emit(p,q);q.emit("always",q);if(q.jqDeferred){var r=q.hasAnyBroken?"reject":"resolve";q.jqDeferred[r](q)}})};if(g){g.fn.imagesLoaded=function(q,r){var p=new f(this,q,r);return p.jqDeferred.promise(g(this))}}function l(p){this.img=p}l.prototype=new n();l.prototype.check=function(){var p=b[this.img.src]||new a(this.img.src);if(p.isConfirmed){this.confirm(p.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var q=this;p.on("confirm",function(r,s){q.confirm(r.isLoaded,s);return true});p.check()};l.prototype.confirm=function(p,q){this.isLoaded=p;this.emit("confirm",this,q)};var b={};function a(p){this.src=p;b[p]=this}a.prototype=new n();a.prototype.check=function(){if(this.isChecked){return}var p=new Image();m.bind(p,"load",this);m.bind(p,"error",this);p.src=this.src;this.isChecked=true};a.prototype.handleEvent=function(p){var q="on"+p.type;if(this[q]){this[q](p)}};a.prototype.onload=function(p){this.confirm(true,"onload");this.unbindProxyEvents(p)};a.prototype.onerror=function(p){this.confirm(false,"onerror");this.unbindProxyEvents(p)};a.prototype.confirm=function(p,q){this.isConfirmed=true;this.isLoaded=p;this.emit("confirm",this,q)};a.prototype.unbindProxyEvents=function(p){m.unbind(p.target,"load",this);m.unbind(p.target,"error",this)};return f});
/*! Jssor */
;var $JssorDebug$=new function(){this.$DebugMode=true;this.$Log=function(e,d){var c=window.console||{};var b=this.$DebugMode;if(b&&c.log){c.log(e)}else{if(b&&d){alert(e)}}};this.$Error=function(f,d){var c=window.console||{};var b=this.$DebugMode;if(b&&c.error){c.error(f)}else{if(b){alert(f)}}if(b){throw d||new Error(f)}};this.$Fail=function(b){throw new Error(b)};this.$Assert=function(c,d){var b=this.$DebugMode;if(b){if(!c){throw new Error("Assert failed "+d||"")}}};this.$Trace=function(d){var c=window.console||{};var b=this.$DebugMode;if(b&&c.log){c.log(d)}};this.$Execute=function(c){var b=this.$DebugMode;if(b){c()}};this.$LiveStamp=function(d,e){var b=this.$DebugMode;if(b){var c=document.createElement("DIV");c.setAttribute("id",e);d.$Live=c}};this.$C_AbstractMethod=function(){throw new Error("The method is abstract, it should be implemented by subclass.")};function a(b){if(b.constructor===a.caller){throw new Error("Cannot create instance of an abstract class.")}}this.$C_AbstractClass=a};var $JssorEasing$=window.$JssorEasing$={$EaseLinear:function(a){return a},$EaseGoBack:function(a){return 1-Math.abs((a*=2)-1)},$EaseSwing:function(a){return -Math.cos(a*Math.PI)/2+0.5},$EaseInQuad:function(a){return a*a},$EaseOutQuad:function(a){return -a*(a-2)},$EaseInOutQuad:function(a){return(a*=2)<1?1/2*a*a:-1/2*(--a*(a-2)-1)},$EaseInCubic:function(a){return a*a*a},$EaseOutCubic:function(a){return(a-=1)*a*a+1},$EaseInOutCubic:function(a){return(a*=2)<1?1/2*a*a*a:1/2*((a-=2)*a*a+2)},$EaseInQuart:function(a){return a*a*a*a},$EaseOutQuart:function(a){return -((a-=1)*a*a*a-1)},$EaseInOutQuart:function(a){return(a*=2)<1?1/2*a*a*a*a:-1/2*((a-=2)*a*a*a-2)},$EaseInQuint:function(a){return a*a*a*a*a},$EaseOutQuint:function(a){return(a-=1)*a*a*a*a+1},$EaseInOutQuint:function(a){return(a*=2)<1?1/2*a*a*a*a*a:1/2*((a-=2)*a*a*a*a+2)},$EaseInSine:function(a){return 1-Math.cos(a*Math.PI/2)},$EaseOutSine:function(a){return Math.sin(a*Math.PI/2)},$EaseInOutSine:function(a){return -1/2*(Math.cos(Math.PI*a)-1)},$EaseInExpo:function(a){return a==0?0:Math.pow(2,10*(a-1))},$EaseOutExpo:function(a){return a==1?1:-Math.pow(2,-10*a)+1},$EaseInOutExpo:function(a){return a==0||a==1?a:(a*=2)<1?1/2*Math.pow(2,10*(a-1)):1/2*(-Math.pow(2,-10*--a)+2)},$EaseInCirc:function(a){return -(Math.sqrt(1-a*a)-1)},$EaseOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},$EaseInOutCirc:function(a){return(a*=2)<1?-1/2*(Math.sqrt(1-a*a)-1):1/2*(Math.sqrt(1-(a-=2)*a)+1)},$EaseInElastic:function(a){if(!a||a==1){return a}var c=0.3,b=0.075;return -(Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/c))},$EaseOutElastic:function(a){if(!a||a==1){return a}var c=0.3,b=0.075;return Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/c)+1},$EaseInOutElastic:function(a){if(!a||a==1){return a}var c=0.45,b=0.1125;return(a*=2)<1?-0.5*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/c):Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/c)*0.5+1},$EaseInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},$EaseOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},$EaseInOutBack:function(a){var b=1.70158;return(a*=2)<1?1/2*a*a*(((b*=1.525)+1)*a-b):1/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},$EaseInBounce:function(a){return 1-$JssorEasing$.$EaseOutBounce(1-a)},$EaseOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},$EaseInOutBounce:function(a){return a<1/2?$JssorEasing$.$EaseInBounce(a*2)*0.5:$JssorEasing$.$EaseOutBounce(a*2-1)*0.5+0.5},$EaseInWave:function(a){return 1-Math.cos(a*Math.PI*2)},$EaseOutWave:function(a){return Math.sin(a*Math.PI*2)},$EaseOutJump:function(a){return 1-(((a*=2)<1)?(a=1-a)*a*a:(a-=1)*a*a)},$EaseInJump:function(a){return((a*=2)<1)?a*a*a:(a=2-a)*a*a}};var $JssorDirection$=window.$JssorDirection$={$TO_LEFT:1,$TO_RIGHT:2,$TO_TOP:4,$TO_BOTTOM:8,$HORIZONTAL:3,$VERTICAL:12,$LEFTRIGHT:3,$TOPBOTOM:12,$TOPLEFT:5,$TOPRIGHT:6,$BOTTOMLEFT:9,$BOTTOMRIGHT:10,$AROUND:15,$GetDirectionHorizontal:function(a){return a&3},$GetDirectionVertical:function(a){return a&12},$ChessHorizontal:function(a){return(~a&3)+(a&12)},$ChessVertical:function(a){return(~a&12)+(a&3)},$IsToLeft:function(a){return(a&3)==1},$IsToRight:function(a){return(a&3)==2},$IsToTop:function(a){return(a&12)==4},$IsToBottom:function(a){return(a&12)==8},$IsHorizontal:function(a){return(a&3)>0},$IsVertical:function(a){return(a&12)>0}};var $JssorKeyCode$={$BACKSPACE:8,$COMMA:188,$DELETE:46,$DOWN:40,$END:35,$ENTER:13,$ESCAPE:27,$HOME:36,$LEFT:37,$NUMPAD_ADD:107,$NUMPAD_DECIMAL:110,$NUMPAD_DIVIDE:111,$NUMPAD_ENTER:108,$NUMPAD_MULTIPLY:106,$NUMPAD_SUBTRACT:109,$PAGE_DOWN:34,$PAGE_UP:33,$PERIOD:190,$RIGHT:39,$SPACE:32,$TAB:9,$UP:38};var $JssorAlignment$={$TopLeft:17,$TopCenter:18,$TopRight:20,$MiddleLeft:33,$MiddleCenter:34,$MiddleRight:36,$BottomLeft:65,$BottomCenter:66,$BottomRight:68,$IsTop:function(a){return a&16>0},$IsMiddle:function(a){return a&32>0},$IsBottom:function(a){return a&64>0},$IsLeft:function(a){return a&1>0},$IsCenter:function(a){return a&2>0},$IsRight:function(a){return a&4>0}};var $JssorMatrix$;var $JssorAnimator$;var $Jssor$=window.$Jssor$=new function(){var _This=this;var REGEX_WHITESPACE_GLOBAL=/\S+/g;var ROWSER_UNKNOWN=0;var BROWSER_IE=1;var BROWSER_FIREFOX=2;var BROWSER_FIREFOX=3;var BROWSER_CHROME=4;var BROWSER_OPERA=5;var browser=0;var browserRuntimeVersion=0;var browserEngineVersion=0;var browserJavascriptVersion=0;var webkitVersion=0;var app=navigator.appName;var ver=navigator.appVersion;var ua=navigator.userAgent;var _DocElmt=document.documentElement;var _TransformProperty;function DetectBrowser(){if(!browser){if(app=="Microsoft Internet Explorer"&&!!window.attachEvent&&!!window.ActiveXObject){var ieOffset=ua.indexOf("MSIE");browser=BROWSER_IE;browserEngineVersion=ParseFloat(ua.substring(ieOffset+5,ua.indexOf(";",ieOffset)));
/*@cc_on
                browserJavascriptVersion = @_jscript_version;
                @*/
;browserRuntimeVersion=document.documentMode||browserEngineVersion}else{if(app=="Netscape"&&!!window.addEventListener){var ffOffset=ua.indexOf("Firefox");var saOffset=ua.indexOf("Safari");var chOffset=ua.indexOf("Chrome");var webkitOffset=ua.indexOf("AppleWebKit");if(ffOffset>=0){browser=BROWSER_FIREFOX;browserRuntimeVersion=ParseFloat(ua.substring(ffOffset+8))}else{if(saOffset>=0){var slash=ua.substring(0,saOffset).lastIndexOf("/");browser=(chOffset>=0)?BROWSER_CHROME:BROWSER_FIREFOX;browserRuntimeVersion=ParseFloat(ua.substring(slash+1,saOffset))}}if(webkitOffset>=0){webkitVersion=ParseFloat(ua.substring(webkitOffset+12))}}else{var match=/(opera)(?:.*version|)[ \/]([\w.]+)/i.exec(ua);if(match){browser=BROWSER_OPERA;browserRuntimeVersion=ParseFloat(match[2])}}}}}function IsBrowserIE(){DetectBrowser();return browser==BROWSER_IE}function IsBrowserIeQuirks(){return IsBrowserIE()&&(browserRuntimeVersion<6||document.compatMode=="BackCompat")}function IsBrowserFireFox(){DetectBrowser();return browser==BROWSER_FIREFOX}function IsBrowserSafari(){DetectBrowser();return browser==BROWSER_FIREFOX}function IsBrowserChrome(){DetectBrowser();return browser==BROWSER_CHROME}function IsBrowserOpera(){DetectBrowser();return browser==BROWSER_OPERA}function IsBrowserBadTransform(){return IsBrowserSafari()&&(webkitVersion>534)&&(webkitVersion<535)}function IsBrowserIe9Earlier(){return IsBrowserIE()&&browserRuntimeVersion<9}function GetTransformProperty(elmt){if(!_TransformProperty){each(["transform","WebkitTransform","msTransform","MozTransform","OTransform"],function(property){if(elmt.style[property]!=undefined){_TransformProperty=property;return true}});_TransformProperty=_TransformProperty||"transform"}return _TransformProperty}function getOffsetParent(elmt,isFixed){if(isFixed&&elmt!=document.body){return document.body}else{return elmt.offsetParent}}function toString(obj){return Object.prototype.toString.call(obj)}var class2type;function each(object,callback){if(toString(object)=="[object Array]"){for(var i=0;i<object.length;i++){if(callback(object[i],i,object)){return true}}}else{for(var name in object){if(callback(object[name],name,object)){return true}}}}function GetClass2Type(){if(!class2type){class2type={};each(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(name){class2type["[object "+name+"]"]=name.toLowerCase()})}return class2type}function type(obj){return obj==null?String(obj):GetClass2Type()[toString(obj)]||"object"}function isPlainObject(obj){if(!obj||type(obj)!=="object"||obj.nodeType||_This.$IsWindow(obj)){return false}var hasOwn=Object.prototype.hasOwnProperty;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||hasOwn.call(obj,key)}function Point(x,y){return{x:x,y:y}}function Delay(code,delay){setTimeout(code,delay||0)}function RemoveByReg(str,reg){var m=reg.exec(str);if(m){var header=str.substr(0,m.index);var tailer=str.substr(m.lastIndex+1,str.length-(m.lastIndex+1));str=header+tailer}return str}function BuildNewCss(oldCss,removeRegs,replaceValue){var css=(!oldCss||oldCss=="inherit")?"":oldCss;each(removeRegs,function(removeReg){var m=removeReg.exec(css);if(m){var header=css.substr(0,m.index);var tailer=css.substr(m.lastIndex+1,css.length-(m.lastIndex+1));css=header+tailer}});css=replaceValue+(css.indexOf(" ")!=0?" ":"")+css;return css}function SetStyleFilterIE(elmt,value){if(browserRuntimeVersion<9){elmt.style.filter=value}}function SetStyleMatrixIE(elmt,matrix,offset){if(browserJavascriptVersion<9){var oldFilterValue=elmt.style.filter;var matrixReg=new RegExp(/[\s]*progid:DXImageTransform\.Microsoft\.Matrix\([^\)]*\)/g);var matrixValue=matrix?"progid:DXImageTransform.Microsoft.Matrix(M11="+matrix[0][0]+", M12="+matrix[0][1]+", M21="+matrix[1][0]+", M22="+matrix[1][1]+", SizingMethod='auto expand')":"";var newFilterValue=BuildNewCss(oldFilterValue,[matrixReg],matrixValue);SetStyleFilterIE(elmt,newFilterValue);_This.$CssMarginTop(elmt,offset.y);_This.$CssMarginLeft(elmt,offset.x)}}_This.$IsBrowserIE=IsBrowserIE;_This.$IsBrowserIeQuirks=IsBrowserIeQuirks;_This.$IsBrowserFireFox=IsBrowserFireFox;_This.$IsBrowserSafari=IsBrowserSafari;_This.$IsBrowserChrome=IsBrowserChrome;_This.$IsBrowserOpera=IsBrowserOpera;_This.$IsBrowserBadTransform=IsBrowserBadTransform;_This.$IsBrowserIe9Earlier=IsBrowserIe9Earlier;_This.$BrowserVersion=function(){return browserRuntimeVersion};_This.$BrowserEngineVersion=function(){return browserEngineVersion||browserRuntimeVersion};_This.$WebKitVersion=function(){DetectBrowser();return webkitVersion};_This.$Delay=Delay;_This.$Inherit=function(instance,baseClass){baseClass.apply(instance,[].slice.call(arguments,2));return Extend({},instance)};function Construct(instance){instance.constructor===Construct.caller&&instance.$Construct&&instance.$Construct()}_This.$Construct=Construct;_This.$GetElement=function(elmt){if(_This.$IsString(elmt)){elmt=document.getElementById(elmt)}return elmt};function GetEvent(event){return event||window.event}_This.$GetEvent=GetEvent;_This.$EventSrc=function(event){event=GetEvent(event);return event.target||event.srcElement||document};_This.$EventDst=function(event){event=GetEvent(event);return event.relatedTarget||event.toElement};_This.$MousePosition=function(event){event=GetEvent(event);var body=document.body;return{x:event.pageX||event.clientX+(_DocElmt.scrollLeft||body.scrollLeft||0)-(_DocElmt.clientLeft||body.clientLeft||0)||0,y:event.pageY||event.clientY+(_DocElmt.scrollTop||body.scrollTop||0)-(_DocElmt.clientTop||body.clientTop||0)||0}};_This.$PageScroll=function(){var body=document.body;return{x:(window.pageXOffset||_DocElmt.scrollLeft||body.scrollLeft||0)-(_DocElmt.clientLeft||body.clientLeft||0),y:(window.pageYOffset||_DocElmt.scrollTop||body.scrollTop||0)-(_DocElmt.clientTop||body.clientTop||0)}};_This.$WindowSize=function(){var body=document.body;return{x:body.clientWidth||_DocElmt.clientWidth,y:body.clientHeight||_DocElmt.clientHeight}};function Css(elmt,name,value){if(value!=undefined){elmt.style[name]=value}else{var style=elmt.currentStyle||elmt.style;value=style[name];if(value==""&&window.getComputedStyle){style=elmt.ownerDocument.defaultView.getComputedStyle(elmt,null);style&&(value=style.getPropertyValue(name)||style[name])}return value}}function CssN(elmt,name,value,isDimensional){if(value!=undefined){isDimensional&&(value+="px");Css(elmt,name,value)}else{return ParseFloat(Css(elmt,name))}}function CssP(elmt,name,value){return CssN(elmt,name,value,true)}function CssProxy(name,numericOrDimension){var isDimensional=numericOrDimension&2;var cssAccessor=numericOrDimension?CssN:Css;return function(elmt,value){return cssAccessor(elmt,name,value,isDimensional)}}function GetStyleOpacity(elmt){if(IsBrowserIE()&&browserEngineVersion<9){var match=/opacity=([^)]*)/.exec(elmt.style.filter||"");return match?(ParseFloat(match[1])/100):1}else{return ParseFloat(elmt.style.opacity||"1")}}function SetStyleOpacity(elmt,opacity,ie9EarlierForce){if(IsBrowserIE()&&browserEngineVersion<9){var finalFilter=elmt.style.filter||"";var alphaReg=new RegExp(/[\s]*alpha\([^\)]*\)/g);var ieOpacity=Math.round(100*opacity);var alphaFilter="";if(ieOpacity<100||ie9EarlierForce){alphaFilter="alpha(opacity="+ieOpacity+") "}var newFilterValue=BuildNewCss(finalFilter,[alphaReg],alphaFilter);SetStyleFilterIE(elmt,newFilterValue)}else{elmt.style.opacity=opacity==1?"":Math.round(opacity*100)/100}}function SetStyleTransformInternal(elmt,transform){var rotate=transform.$Rotate||0;var scale=transform.$Scale==undefined?1:transform.$Scale;if(IsBrowserIe9Earlier()){var matrix=_This.$CreateMatrix(rotate/180*Math.PI,scale,scale);SetStyleMatrixIE(elmt,(!rotate&&scale==1)?null:matrix,_This.$GetMatrixOffset(matrix,transform.$OriginalWidth,transform.$OriginalHeight))}else{var transformProperty=GetTransformProperty(elmt);if(transformProperty){var transformValue="rotate("+rotate%360+"deg) scale("+scale+")";if(IsBrowserChrome()&&webkitVersion>535&&"ontouchstart" in window){transformValue+=" perspective(2000px)"}elmt.style[transformProperty]=transformValue}}}_This.$SetStyleTransform=function(elmt,transform){if(IsBrowserBadTransform()){Delay(_This.$CreateCallback(null,SetStyleTransformInternal,elmt,transform))}else{SetStyleTransformInternal(elmt,transform)}};_This.$SetStyleTransformOrigin=function(elmt,transformOrigin){var transformProperty=GetTransformProperty(elmt);if(transformProperty){elmt.style[transformProperty+"Origin"]=transformOrigin}};_This.$CssScale=function(elmt,scale){if(IsBrowserIE()&&browserEngineVersion<9||(browserEngineVersion<10&&IsBrowserIeQuirks())){elmt.style.zoom=(scale==1)?"":scale}else{var transformProperty=GetTransformProperty(elmt);if(transformProperty){var transformValue="scale("+scale+")";var oldTransformValue=elmt.style[transformProperty];var scaleReg=new RegExp(/[\s]*scale\(.*?\)/g);var newTransformValue=BuildNewCss(oldTransformValue,[scaleReg],transformValue);elmt.style[transformProperty]=newTransformValue}}};_This.$EnableHWA=function(elmt){if(!elmt.style[GetTransformProperty(elmt)]||elmt.style[GetTransformProperty(elmt)]=="none"){elmt.style[GetTransformProperty(elmt)]="perspective(2000px)"}};_This.$DisableHWA=function(elmt){elmt.style[GetTransformProperty(elmt)]="none"};var ie8OffsetWidth=0;var ie8OffsetHeight=0;_This.$WindowResizeFilter=function(window,handler){return IsBrowserIe9Earlier()?function(){var trigger=true;var checkElement=(IsBrowserIeQuirks()?window.document.body:window.document.documentElement);if(checkElement){var widthChange=checkElement.offsetWidth-ie8OffsetWidth;var heightChange=checkElement.offsetHeight-ie8OffsetHeight;if(widthChange||heightChange){ie8OffsetWidth+=widthChange;ie8OffsetHeight+=heightChange}else{trigger=false}}trigger&&handler()}:handler};_This.$MouseOverOutFilter=function(handler,target){$JssorDebug$.$Execute(function(){if(!target){throw new Error('Null reference, parameter "target".')}});return function(event){event=GetEvent(event);var eventName=event.type;var related=event.relatedTarget||(eventName=="mouseout"?event.toElement:event.fromElement);if(!related||(related!==target&&!_This.$IsChild(target,related))){handler(event)}}};_This.$AddEvent=function(elmt,eventName,handler,useCapture){elmt=_This.$GetElement(elmt);if(elmt.addEventListener){if(eventName=="mousewheel"){elmt.addEventListener("DOMMouseScroll",handler,useCapture)}elmt.addEventListener(eventName,handler,useCapture)}else{if(elmt.attachEvent){elmt.attachEvent("on"+eventName,handler);if(useCapture&&elmt.setCapture){elmt.setCapture()}}}$JssorDebug$.$Execute(function(){if(!elmt.addEventListener&&!elmt.attachEvent){$JssorDebug$.$Fail("Unable to attach event handler, no known technique.")}})};_This.$RemoveEvent=function(elmt,eventName,handler,useCapture){elmt=_This.$GetElement(elmt);if(elmt.removeEventListener){if(eventName=="mousewheel"){elmt.removeEventListener("DOMMouseScroll",handler,useCapture)}elmt.removeEventListener(eventName,handler,useCapture)}else{if(elmt.detachEvent){elmt.detachEvent("on"+eventName,handler);if(useCapture&&elmt.releaseCapture){elmt.releaseCapture()}}}};_This.$FireEvent=function(elmt,eventName){$JssorDebug$.$Execute(function(){if(!document.createEvent&&!document.createEventObject){$JssorDebug$.$Fail("Unable to fire event, no known technique.")}if(!elmt.dispatchEvent&&!elmt.fireEvent){$JssorDebug$.$Fail("Unable to fire event, no known technique.")}});var evento;if(document.createEvent){evento=document.createEvent("HTMLEvents");evento.initEvent(eventName,false,false);elmt.dispatchEvent(evento)}else{var ieEventName="on"+eventName;evento=document.createEventObject();elmt.fireEvent(ieEventName,evento)}};_This.$AddEventBrowserMouseUp=function(handler,userCapture){_This.$AddEvent((IsBrowserIe9Earlier())?document:window,"mouseup",handler,userCapture)};_This.$RemoveEventBrowserMouseUp=function(handler,userCapture){_This.$RemoveEvent((IsBrowserIe9Earlier())?document:window,"mouseup",handler,userCapture)};_This.$CancelEvent=function(event){event=GetEvent(event);if(event.preventDefault){event.preventDefault()}event.cancel=true;event.returnValue=false};_This.$StopEvent=function(event){event=GetEvent(event);if(event.stopPropagation){event.stopPropagation()}event.cancelBubble=true};_This.$CreateCallback=function(object,method){var initialArgs=[].slice.call(arguments,2);var callback=function(){var args=initialArgs.concat([].slice.call(arguments,0));return method.apply(object,args)};return callback};var _Freeer;_This.$FreeElement=function(elmt){if(!_Freeer){_Freeer=_This.$CreateDiv()}if(elmt){$Jssor$.$AppendChild(_Freeer,elmt);$Jssor$.$ClearInnerHtml(_Freeer)}};_This.$InnerText=function(elmt,text){if(text==undefined){return elmt.textContent||elmt.innerText}var textNode=document.createTextNode(text);_This.$ClearInnerHtml(elmt);elmt.appendChild(textNode)};_This.$InnerHtml=function(elmt,html){if(html==undefined){return elmt.innerHTML}elmt.innerHTML=html};_This.$GetClientRect=function(elmt){var rect=elmt.getBoundingClientRect();return{x:rect.left,y:rect.top,w:rect.right-rect.left,h:rect.bottom-rect.top}};_This.$ClearInnerHtml=function(elmt){elmt.innerHTML=""};_This.$EncodeHtml=function(text){var div=_This.$CreateDiv();_This.$InnerText(div,text);return _This.$InnerHtml(div)};_This.$DecodeHtml=function(html){var div=_This.$CreateDiv();_This.$InnerHtml(div,html);return _This.$InnerText(div)};_This.$SelectElement=function(elmt){var userSelection;if(window.getSelection){userSelection=window.getSelection()}var theRange=null;if(document.createRange){theRange=document.createRange();theRange.selectNode(elmt)}else{theRange=document.body.createTextRange();theRange.moveToElementText(elmt);theRange.select()}if(userSelection){userSelection.addRange(theRange)}};_This.$DeselectElements=function(){if(document.selection){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}};_This.$Children=function(elmt){var children=[];for(var tmpEl=elmt.firstChild;tmpEl;tmpEl=tmpEl.nextSibling){if(tmpEl.nodeType==1){children.push(tmpEl)}}return children};function FindChild(elmt,attrValue,noDeep,attrName){attrName=attrName||"u";for(elmt=elmt?elmt.firstChild:null;elmt;elmt=elmt.nextSibling){if(elmt.nodeType==1){if(AttributeEx(elmt,attrName)==attrValue){return elmt}if(!noDeep){var childRet=FindChild(elmt,attrValue,noDeep,attrName);if(childRet){return childRet}}}}}_This.$FindChild=FindChild;function FindChildren(elmt,attrValue,noDeep,attrName){attrName=attrName||"u";var ret=[];for(elmt=elmt?elmt.firstChild:null;elmt;elmt=elmt.nextSibling){if(elmt.nodeType==1){if(AttributeEx(elmt,attrName)==attrValue){ret.push(elmt)}if(!noDeep){var childRet=FindChildren(elmt,attrValue,noDeep,attrName);if(childRet.length){ret=ret.concat(childRet)}}}}return ret}_This.$FindChildren=FindChildren;function FindChildByTag(elmt,tagName,noDeep){for(elmt=elmt?elmt.firstChild:null;elmt;elmt=elmt.nextSibling){if(elmt.nodeType==1){if(elmt.tagName==tagName){return elmt}if(!noDeep){var childRet=FindChildByTag(elmt,tagName,noDeep);if(childRet){return childRet}}}}}_This.$FindChildByTag=FindChildByTag;function FindChildrenByTag(elmt,tagName,noDeep){var ret=[];for(elmt=elmt?elmt.firstChild:null;elmt;elmt=elmt.nextSibling){if(elmt.nodeType==1){if(!tagName||elmt.tagName==tagName){ret.push(elmt)}if(!noDeep){var childRet=FindChildrenByTag(elmt,tagName,noDeep);if(childRet.length){ret=ret.concat(childRet)}}}}return ret}_This.$FindChildrenByTag=FindChildrenByTag;_This.$GetElementsByTag=function(elmt,tagName){return elmt.getElementsByTagName(tagName)};function Extend(target){for(var i=1;i<arguments.length;i++){var options=arguments[i];if(options){for(var name in options){target[name]=options[name]}}}return target}_This.$Extend=Extend;function Unextend(target,options){$JssorDebug$.$Assert(options);var unextended={};for(var name in target){if(target[name]!=options[name]){unextended[name]=target[name]}}return unextended}_This.$Unextend=Unextend;_This.$IsUndefined=function(obj){return type(obj)=="undefined"};_This.$IsFunction=function(obj){return type(obj)=="function"};_This.$IsArray=function(obj){return type(obj)=="array"};_This.$IsString=function(obj){return type(obj)=="string"};_This.$IsNumeric=function(obj){return !isNaN(ParseFloat(obj))&&isFinite(obj)};_This.$IsWindow=function(obj){return obj&&obj==obj.window};_This.$Type=type;_This.$Each=each;_This.$IsPlainObject=isPlainObject;function CreateElement(tagName){return document.createElement(tagName)}_This.$CreateElement=CreateElement;_This.$CreateDiv=function(){return CreateElement("DIV",document)};_This.$CreateSpan=function(){return CreateElement("SPAN",document)};_This.$EmptyFunction=function(){};function Attribute(elmt,name,value){if(value==undefined){return elmt.getAttribute(name)}elmt.setAttribute(name,value)}function AttributeEx(elmt,name){return Attribute(elmt,name)||Attribute(elmt,"data-"+name)}_This.$Attribute=Attribute;_This.$AttributeEx=AttributeEx;function ClassName(elmt,className){if(className==undefined){return elmt.className}elmt.className=className}_This.$ClassName=ClassName;function ToHash(array){var hash={};each(array,function(item){hash[item]=item});return hash}_This.$ToHash=ToHash;function Join(separator,strings){var joined="";each(strings,function(str){joined&&(joined+=separator);joined+=str});return joined}_This.$Join=Join;_This.$AddClass=function(elmt,className){var newClassName=ClassName(elmt)+" "+className;ClassName(elmt,Join(" ",ToHash(newClassName.match(REGEX_WHITESPACE_GLOBAL))))};_This.$RemoveClass=function(elmt,className){ClassName(elmt,Join(" ",_This.$Unextend(ToHash(ClassName(elmt).match(REGEX_WHITESPACE_GLOBAL)),ToHash(className.match(REGEX_WHITESPACE_GLOBAL)))))};_This.$ParentNode=function(elmt){return elmt.parentNode};_This.$HideElement=function(elmt){_This.$CssDisplay(elmt,"none")};_This.$EnableElement=function(elmt,notEnable){if(notEnable){_This.$Attribute(elmt,"disabled",true)}else{_This.$RemoveAttribute(elmt,"disabled")}};_This.$HideElements=function(elmts){for(var i=0;i<elmts.length;i++){_This.$HideElement(elmts[i])}};_This.$ShowElement=function(elmt,hide){_This.$CssDisplay(elmt,hide?"none":"")};_This.$ShowElements=function(elmts,hide){for(var i=0;i<elmts.length;i++){_This.$ShowElement(elmts[i],hide)}};_This.$RemoveAttribute=function(elmt,attrbuteName){elmt.removeAttribute(attrbuteName)};_This.$CanClearClip=function(){return IsBrowserIE()&&browserRuntimeVersion<10};_This.$SetStyleClip=function(elmt,clip){if(clip){elmt.style.clip="rect("+Math.round(clip.$Top)+"px "+Math.round(clip.$Right)+"px "+Math.round(clip.$Bottom)+"px "+Math.round(clip.$Left)+"px)"}else{var cssText=elmt.style.cssText;var clipRegs=[new RegExp(/[\s]*clip: rect\(.*?\)[;]?/i),new RegExp(/[\s]*cliptop: .*?[;]?/i),new RegExp(/[\s]*clipright: .*?[;]?/i),new RegExp(/[\s]*clipbottom: .*?[;]?/i),new RegExp(/[\s]*clipleft: .*?[;]?/i)];var newCssText=BuildNewCss(cssText,clipRegs,"");$Jssor$.$CssCssText(elmt,newCssText)}};_This.$GetNow=function(){return new Date().getTime()};_This.$AppendChild=function(elmt,child){elmt.appendChild(child)};_This.$AppendChildren=function(elmt,children){each(children,function(child){_This.$AppendChild(elmt,child)})};_This.$InsertBefore=function(elmt,child,refObject){elmt.insertBefore(child,refObject)};_This.$InsertAdjacentHtml=function(elmt,where,text){elmt.insertAdjacentHTML(where,text)};_This.$RemoveChild=function(elmt,child){elmt.removeChild(child)};_This.$RemoveChildren=function(elmt,children){each(children,function(child){_This.$RemoveChild(elmt,child)})};_This.$ClearChildren=function(elmt){_This.$RemoveChildren(elmt,_This.$Children(elmt))};_This.$ParseInt=function(str,radix){return parseInt(str,radix||10)};function ParseFloat(str){return parseFloat(str)}_This.$ParseFloat=ParseFloat;_This.$IsChild=function(elmtA,elmtB){var body=document.body;while(elmtB&&elmtA!=elmtB&&body!=elmtB){try{elmtB=elmtB.parentNode}catch(e){return false}}return elmtA==elmtB};function CloneNode(elmt,noDeep){return elmt.cloneNode(!noDeep)}_This.$CloneNode=CloneNode;function TranslateTransition(transition){if(transition){var flyDirection=transition.$FlyDirection;if(flyDirection&1){transition.x=transition.$ScaleHorizontal||1}if(flyDirection&2){transition.x=-transition.$ScaleHorizontal||-1}if(flyDirection&4){transition.y=transition.$ScaleVertical||1}if(flyDirection&8){transition.y=-transition.$ScaleVertical||-1}if(transition.$Rotate==true){transition.$Rotate=1}TranslateTransition(transition.$Brother)}}_This.$TranslateTransitions=function(transitions){if(transitions){for(var i=0;i<transitions.length;i++){TranslateTransition(transitions[i])}for(var name in transitions){TranslateTransition(transitions[name])}}};_This.$LoadImage=function(src,callback){var image=new Image();function LoadImageCompleteHandler(abort){_This.$RemoveEvent(image,"load",LoadImageCompleteHandler);_This.$RemoveEvent(image,"abort",ErrorOrAbortHandler);_This.$RemoveEvent(image,"error",ErrorOrAbortHandler);if(callback){callback(image,abort)}}function ErrorOrAbortHandler(){LoadImageCompleteHandler(true)}if(IsBrowserOpera()&&browserRuntimeVersion<11.6||!src){LoadImageCompleteHandler(!src)}else{_This.$AddEvent(image,"load",LoadImageCompleteHandler);_This.$AddEvent(image,"abort",ErrorOrAbortHandler);_This.$AddEvent(image,"error",ErrorOrAbortHandler);image.src=src}};_This.$LoadImages=function(imageElmts,mainImageElmt,callback){var _ImageLoading=imageElmts.length+1;function LoadImageCompleteEventHandler(image,abort){_ImageLoading--;if(mainImageElmt&&image&&image.src==mainImageElmt.src){mainImageElmt=image}!_ImageLoading&&callback&&callback(mainImageElmt)}each(imageElmts,function(imageElmt){_This.$LoadImage(imageElmt.src,LoadImageCompleteEventHandler)});LoadImageCompleteEventHandler()};_This.$BuildElement=function(template,tagName,replacer,createCopy){if(createCopy){template=CloneNode(template)}var templateHolders=FindChildren(template,tagName);if(!templateHolders.length){templateHolders=$Jssor$.$GetElementsByTag(template,tagName)}for(var j=templateHolders.length-1;j>-1;j--){var templateHolder=templateHolders[j];var replaceItem=CloneNode(replacer);ClassName(replaceItem,ClassName(templateHolder));$Jssor$.$CssCssText(replaceItem,templateHolder.style.cssText);var thumbnailPlaceHolderParent=$Jssor$.$ParentNode(templateHolder);$Jssor$.$InsertBefore(thumbnailPlaceHolderParent,replaceItem,templateHolder);$Jssor$.$RemoveChild(thumbnailPlaceHolderParent,templateHolder)}return template};var _MouseDownButtons;function JssorButtonEx(elmt){var _Self=this;var _OriginClassName;var _IsMouseDown;var _IsSelected;var _IsDisabled;function Highlight(){var className=_OriginClassName;if(_IsDisabled){className+="ds"}else{if(_IsMouseDown){className+="dn"}else{if(_IsSelected==2){className+="pv"}else{if(_IsSelected){className+="av"}}}}ClassName(elmt,className)}function OnMouseDown(event){if(_IsDisabled){_This.$CancelEvent(event)}else{_MouseDownButtons.push(_Self);_IsMouseDown=true;Highlight()}}_Self.$MouseUp=function(){_IsMouseDown=false;Highlight()};_Self.$Selected=function(activate){if(activate!=undefined){_IsSelected=activate;Highlight()}else{return _IsSelected}};_Self.$Enable=function(enable){if(enable!=undefined){_IsDisabled=!enable;Highlight()}else{return !_IsDisabled}};elmt=_This.$GetElement(elmt);if(!_MouseDownButtons){_This.$AddEventBrowserMouseUp(function(){var oldMouseDownButtons=_MouseDownButtons;_MouseDownButtons=[];each(oldMouseDownButtons,function(button){button.$MouseUp()})});_MouseDownButtons=[]}_OriginClassName=ClassName(elmt);$Jssor$.$AddEvent(elmt,"mousedown",OnMouseDown)}_This.$Buttonize=function(elmt){return new JssorButtonEx(elmt)};_This.$Css=Css;_This.$CssN=CssN;_This.$CssP=CssP;_This.$CssOverflow=CssProxy("overflow");_This.$CssTop=CssProxy("top",2);_This.$CssLeft=CssProxy("left",2);_This.$CssWidth=CssProxy("width",2);_This.$CssHeight=CssProxy("height",2);_This.$CssMarginLeft=CssProxy("marginLeft",2);_This.$CssMarginTop=CssProxy("marginTop",2);_This.$CssPosition=CssProxy("position");_This.$CssDisplay=CssProxy("display");_This.$CssZIndex=CssProxy("zIndex",1);_This.$CssFloat=function(elmt,floatValue){return Css(elmt,IsBrowserIE()?"styleFloat":"cssFloat",floatValue)};_This.$CssOpacity=function(elmt,opacity,ie9EarlierForce){if(opacity!=undefined){SetStyleOpacity(elmt,opacity,ie9EarlierForce)}else{return GetStyleOpacity(elmt)}};_This.$CssCssText=function(elmt,text){if(text!=undefined){elmt.style.cssText=text}else{return elmt.style.cssText}};var _StyleGetter={$Opacity:_This.$CssOpacity,$Top:_This.$CssTop,$Left:_This.$CssLeft,$Width:_This.$CssWidth,$Height:_This.$CssHeight,$Position:_This.$CssPosition,$Display:_This.$CssDisplay,$ZIndex:_This.$CssZIndex};var _StyleSetterReserved;function StyleSetter(){if(!_StyleSetterReserved){_StyleSetterReserved=Extend({$MarginTop:_This.$CssMarginTop,$MarginLeft:_This.$CssMarginLeft,$Clip:_This.$SetStyleClip,$Transform:_This.$SetStyleTransform},_StyleGetter)}return _StyleSetterReserved}function StyleSetterEx(){StyleSetter();_StyleSetterReserved.$Transform=_StyleSetterReserved.$Transform;return _StyleSetterReserved}_This.$StyleSetter=StyleSetter;_This.$StyleSetterEx=StyleSetterEx;_This.$GetStyles=function(elmt,originStyles){StyleSetter();var styles={};each(originStyles,function(value,key){if(_StyleGetter[key]){styles[key]=_StyleGetter[key](elmt)}});return styles};_This.$SetStyles=function(elmt,styles){var styleSetter=StyleSetter();each(styles,function(value,key){styleSetter[key]&&styleSetter[key](elmt,value)})};_This.$SetStylesEx=function(elmt,styles){StyleSetterEx();_This.$SetStyles(elmt,styles)};$JssorMatrix$=new function(){var _ThisMatrix=this;function Multiply(ma,mb){var acs=ma[0].length;var rows=ma.length;var cols=mb[0].length;var matrix=[];for(var r=0;r<rows;r++){var row=matrix[r]=[];for(var c=0;c<cols;c++){var unitValue=0;for(var ac=0;ac<acs;ac++){unitValue+=ma[r][ac]*mb[ac][c]}row[c]=unitValue}}return matrix}_ThisMatrix.$ScaleX=function(matrix,sx){return _ThisMatrix.$ScaleXY(matrix,sx,0)};_ThisMatrix.$ScaleY=function(matrix,sy){return _ThisMatrix.$ScaleXY(matrix,0,sy)};_ThisMatrix.$ScaleXY=function(matrix,sx,sy){return Multiply(matrix,[[sx,0],[0,sy]])};_ThisMatrix.$TransformPoint=function(matrix,p){var pMatrix=Multiply(matrix,[[p.x],[p.y]]);return Point(pMatrix[0][0],pMatrix[1][0])}};_This.$CreateMatrix=function(alpha,scaleX,scaleY){var cos=Math.cos(alpha);var sin=Math.sin(alpha);return[[cos*scaleX,-sin*scaleY],[sin*scaleX,cos*scaleY]]};_This.$GetMatrixOffset=function(matrix,width,height){var p1=$JssorMatrix$.$TransformPoint(matrix,Point(-width/2,-height/2));var p2=$JssorMatrix$.$TransformPoint(matrix,Point(width/2,-height/2));var p3=$JssorMatrix$.$TransformPoint(matrix,Point(width/2,height/2));var p4=$JssorMatrix$.$TransformPoint(matrix,Point(-width/2,height/2));return Point(Math.min(p1.x,p2.x,p3.x,p4.x)+width/2,Math.min(p1.y,p2.y,p3.y,p4.y)+height/2)};_This.$Transform=function(fromStyles,toStyles,interPosition,easings,durings,rounds,options){var currentStyles=toStyles;if(fromStyles){currentStyles={};for(var key in toStyles){var round=rounds[key]||1;var during=durings[key]||[0,1];var propertyInterPosition=(interPosition-during[0])/during[1];propertyInterPosition=Math.min(Math.max(propertyInterPosition,0),1);propertyInterPosition=propertyInterPosition*round;var floorPosition=Math.floor(propertyInterPosition);if(propertyInterPosition!=floorPosition){propertyInterPosition-=floorPosition}var easing=easings[key]||easings.$Default;var easingValue=easing(propertyInterPosition);var currentPropertyValue;var value=fromStyles[key];var toValue=toStyles[key];if($Jssor$.$IsNumeric(toValue)){currentPropertyValue=value+(toValue-value)*easingValue}else{currentPropertyValue=$Jssor$.$Extend({$Offset:{}},fromStyles[key]);$Jssor$.$Each(toValue.$Offset,function(rectX,n){var offsetValue=rectX*easingValue;currentPropertyValue.$Offset[n]=offsetValue;currentPropertyValue[n]+=offsetValue})}currentStyles[key]=currentPropertyValue}if(fromStyles.$Zoom){currentStyles.$Transform={$Rotate:currentStyles.$Rotate||0,$Scale:currentStyles.$Zoom,$OriginalWidth:options.$OriginalWidth,$OriginalHeight:options.$OriginalHeight}}}if(toStyles.$Clip&&options.$Move){var styleFrameNClipOffset=currentStyles.$Clip.$Offset;var offsetY=(styleFrameNClipOffset.$Top||0)+(styleFrameNClipOffset.$Bottom||0);var offsetX=(styleFrameNClipOffset.$Left||0)+(styleFrameNClipOffset.$Right||0);currentStyles.$Left=(currentStyles.$Left||0)+offsetX;currentStyles.$Top=(currentStyles.$Top||0)+offsetY;currentStyles.$Clip.$Left-=offsetX;currentStyles.$Clip.$Right-=offsetX;currentStyles.$Clip.$Top-=offsetY;currentStyles.$Clip.$Bottom-=offsetY}if(currentStyles.$Clip&&$Jssor$.$CanClearClip()&&!currentStyles.$Clip.$Top&&!currentStyles.$Clip.$Left&&(currentStyles.$Clip.$Right==options.$OriginalWidth)&&(currentStyles.$Clip.$Bottom==options.$OriginalHeight)){currentStyles.$Clip=null}return currentStyles}};var $JssorObject$=window.$JssorObject$=function(){var e=this;var c=[];var a=[];function d(h,j){$JssorDebug$.$Execute(function(){if(h==undefined||h==null){throw new Error("param 'eventName' is null or empty.")}if(typeof(j)!="function"){throw"param 'handler' must be a function."}$Jssor$.$Each(c,function(k){if(k.$EventName==h&&k.$Handler===j){throw new Error("The handler listened to the event already, cannot listen to the same event of the same object with the same handler twice.")}})});c.push({$EventName:h,$Handler:j})}function g(h,j){$JssorDebug$.$Execute(function(){if(h==undefined||h==null){throw new Error("param 'eventName' is null or empty.")}if(typeof(j)!="function"){throw"param 'handler' must be a function."}});$Jssor$.$Each(c,function(l,k){if(l.$EventName==h&&l.$Handler===j){c.splice(k,1)}})}function b(){c=[]}function f(){$Jssor$.$Each(a,function(h){$Jssor$.$RemoveEvent(h.$Obj,h.$EventName,h.$Handler)});a=[]}e.$Listen=function(l,j,k,h){$JssorDebug$.$Execute(function(){if(!l){throw new Error("param 'obj' is null or empty.")}if(j==undefined||j==null){throw new Error("param 'eventName' is null or empty.")}if(typeof(k)!="function"){throw"param 'handler' must be a function."}$Jssor$.$Each(a,function(m){if(m.$Obj===l&&m.$EventName==j&&m.$Handler===k){throw new Error("The handler listened to the event already, cannot listen to the same event of the same object with the same handler twice.")}})});$Jssor$.$AddEvent(l,j,k,h);a.push({$Obj:l,$EventName:j,$Handler:k})};e.$Unlisten=function(k,h,j){$JssorDebug$.$Execute(function(){if(!k){throw new Error("param 'obj' is null or empty.")}if(h==undefined||h==null){throw new Error("param 'eventName' is null or empty.")}if(typeof(j)!="function"){throw"param 'handler' must be a function."}});$Jssor$.$Each(a,function(m,l){if(m.$Obj===k&&m.$EventName==h&&m.$Handler===j){$Jssor$.$RemoveEvent(k,h,j);a.splice(l,1)}})};e.$UnlistenAll=f;e.$On=e.addEventListener=d;e.$Off=e.removeEventListener=g;e.$TriggerEvent=function(h){var j=[].slice.call(arguments,1);$Jssor$.$Each(c,function(k){try{k.$EventName==h&&k.$Handler.apply(window,j)}catch(l){$JssorDebug$.$Error(l.name+" while executing "+h+" handler: "+l.message,l)}})};e.$Destroy=function(){f();b();for(var h in e){delete e[h]}};$JssorDebug$.$C_AbstractClass(e)};$JssorAnimator$=function(A,v,t,f,J,s){A=A||0;var H=this;var G;var F;var a;var j;var z;var q;var I=0;var w;var K;var d;var D;var g=0;var l=0;var h;var y=A;var L=A+v;var n;var u;var r;var m=[];var N;function e(O,R,P){var Q=0;if(O<R){Q=-1}else{if(O>P){Q=1}}return Q}function B(O){return e(O,y,L)}function x(O){return e(O,n,u)}function o(O){n+=O;u+=O;y+=O;L+=O;g+=O;l+=O;$Jssor$.$Each(m,function(P){P,P.$Shift(O)})}function p(O,P){var Q=O-n+A*P;o(Q);return u}function C(R,U){var T=R;if(r&&(T>=u||T<=n)){T=((T-n)%r+r)%r+n}if(!h||q||U||g!=T){var V=Math.min(T,u);V=Math.max(V,n);if(!h||q||U||V!=l){if(s){var P=(V-y)/(v||1);if(t.$Reverse){P=1-P}var S=$Jssor$.$Transform(J,s,P,w,d,K,t);$Jssor$.$Each(S,function(X,W){N[W]&&N[W](f,X)})}H.$OnInnerOffsetChange(l-y,V-y)}l=V;$Jssor$.$Each(m,function(W,X){var Y=R<g?m[m.length-X-1]:W;Y.$GoToPosition(R,U)});var O=g;var Q=R;g=T;h=true;H.$OnPositionChange(O,Q)}}function b(O,P){$JssorDebug$.$Execute(function(){if(P!==0&&P!==1){$JssorDebug$.$Fail("Argument out of range, the value of 'combineMode' should be either 0 or 1.")}});if(P){O.$Locate(u,1)}u=Math.max(u,O.$GetPosition_OuterEnd());m.push(O)}var E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;if($Jssor$.$IsBrowserSafari()&&$Jssor$.$BrowserVersion()<7){E=null;$JssorDebug$.$Log("Custom animation frame for safari before 7.")}E=E||function(O){$Jssor$.$Delay(O,t.$Interval)};function M(){if(G){var Q=$Jssor$.$GetNow();var O=Math.min(Q-I,t.$IntervalMax);var P=g+O*z;I=Q;if(P*z>=j*z){P=j}C(P);if(!q&&P*z>=j*z){k(D)}else{E(M)}}}function c(P,Q,O){if(!G){G=true;q=O;D=Q;P=Math.max(P,n);P=Math.min(P,u);j=P;z=j<g?-1:1;H.$OnStart();I=$Jssor$.$GetNow();E(M)}}function k(O){if(G){q=G=D=false;H.$OnStop();if(O){O()}}}H.$Play=function(Q,P,O){c(Q?g+Q:u,P,O)};H.$PlayToPosition=c;H.$PlayToBegin=function(P,O){c(n,P,O)};H.$PlayToEnd=function(P,O){c(u,P,O)};H.$Stop=k;H.$Continue=function(O){c(O)};H.$GetPosition=function(){return g};H.$GetPlayToPosition=function(){return j};H.$GetPosition_Display=function(){return l};H.$GoToPosition=C;H.$GoToBegin=function(){C(n,true)};H.$GoToEnd=function(){C(u,true)};H.$Move=function(O){C(g+O)};H.$CombineMode=function(){return a};H.$GetDuration=function(){return v};H.$IsPlaying=function(){return G};H.$IsOnTheWay=function(){return g>y&&g<=L};H.$SetLoopLength=function(O){r=O};H.$Locate=p;H.$Shift=o;H.$Join=b;H.$Combine=function(O){b(O,0)};H.$Chain=function(O){b(O,1)};H.$GetPosition_InnerBegin=function(){return y};H.$GetPosition_InnerEnd=function(){return L};H.$GetPosition_OuterBegin=function(){return n};H.$GetPosition_OuterEnd=function(){return u};H.$OnPositionChange=H.$OnStart=H.$OnStop=H.$OnInnerOffsetChange=$Jssor$.$EmptyFunction;H.$Version=$Jssor$.$GetNow();t=$Jssor$.$Extend({$Interval:16,$IntervalMax:50},t);$JssorDebug$.$Execute(function(){t=$Jssor$.$Extend({$LoopLength:undefined,$Setter:undefined,$Easing:undefined},t)});r=t.$LoopLength;N=$Jssor$.$Extend({},$Jssor$.$StyleSetter(),t.$Setter);n=y=A;u=L=A+v;K=t.$Round||{};d=t.$During||{};w=$Jssor$.$Extend({$Default:$Jssor$.$IsFunction(t.$Easing)&&t.$Easing||$JssorEasing$.$EaseSwing},t.$Easing)};function $JssorPlayerClass$(){var b=this;var a=[];function c(f){var g=this;var j;var d=[];function e(l){var k=$Jssor$.$EventSrc(l);j=k.pInstance;$Jssor$.$RemoveEvent(k,"dataavailable",e);$Jssor$.$Each(d,function(m){if(m!=j){m.$Remove()}});f.pTagName=j.tagName;d=null}function h(m){var k;if(!m.pInstance){var l=$Jssor$.$AttributeEx(m,"pHandler");if($JssorPlayer$[l]){$Jssor$.$AddEvent(m,"dataavailable",e);k=new $JssorPlayer$[l](f,m);d.push(k);$JssorDebug$.$Execute(function(){if($Jssor$.$Type(k.$Remove)!="function"){$JssorDebug$.$Fail("'pRemove' interface not implemented for player handler '"+l+"'.")}})}}return k}g.$InitPlayerController=function(){if(!f.pInstance&&!h(f)){var k=$Jssor$.$Children(f);$Jssor$.$Each(k,function(l){h(l)})}}}b.$EVT_SWITCH=21;b.$FetchPlayers=function(d){d=d||document.body;var e=$Jssor$.$FindChildren(d,"player");$Jssor$.$Each(e,function(f){if(!a[f.pId]){f.pId=a.length;a.push(new c(f))}var g=a[f.pId];g.$InitPlayerController()})}}var $JssorSlider$;var $JssorSlideshowFormations$=window.$JssorSlideshowFormations$={};var $JssorSlideshowRunner$;new function(){var r=0;var c=1;var H=2;var w=3;var j=3;var p=12;var m=1;var o=2;var A=4;var e=8;var G=256;var t=512;var f=1024;var a=2048;var v=a+m;var l=a+o;var C=t+m;var h=t+o;var y=G+A;var q=G+e;var u=f+A;var E=f+e;function x(I){return(I&m)==m}function k(I){return(I&o)==o}function d(I){return(I&A)==A}function n(I){return(I&e)==e}function g(J,I,K){K.push(I);J[I]=J[I]||[];J[I].push(K)}$JssorSlideshowFormations$.$FormationStraight=function(P){var Q=P.$Cols;var V=P.$Rows;var U=P.$Assembly;var M=P.$Count;var S=[];var L=0;var J=0;var I=0;var T=Q-1;var O=V-1;var R=M-1;var N;var K;for(I=0;I<V;I++){for(J=0;J<Q;J++){N=I+","+J;switch(U){case v:K=R-(J*V+(O-I));break;case u:K=R-(I*Q+(T-J));break;case C:K=R-(J*V+I);case y:K=R-(I*Q+J);break;case l:K=J*V+I;break;case q:K=I*Q+(T-J);break;case h:K=J*V+(O-I);break;default:K=I*Q+J;break}g(S,K,[I,J])}}return S};$JssorSlideshowFormations$.$FormationSwirl=function(Q){var S=Q.$Cols;var X=Q.$Rows;var W=Q.$Assembly;var M=Q.$Count;var U=[];var J=[];var L=0;var K=0;var I=0;var V=S-1;var P=X-1;var T=M-1;var O;var R;var N=0;switch(W){case v:K=V;I=0;R=[H,c,w,r];break;case u:K=0;I=P;R=[r,w,c,H];break;case C:K=V;I=P;R=[w,c,H,r];break;case y:K=V;I=P;R=[c,w,r,H];break;case l:K=0;I=0;R=[H,r,w,c];break;case q:K=V;I=0;R=[c,H,r,w];break;case h:K=0;I=P;R=[w,r,H,c];break;default:K=0;I=0;R=[r,H,c,w];break}L=0;while(L<M){O=I+","+K;if(K>=0&&K<S&&I>=0&&I<X&&!J[O]){J[O]=true;g(U,L++,[I,K])}else{switch(R[N++%R.length]){case r:K--;break;case H:I--;break;case c:K++;break;case w:I++;break}}switch(R[N%R.length]){case r:K++;break;case H:I++;break;case c:K--;break;case w:I--;break}}return U};$JssorSlideshowFormations$.$FormationZigZag=function(P){var R=P.$Cols;var W=P.$Rows;var V=P.$Assembly;var L=P.$Count;var T=[];var K=0;var J=0;var I=0;var U=R-1;var O=W-1;var S=L-1;var N;var Q;var M=0;switch(V){case v:J=U;I=0;Q=[H,c,w,c];break;case u:J=0;I=O;Q=[r,w,c,w];break;case C:J=U;I=O;Q=[w,c,H,c];break;case y:J=U;I=O;Q=[c,w,r,w];break;case l:J=0;I=0;Q=[H,r,w,r];break;case q:J=U;I=0;Q=[c,H,r,H];break;case h:J=0;I=O;Q=[w,r,H,r];break;default:J=0;I=0;Q=[r,H,c,H];break}K=0;while(K<L){N=I+","+J;if(J>=0&&J<R&&I>=0&&I<W&&typeof(T[N])=="undefined"){g(T,K++,[I,J]);switch(Q[M%Q.length]){case r:J++;break;case H:I++;break;case c:J--;break;case w:I--;break}}else{switch(Q[M++%Q.length]){case r:J--;break;case H:I--;break;case c:J++;break;case w:I++;break}switch(Q[M++%Q.length]){case r:J++;break;case H:I++;break;case c:J--;break;case w:I--;break}}}return T};$JssorSlideshowFormations$.$FormationStraightStairs=function(Q){var S=Q.$Cols;var X=Q.$Rows;var W=Q.$Assembly;var N=Q.$Count;var U=[];var M=0;var K=0;var I=0;var V=S-1;var P=X-1;var T=N-1;var O;switch(W){case v:case h:case C:case l:var J=0;var L=0;break;case q:case u:case y:case E:var J=V;var L=0;break;default:W=E;var J=V;var L=0;break}K=J;I=L;while(M<N){O=I+","+K;if(d(W)||k(W)){g(U,T-M++,[I,K])}else{g(U,M++,[I,K])}switch(W){case v:case h:K--;I++;break;case C:case l:K++;I--;break;case q:case u:K--;I--;break;case E:case y:default:K++;I++;break}if(K<0||I<0||K>V||I>P){switch(W){case v:case h:J++;break;case q:case u:case C:case l:L++;break;case E:case y:default:J--;break}if(J<0||L<0||J>V||L>P){switch(W){case v:case h:J=V;L++;break;case C:case l:L=P;J++;break;case q:case u:L=P;J--;break;case E:case y:default:J=0;L++;break}if(L>P){L=P}else{if(L<0){L=0}else{if(J>V){J=V}else{if(J<0){J=0}}}}}I=L;K=J}}return U};$JssorSlideshowFormations$.$FormationSquare=function(O){var P=O.$Cols||1;var R=O.$Rows||1;var M=[];var L=0;var J;var I;var Q;var K;var N;Q=P<R?(R-P)/2:0;K=P>R?(P-R)/2:0;N=Math.round(Math.max(P/2,R/2))+1;for(J=0;J<P;J++){for(I=0;I<R;I++){g(M,N-Math.min(J+1+Q,I+1+K,P-J+Q,R-I+K),[I,J])}}return M};$JssorSlideshowFormations$.$FormationRectangle=function(P){var O=P.$Cols||1;var N=P.$Rows||1;var I=[];var K=0;var J;var M;var L;L=Math.round(Math.min(O/2,N/2))+1;for(J=0;J<O;J++){for(M=0;M<N;M++){g(I,L-Math.min(J+1,M+1,O-J,N-M),[M,J])}}return I};$JssorSlideshowFormations$.$FormationRandom=function(M){var I=[];var L,J,K;for(L=0;L<M.$Rows;L++){for(J=0;J<M.$Cols;J++){g(I,Math.ceil(100000*Math.random())%13,[L,J])}}return I};$JssorSlideshowFormations$.$FormationCircle=function(N){var O=N.$Cols||1;var Q=N.$Rows||1;var L=[];var K=0;var J;var I;var M=O/2-0.5;var P=Q/2-0.5;for(J=0;J<O;J++){for(I=0;I<Q;I++){g(L,Math.round(Math.sqrt(Math.pow(J-M,2)+Math.pow(I-P,2))),[I,J])}}return L};$JssorSlideshowFormations$.$FormationCross=function(N){var O=N.$Cols||1;var Q=N.$Rows||1;var L=[];var K=0;var J;var I;var M=O/2-0.5;var P=Q/2-0.5;for(J=0;J<O;J++){for(I=0;I<Q;I++){g(L,Math.round(Math.min(Math.abs(J-M),Math.abs(I-P))),[I,J])}}return L};$JssorSlideshowFormations$.$FormationRectangleCross=function(O){var P=O.$Cols||1;var R=O.$Rows||1;var L=[];var K=0;var J;var I;var M=P/2-0.5;var Q=R/2-0.5;var N=Math.max(M,Q)+1;for(J=0;J<P;J++){for(I=0;I<R;I++){g(L,Math.round(N-Math.max(M-Math.abs(J-M),Q-Math.abs(I-Q)))-1,[I,J])}}return L};function b(J){var I=J.$Formation(J);return J.$Reverse?I.reverse():I}function B(J,I){var K={$Interval:I,$Duration:1,$Delay:0,$Cols:1,$Rows:1,$Opacity:0,$Zoom:0,$Clip:0,$Move:false,$SlideOut:false,$Reverse:false,$Formation:$JssorSlideshowFormations$.$FormationRandom,$Assembly:E,$ChessMode:{$Column:0,$Row:0},$Easing:$JssorEasing$.$EaseSwing,$Round:{},$Blocks:[],$During:{}};$Jssor$.$Extend(K,J);K.$Count=K.$Cols*K.$Rows;if($Jssor$.$IsFunction(K.$Easing)){K.$Easing={$Default:K.$Easing}}K.$FramesCount=Math.ceil(K.$Duration/K.$Interval);K.$EasingInstance=z(K);K.$GetBlocks=function(O,L){O/=K.$Cols;L/=K.$Rows;var M=O+"x"+L;if(!K.$Blocks[M]){K.$Blocks[M]={$Width:O,$Height:L};for(var N=0;N<K.$Cols;N++){for(var P=0;P<K.$Rows;P++){K.$Blocks[M][P+","+N]={$Top:P*L,$Right:N*O+O,$Bottom:P*L+L,$Left:N*O}}}}return K.$Blocks[M]};if(K.$Brother){K.$Brother=B(K.$Brother,I);K.$SlideOut=true}return K}function z(K){var M=K.$Easing;if(!M.$Default){M.$Default=$JssorEasing$.$EaseSwing}var J=K.$FramesCount;var I=M.$Cache;if(!I){var L=$Jssor$.$Extend({},K.$Easing,K.$Round);I=M.$Cache={};$Jssor$.$Each(L,function(O,U){var S=M[U]||M.$Default;var N=K.$Round[U]||1;if(!$Jssor$.$IsArray(S.$Cache)){S.$Cache=[]}var T=S.$Cache[J]=S.$Cache[J]||[];if(!T[N]){T[N]=[0];for(var Q=1;Q<=J;Q++){var P=Q/J*N;var R=Math.floor(P);if(P!=R){P-=R}T[N][Q]=S(P)}}I[U]=T})}return I}function F(Z,aa,ah,ae,X,M){var W=this;var Q;var ag={};var U={};var P=[];var V;var ad;var T;var L=ah.$ChessMode.$Column||0;var ab=ah.$ChessMode.$Row||0;var N=ah.$GetBlocks(X,M);var S=b(ah);var K=S.length-1;var I=ah.$Duration+ah.$Delay*K;var O=ae+I;var af=ah.$SlideOut;var Y;O+=$Jssor$.$IsBrowserChrome()?260:50;W.$EndTime=O;W.$ShowFrame=function(aj){aj-=ae;var ai=aj<I;if(ai||Y){Y=ai;if(!af){aj=I-aj}var ak=Math.ceil(aj/ah.$Interval);$Jssor$.$Each(U,function(am,al){var an=Math.max(ak,am.$Min);an=Math.min(an,am.length-1);if(am.$LastFrameIndex!=an){if(!am.$LastFrameIndex&&!af){$Jssor$.$ShowElement(P[al])}else{if(an==am.$Max&&af){$Jssor$.$HideElement(P[al])}}am.$LastFrameIndex=an;$Jssor$.$SetStylesEx(P[al],am[an])}})}};function ac(aj){$Jssor$.$DisableHWA(aj);var ai=$Jssor$.$Children(aj);$Jssor$.$Each(ai,function(ak){ac(ak)})}aa=$Jssor$.$CloneNode(aa);ac(aa);if($Jssor$.$IsBrowserIe9Earlier()){var J=!aa["no-image"];var R=$Jssor$.$FindChildrenByTag(aa);$Jssor$.$Each(R,function(ai){if(J||ai["jssor-slider"]){$Jssor$.$CssOpacity(ai,$Jssor$.$CssOpacity(ai),true)}})}$Jssor$.$Each(S,function(aj,ai){$Jssor$.$Each(aj,function(ax){var at=ax[0];var ao=ax[1];var aA=at+","+ao;var aw=false;var av=false;var aK=false;if(L&&ao%2){if($JssorDirection$.$IsHorizontal(L)){aw=!aw}if($JssorDirection$.$IsVertical(L)){av=!av}if(L&16){aK=!aK}}if(ab&&at%2){if($JssorDirection$.$IsHorizontal(ab)){aw=!aw}if($JssorDirection$.$IsVertical(ab)){av=!av}if(ab&16){aK=!aK}}ah.$Top=ah.$Top||(ah.$Clip&4);ah.$Bottom=ah.$Bottom||(ah.$Clip&8);ah.$Left=ah.$Left||(ah.$Clip&1);ah.$Right=ah.$Right||(ah.$Clip&2);var an=av?ah.$Bottom:ah.$Top;var az=av?ah.$Top:ah.$Bottom;var aJ=aw?ah.$Right:ah.$Left;var aq=aw?ah.$Left:ah.$Right;ah.$Clip=an||az||aJ||aq;T={};ad={$Top:0,$Left:0,$Opacity:1,$Width:X,$Height:M};V=$Jssor$.$Extend({},ad);Q=$Jssor$.$Extend({},N[aA]);if(ah.$Opacity){ad.$Opacity=2-ah.$Opacity}if(ah.$ZIndex){ad.$ZIndex=ah.$ZIndex;V.$ZIndex=0}var aD=ah.$Cols*ah.$Rows>1||ah.$Clip;if(ah.$Zoom||ah.$Rotate){var aF=true;if($Jssor$.$IsBrowserIE()&&$Jssor$.$BrowserEngineVersion()<9){if(ah.$Cols*ah.$Rows>1){aF=false}else{aD=false}}if(aF){ad.$Zoom=ah.$Zoom?ah.$Zoom-1:1;V.$Zoom=1;if($Jssor$.$IsBrowserIe9Earlier()||$Jssor$.$IsBrowserOpera()){ad.$Zoom=Math.min(ad.$Zoom,2)}var aE=ah.$Rotate;ad.$Rotate=aE*360*((aK)?-1:1);V.$Rotate=0}}if(aD){if(ah.$Clip){var am=ah.$ScaleClip||1;var aC=Q.$Offset={};if(an&&az){aC.$Top=N.$Height/2*am;aC.$Bottom=-aC.$Top}else{if(an){aC.$Bottom=-N.$Height*am}else{if(az){aC.$Top=N.$Height*am}}}if(aJ&&aq){aC.$Left=N.$Width/2*am;aC.$Right=-aC.$Left}else{if(aJ){aC.$Right=-N.$Width*am}else{if(aq){aC.$Left=N.$Width*am}}}}T.$Clip=Q;V.$Clip=N[aA]}var au=aw?1:-1;var aB=av?1:-1;if(ah.x){ad.$Left+=X*ah.x*au}if(ah.y){ad.$Top+=M*ah.y*aB}$Jssor$.$Each(ad,function(aL,aM){if($Jssor$.$IsNumeric(aL)){if(aL!=V[aM]){T[aM]=aL-V[aM]}}});ag[aA]=af?V:ad;var ay=[];var aI=Math.round(ai*ah.$Delay/ah.$Interval);U[aA]=new Array(aI);U[aA].$Min=aI;var al=ah.$FramesCount;for(var ap=0;ap<=al;ap++){var ar={};$Jssor$.$Each(T,function(aP,aO){var aL=ah.$EasingInstance[aO]||ah.$EasingInstance.$Default;var aS=aL[ah.$Round[aO]||1];var aR=ah.$During[aO]||[0,1];var aQ=(ap/al-aR[0])/aR[1]*al;aQ=Math.round(Math.min(al,Math.max(aQ,0)));var aN=aS[aQ];if($Jssor$.$IsNumeric(aP)){ar[aO]=V[aO]+aP*aN}else{var aM=ar[aO]=$Jssor$.$Extend({},V[aO]);aM.$Offset=[];$Jssor$.$Each(aP.$Offset,function(aU,aV){var aT=aU*aN;aM.$Offset[aV]=aT;aM[aV]+=aT})}});if(V.$Zoom){ar.$Transform={$Rotate:ar.$Rotate||0,$Scale:ar.$Zoom,$OriginalWidth:X,$OriginalHeight:M}}if(ar.$Clip&&ah.$Move){var ak=ar.$Clip.$Offset;var aG=(ak.$Top||0)+(ak.$Bottom||0);var aH=(ak.$Left||0)+(ak.$Right||0);ar.$Left=(ar.$Left||0)+aH;ar.$Top=(ar.$Top||0)+aG;ar.$Clip.$Left-=aH;ar.$Clip.$Right-=aH;ar.$Clip.$Top-=aG;ar.$Clip.$Bottom-=aG}ar.$ZIndex=ar.$ZIndex||1;U[aA].push(ar)}})});S.reverse();$Jssor$.$Each(S,function(ai){$Jssor$.$Each(ai,function(an){var am=an[0];var aj=an[1];var ak=am+","+aj;var al=aa;if(aj||am){al=$Jssor$.$CloneNode(aa)}$Jssor$.$SetStyles(al,ag[ak]);$Jssor$.$CssOverflow(al,"hidden");$Jssor$.$CssPosition(al,"absolute");Z.$AddClipElement(al);P[ak]=al;$Jssor$.$ShowElement(al,!af)})})}var D=1;$JssorSlideshowRunner$=window.$JssorSlideshowRunner$=function(P,O,M,V,Q){var U=this;var L;var R;var K;var Y;var T;var S;var W=0;var J=V.$TransitionsOrder;var X;var I=8;function N(){var aa=this;var Z=0;$JssorAnimator$.call(aa,0,L);aa.$OnPositionChange=function(ac,ab){if((ab-Z)>I){Z=ab;Y&&Y.$ShowFrame(ab);K&&K.$ShowFrame(ab)}};aa.$Transition=X}U.$GetTransition=function(Z){var ac=0;var ab=V.$Transitions;var aa=ab.length;if(J){ac=W++%aa}else{ac=Math.floor(Math.random()*aa)}ab[ac]&&(ab[ac].$Index=ac);return ab[ac]};U.$Initialize=function(ah,ac,ae,ai,Z){$JssorDebug$.$Execute(function(){if(K){$JssorDebug$.$Fail("slideshow runner has not been cleared.")}});X=Z;Z=B(Z,I);S=ae;T=ai;var aj=ai.$Item;var ad=ae.$Item;aj["no-image"]=!ai.$Image;ad["no-image"]=!ae.$Image;var af=aj;var ag=ad;var ak=Z;var aa=Z.$Brother||B({},I);if(!Z.$SlideOut){af=ad;ag=aj}var ab=aa.$Shift||0;K=new F(P,ag,aa,Math.max(ab-aa.$Interval,0),O,M);Y=new F(P,af,ak,Math.max(aa.$Interval-ab,0),O,M);K.$ShowFrame(0);Y.$ShowFrame(0);L=Math.max(K.$EndTime,Y.$EndTime);U.$Index=ah};U.$Clear=function(){P.$Clear();K=null;Y=null};U.$GetProcessor=function(){var Z=null;if(Y){Z=new N()}return Z};if($Jssor$.$IsBrowserIe9Earlier()||$Jssor$.$IsBrowserOpera()||(Q&&$Jssor$.$WebKitVersion()<537)){I=16}$JssorObject$.call(U);$JssorAnimator$.call(U,-10000000,10000000);$JssorDebug$.$LiveStamp(U,"slideshow_runner_"+D++)};function s(b0,bi){var ao=this;function bu(){var b4=this;$JssorAnimator$.call(b4,-100000000,200000000);b4.$GetCurrentSlideInfo=function(){var b5=b4.$GetPosition_Display();var b6=Math.floor(b5);var b7=aD(b6);var b8=b5-Math.floor(b5);return{$Index:b7,$VirtualIndex:b6,$Position:b8}};b4.$OnPositionChange=function(b7,b6){var b5=Math.floor(b6);if(b5!=b6&&b6>b7){b5++}O(b5,true);ao.$TriggerEvent(s.$EVT_POSITION_CHANGE,aD(b6),aD(b7),b6,b7)}}function az(){var b4=this;$JssorAnimator$.call(b4,0,0,{$LoopLength:ab});$Jssor$.$Each(bL,function(b5){(b3&1)&&b5.$SetLoopLength(ab);b4.$Chain(b5);b5.$Shift(aM/K)})}function ay(){var b4=this;var b5=an.$Elmt;$JssorAnimator$.call(b4,-1,2,{$Easing:$JssorEasing$.$EaseLinear,$Setter:{$Position:aI},$LoopLength:ab},b5,{$Position:1},{$Position:-1});b4.$Wrapper=b5;$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(an.$Elmt,"debug-id","slide_container")})}function bO(b9,b8){var ca=this;var b7;var b5;var cb;var b4;var b6;$JssorAnimator$.call(ca,-100000000,200000000,{$IntervalMax:100});ca.$OnStart=function(){aP=true;J=null;ao.$TriggerEvent(s.$EVT_SWIPE_START,aD(ai.$GetPosition()),ai.$GetPosition())};ca.$OnStop=function(){aP=false;b4=false;var cc=ai.$GetCurrentSlideInfo();ao.$TriggerEvent(s.$EVT_SWIPE_END,aD(ai.$GetPosition()),ai.$GetPosition());if(!cc.$Position){bd(cc.$VirtualIndex,bZ)}};ca.$OnPositionChange=function(ce,cd){var cf;if(b4){cf=b6}else{cf=b5;if(cb){var cc=cd/cb;cf=br.$SlideEasing(cc)*(b5-b7)+b7}}ai.$GoToPosition(cf)};ca.$PlayCarousel=function(cc,ce,cd,cf){$JssorDebug$.$Execute(function(){if(ca.$IsPlaying()){$JssorDebug$.$Fail("The carousel is already playing.")}});b7=cc;b5=ce;cb=cd;ai.$GoToPosition(cc);ca.$GoToPosition(0);ca.$PlayToPosition(cd,cf)};ca.$StandBy=function(cc){b4=true;b6=cc;ca.$Play(cc,null,true)};ca.$SetStandByPosition=function(cc){b6=cc};ca.$MoveCarouselTo=function(cc){ai.$GoToPosition(cc)};ai=new bu();ai.$Combine(b9);ai.$Combine(b8)}function bB(){var b5=this;var b4=a6();$Jssor$.$CssZIndex(b4,0);$Jssor$.$Css(b4,"pointerEvents","none");b5.$Elmt=b4;b5.$AddClipElement=function(b6){$Jssor$.$AppendChild(b4,b6);$Jssor$.$ShowElement(b4)};b5.$Clear=function(){$Jssor$.$HideElement(b4);$Jssor$.$ClearInnerHtml(b4)}}function a0(b8,cv){var cz=this;var ck;var cs;var b7;var cw;var cd;var b5=b8;var cq;var b9;var cu=[];var cr;var cl;var cx;var cn;var cf;var cB;var cp;var b6;var cc;var b4;$JssorAnimator$.call(cz,-bc,bc+1,{$SlideItemAnimator:true});function cy(cC){cs&&cs.$Revert();ck&&ck.$Revert();ce(b8,cC);cB=true;ck=new a7.$Class(b8,a7,1);$JssorDebug$.$LiveStamp(ck,"caption_slider_"+a9+"_in");cs=new a7.$Class(b8,a7);$JssorDebug$.$LiveStamp(cs,"caption_slider_"+a9+"_out");$JssorDebug$.$Execute(function(){a9++});cs.$GoToBegin();ck.$GoToBegin()}function cA(){if(ck.$Version<a7.$Version){cy()}}function cg(cJ,cE,cC){if(!cn){cn=true;if(b9&&cC){var cI=cC.width;var cF=cC.height;var cK=cI;var cG=cF;if(cI&&cF&&br.$FillMode){if(br.$FillMode&3&&(!(br.$FillMode&4)||cI>bN||cF>bF)){var cD=false;var cH=bN/bF*cF/cI;if(br.$FillMode&1){cD=(cH>1)}else{if(br.$FillMode&2){cD=(cH<1)}}cK=cD?cI*bF/cF:bN;cG=cD?bF:cF*bN/cI}$Jssor$.$CssWidth(b9,cK);$Jssor$.$CssHeight(b9,cG);$Jssor$.$CssTop(b9,(bF-cG)/2);$Jssor$.$CssLeft(b9,(bN-cK)/2)}$Jssor$.$CssPosition(b9,"absolute");ao.$TriggerEvent(s.$EVT_LOAD_END,a1)}}$Jssor$.$HideElement(cE);cJ&&cJ(cz)}function cm(cD,cC,cF,cE){if(cE==J&&bZ==cv&&a8){if(!bg){var cG=aD(cD);I.$Initialize(cG,cv,cC,cz,cF);cC.$HideContentForSlideshow();ba.$Locate(cG,1);ba.$GoToPosition(cG);aX.$PlayCarousel(cD,cD,0)}}}function cj(cD){if(cD==J&&bZ==cv){if(!cp){var cC=null;if(I){if(I.$Index==cv){cC=I.$GetProcessor()}else{I.$Clear()}}cA();cp=new R(b8,cv,cC,cz.$GetCaptionSliderIn(),cz.$GetCaptionSliderOut());cp.$SetPlayer(cc)}!cp.$IsPlaying()&&cp.$Replay()}}function co(cC,cG,cF){if(cC==cv){if(cC!=cG){bL[cG]&&bL[cG].$ParkOut()}else{!cF&&cp&&cp.$AdjustIdleOnPark()}cc&&cc.$Enable();var cE=J=$Jssor$.$GetNow();cz.$LoadImage($Jssor$.$CreateCallback(null,cj,cE))}else{var cH=Math.abs(cv-cC);var cD=bc+br.$LazyLoading;if(!cf||cH<=cD||ab-cH<=cD){cz.$LoadImage()}}}function cb(){if(bZ==cv&&cp){cp.$Stop();cc&&cc.$Quit();cc&&cc.$Disable();cp.$OpenSlideshowPanel()}}function ca(){if(bZ==cv&&cp){cp.$Stop()}}function ci(cC){if(bA){$Jssor$.$CancelEvent(cC)}else{ao.$TriggerEvent(s.$EVT_CLICK,cv,cC)}}function ch(){cc=b6.pInstance;cp&&cp.$SetPlayer(cc)}cz.$LoadImage=function(cD,cC){cC=cC||cq;if(cu.length&&!cn){$Jssor$.$ShowElement(cC);if(!cx){cx=true;ao.$TriggerEvent(s.$EVT_LOAD_START);$Jssor$.$Each(cu,function(cE){if(!cE.src||cE.src==="javascript:void(0);"||cE.src.split("/").pop(-1)===":0"||cE.src==="//:0"||cE.src==="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="){cE.src=$Jssor$.$AttributeEx(cE,"src2");$Jssor$.$CssDisplay(cE,cE["display-origin"])}})}$Jssor$.$LoadImages(cu,b9,$Jssor$.$CreateCallback(null,cg,cD,cC))}else{cg(cD,cC)}};cz.$GoForNextSlide=function(){if(I){var cF=I.$GetTransition(ab);if(cF){var cE=J=$Jssor$.$GetNow();var cD=cv+ad;var cC=bL[aD(cD)];return cC.$LoadImage($Jssor$.$CreateCallback(null,cm,cD,cC,cF,cE),cq)}}bn(bZ+br.$AutoPlaySteps*ad)};cz.$TryActivate=function(){co(cv,cv,true)};cz.$ParkOut=function(){cc&&cc.$Quit();cc&&cc.$Disable();cz.$UnhideContentForSlideshow();cp&&cp.$Abort();cp=null;cy()};cz.$StampSlideItemElements=function(cC){cC=b4+"_"+cC;$JssorDebug$.$Execute(function(){if(b9){$Jssor$.$Attribute(b9,"debug-id",cC+"_slide_item_image_id")}$Jssor$.$Attribute(b8,"debug-id",cC+"_slide_item_item_id")});$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(cd,"debug-id",cC+"_slide_item_wrapper_id")});$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(cq,"debug-id",cC+"_loading_container_id")})};cz.$HideContentForSlideshow=function(){$Jssor$.$HideElement(b8)};cz.$UnhideContentForSlideshow=function(){$Jssor$.$ShowElement(b8)};cz.$EnablePlayer=function(){cc&&cc.$Enable()};function ce(cD,cC,cF){if(cD["jssor-slider"]){return}cF=cF||0;if(!cB){if(cD.tagName=="IMG"){cu.push(cD);if(!cD.src||cD.src=="javascript:void(0)"||cD.src.split("/").pop(-1)===":0"||cD.src==="//:0"||cD.src==="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="){cf=true;cD["display-origin"]=$Jssor$.$CssDisplay(cD);$Jssor$.$HideElement(cD)}}if($Jssor$.$IsBrowserIe9Earlier()){$Jssor$.$CssZIndex(cD,($Jssor$.$CssZIndex(cD)||0)+1)}if(br.$HWA&&$Jssor$.$WebKitVersion()){if(!N||$Jssor$.$WebKitVersion()<534||(!aj&&!$Jssor$.$IsBrowserChrome())){$Jssor$.$EnableHWA(cD)}}}var cE=$Jssor$.$Children(cD);$Jssor$.$Each(cE,function(cH,cJ){var cG=$Jssor$.$AttributeEx(cH,"u");if(cG=="player"&&!b6){b6=cH;if(b6.pInstance){ch()}else{$Jssor$.$AddEvent(b6,"dataavailable",ch)}}if(cG=="caption"){if(!$Jssor$.$IsBrowserIE()&&!cC){var cI=$Jssor$.$CloneNode(cH);$Jssor$.$InsertBefore(cD,cI,cH);$Jssor$.$RemoveChild(cD,cH);cH=cI;cC=true}}else{if(!cB&&!cF&&!b9&&$Jssor$.$AttributeEx(cH,"u")=="image"){b9=cH;if(b9){if(b9.tagName=="A"){cr=b9;$Jssor$.$SetStyles(cr,bk);cl=$Jssor$.$CloneNode(b9,true);$Jssor$.$AddEvent(cl,"click",ci);$Jssor$.$SetStyles(cl,bk);$Jssor$.$CssDisplay(cl,"block");$Jssor$.$CssOpacity(cl,0);$Jssor$.$Css(cl,"backgroundColor","#000");b9=$Jssor$.$FindChildByTag(b9,"IMG");$JssorDebug$.$Execute(function(){if(!b9){$JssorDebug$.$Error("slide html code definition error, no 'IMG' found in a 'image with link' slide.\r\n"+cD.outerHTML)}})}b9.border=0;$Jssor$.$SetStyles(b9,bk)}}}ce(cH,cC,cF+1)})}cz.$OnInnerOffsetChange=function(cC,cE){var cD=bc-cE;aI(cd,cD)};cz.$GetCaptionSliderIn=function(){return ck};cz.$GetCaptionSliderOut=function(){return cs};cz.$Index=cv;$JssorObject$.call(cz);var ct=$Jssor$.$FindChild(b8,"thumb",true);if(ct){cz.$Thumb=$Jssor$.$CloneNode(ct);$Jssor$.$RemoveAttribute(ct,"id");$Jssor$.$HideElement(ct)}$Jssor$.$ShowElement(b8);cq=$Jssor$.$CloneNode(Y);$Jssor$.$CssZIndex(cq,1000);$Jssor$.$AddEvent(b8,"click",ci);cy(true);cz.$Image=b9;cz.$Link=cl;cz.$Item=b8;cz.$Wrapper=cd=b8;$Jssor$.$AppendChild(cd,cq);ao.$On(203,co);ao.$On(28,ca);ao.$On(24,cb);$JssorDebug$.$Execute(function(){b4=M++});$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(cd,"debug-id","slide-"+cv)})}function R(b5,cj,cg,b9,ch){var cb=this;var cm=0;var ck=0;var co;var cc;var cl;var b4;var ca;var b8;var b7;var b6;var ce;var cf=bL[cj];$JssorAnimator$.call(cb,0,0);function cn(){$Jssor$.$ClearChildren(aW);if(bV&&b8&&cf.$Link){$Jssor$.$AppendChild(aW,cf.$Link)}$Jssor$.$ShowElement(aW,!b8&&cf.$Image)}function cd(){if(b7){b7=false;ao.$TriggerEvent(s.$EVT_ROLLBACK_END,cj,b4,cm,cl,b4,ca);cb.$GoToPosition(cl)}cb.$Replay()}function ci(cp){ce=cp;cb.$Stop();cb.$Replay()}cb.$Replay=function(){var cp=cb.$GetPosition_Display();if(!af&&!aP&&!ce&&bZ==cj){if(!cp){if(co&&!b8){b8=true;cb.$OpenSlideshowPanel(true);ao.$TriggerEvent(s.$EVT_SLIDESHOW_START,cj,cm,ck,co,ca)}cn()}var cs;var cr=s.$EVT_STATE_CHANGE;if(cp!=ca){if(cp==b4){cs=ca}else{if(cp==cl){cs=b4}else{if(!cp){cs=cl}else{if(cp>b4){b7=true;cs=b4;cr=s.$EVT_ROLLBACK_START}else{cs=cb.$GetPlayToPosition()}}}}}ao.$TriggerEvent(cr,cj,cp,cm,cl,b4,ca);var cq=a8&&(!am||bh);if(cp==ca){(b4!=ca&&!(am&12)||cq)&&cf.$GoForNextSlide()}else{if(cq||cp!=b4){cb.$PlayToPosition(cs,cd)}}}};cb.$AdjustIdleOnPark=function(){if(b4==ca&&b4==cb.$GetPosition_Display()){cb.$GoToPosition(cl)}};cb.$Abort=function(){I&&I.$Index==cj&&I.$Clear();var cp=cb.$GetPosition_Display();if(cp<ca){ao.$TriggerEvent(s.$EVT_STATE_CHANGE,cj,-cp-1,cm,cl,b4,ca)}};cb.$OpenSlideshowPanel=function(cp){if(cg){$Jssor$.$CssOverflow(bJ,cp&&cg.$Transition.$Outside?"":"hidden")}};cb.$OnInnerOffsetChange=function(cq,cp){if(b8&&cp>=co){b8=false;cn();cf.$UnhideContentForSlideshow();I.$Clear();ao.$TriggerEvent(s.$EVT_SLIDESHOW_END,cj,cm,ck,co,ca)}ao.$TriggerEvent(s.$EVT_PROGRESS_CHANGE,cj,cp,cm,cl,b4,ca)};cb.$SetPlayer=function(cp){if(cp&&!b6){b6=cp;cp.$On($JssorPlayer$.$EVT_SWITCH,ci)}};if(cg){cb.$Chain(cg)}co=cb.$GetPosition_OuterEnd();cc=cb.$GetPosition_OuterEnd();cb.$Chain(b9);cl=b9.$GetPosition_OuterEnd();b4=cl+($Jssor$.$ParseFloat($Jssor$.$AttributeEx(b5,"idle"))||br.$AutoPlayInterval);ch.$Shift(b4);cb.$Combine(ch);ca=cb.$GetPosition_OuterEnd()}function aI(b7,b5){var b6=bt>0?bt:Z;var b4=bl*b5*(b6&1);var b8=bj*b5*((b6>>1)&1);if($Jssor$.$IsBrowserChrome()&&$Jssor$.$BrowserVersion()<38){b4=b4.toFixed(3);b8=b8.toFixed(3)}else{b4=Math.round(b4);b8=Math.round(b8)}if($Jssor$.$IsBrowserIE()&&$Jssor$.$BrowserVersion()>=10&&$Jssor$.$BrowserVersion()<11){b7.style.msTransform="translate("+b4+"px, "+b8+"px)"}else{if($Jssor$.$IsBrowserChrome()&&$Jssor$.$BrowserVersion()>=30&&$Jssor$.$BrowserVersion()<34){b7.style.WebkitTransition="transform 0s";b7.style.WebkitTransform="translate3d("+b4+"px, "+b8+"px, 0px) perspective(2000px)"}else{$Jssor$.$CssLeft(b7,b4);$Jssor$.$CssTop(b7,b8)}}}function bq(b5){var b4=$Jssor$.$EventSrc(b5).tagName;if(!av&&b4!="INPUT"&&b4!="TEXTAREA"&&b4!="SELECT"&&aE()){a4(b5)}}function bK(){bW=aP;bX=aX.$GetPlayToPosition();U=ai.$GetPosition()}function bv(){bK();if(af||!bh&&(am&12)){aX.$Stop();ao.$TriggerEvent(s.$EVT_FREEZE)}}function bw(b5){b5&&bK();if(!af&&(bh||!(am&12))&&!aX.$IsPlaying()){var b6=ai.$GetPosition();var b7=Math.ceil(U);if(b5&&Math.abs(aH)>=br.$MinDragOffsetToSlide){b7=Math.ceil(b6);b7+=ap}if(!(b3&1)){b7=Math.min(ab-bc,Math.max(b7,0))}var b4=Math.abs(b7-b6);b4=1-Math.pow(1-b4,5);if(!bA&&bW){aX.$Continue(bX)}else{if(b6==b7){W.$EnablePlayer();W.$TryActivate()}else{aX.$PlayCarousel(b6,b7,b4*be)}}}}function a4(b6){af=true;bM=false;J=null;$Jssor$.$AddEvent(document,aG,aN);bE=$Jssor$.$GetNow()-50;bA=0;bv();if(!bW){bt=0}if(aQ){var b5=b6.touches[0];ax=b5.clientX;au=b5.clientY}else{var b4=$Jssor$.$MousePosition(b6);ax=b4.x;au=b4.y;$Jssor$.$CancelEvent(b6)}aH=0;ae=0;ap=0;ao.$TriggerEvent(s.$EVT_DRAG_START,aD(U),U,b6)}function aN(b6){if(af&&(!$Jssor$.$IsBrowserIe9Earlier()||b6.button)){var b7;if(aQ){var b8=b6.touches;if(b8&&b8.length>0){b7={x:b8[0].clientX,y:b8[0].clientY}}}else{b7=$Jssor$.$MousePosition(b6)}if(b7){var cb=b7.x-ax;var ca=b7.y-au;if(Math.floor(U)!=U){bt=bt||(Z&av)}if((cb||ca)&&!bt){if(av==3){if(Math.abs(ca)>Math.abs(cb)){bt=2}else{bt=1}}else{bt=av}if(N&&bt==1&&Math.abs(ca)-Math.abs(cb)>3){bM=true}}if(bt){var b5=ca;var b9=bj;if(bt==1){b5=cb;b9=bl}if(!(b3&1)){if(b5>0){var b4=b9*bZ;var cc=b5-b4;if(cc>0){b5=b4+Math.sqrt(cc)*5}}if(b5<0){var b4=b9*(ab-bc-bZ);var cc=-b5-b4;if(cc>0){b5=-b4-Math.sqrt(cc)*5}}}if(aH-ae<-2){ap=0}else{if(aH-ae>2){ap=-1}}ae=aH;aH=b5;bR=U-aH/b9/(aO||1);if(aH&&bt&&!bM){$Jssor$.$CancelEvent(b6);if(!aP){aX.$StandBy(bR)}else{aX.$SetStandByPosition(bR)}}else{if($Jssor$.$IsBrowserIe9Earlier()){$Jssor$.$CancelEvent(b6)}}}}}else{bS(b6)}}function bS(b4){aT();if(af){af=false;bE=$Jssor$.$GetNow();$Jssor$.$RemoveEvent(document,aG,aN);bA=aH;bA&&$Jssor$.$CancelEvent(b4);aX.$Stop();var b5=ai.$GetPosition();ao.$TriggerEvent(s.$EVT_DRAG_END,aD(b5),b5,aD(U),U,b4);bw(true)}}function at(b4){aC=bL[bZ];aY=bZ;bZ=aD(b4);W=bL[bZ];O(b4);return bZ}function bd(b5,b4){bt=0;at(b5);ao.$TriggerEvent(s.$EVT_PARK,aD(b5),b4)}function O(b5,b4){T=b5;$Jssor$.$Each(bG,function(b6){b6.$SetCurrentIndex(aD(b5),b5,b4)})}function aE(){var b4=s.$DragRegistry||0;var b5=al;if(N){(b5&1)&&(b5&=1)}s.$DragRegistry|=b5;return(av=b5&~b4)}function aT(){if(av){s.$DragRegistry&=~al;av=0}}function a6(){var b4=$Jssor$.$CreateDiv();$Jssor$.$SetStyles(b4,bk);$Jssor$.$CssPosition(b4,"absolute");return b4}function aD(b4){return(b4%ab+ab)%ab}function aa(b4){return aD(b4)==bZ}function bm(b4){return aD(b4)==aY}function aF(b4,b5){if(b5){if(!b3){b4=Math.min(Math.max(b4+T,0),ab-bc);b5=false}else{if(b3&2){b4=aD(b4+T);b5=false}}}bn(b4,br.$SlideDuration,b5)}function S(){$Jssor$.$Each(bG,function(b4){b4.$Show(b4.$Options.$ChanceToShow<=bh)})}function aV(){if(!bh){bh=1;S();if(!af){(am&12)&&bw();(am&3)&&bL[bZ].$TryActivate()}}}function V(){if(bh){bh=0;S();af||!(am&12)||bv()}}function aw(){bk={$Width:bN,$Height:bF,$Top:0,$Left:0};$Jssor$.$Each(b1,function(b5,b4){$Jssor$.$SetStyles(b5,bk);$Jssor$.$CssPosition(b5,"absolute");$Jssor$.$CssOverflow(b5,"hidden");$Jssor$.$HideElement(b5)});$Jssor$.$SetStyles(Y,bk)}function aS(b5,b4){bn(b5,b4,true)}function bn(ca,b7,b8){if(bf&&(!af||br.$NaviQuitDrag)){aP=true;af=false;aX.$Stop();if(b7==undefined){b7=be}var b4=bI.$GetPosition_Display();var b6=ca;if(b8){b6=b4+ca;if(ca>0){b6=Math.ceil(b6)}else{b6=Math.floor(b6)}}if(!b3){b6=Math.max(0,Math.min(b6,ab-bc))}else{if(b3&2){b6=aD(b6)}}var b5=(b6-b4)%ab;b6=b4+b5;var b9=b4==b6?0:b7*Math.abs(b5);b9=Math.min(b9,b7*bc*1.5);aX.$PlayCarousel(b4,b6,b9||1)}}ao.$PlayTo=bn;ao.$GoTo=function(b4){bn(b4,1)};ao.$Next=function(){aS(1)};ao.$Prev=function(){aS(-1)};ao.$Pause=function(){a8=false};ao.$Play=function(){if(!a8){a8=true;bL[bZ]&&bL[bZ].$TryActivate()}};ao.$SetSlideshowTransitions=function(b4){$JssorDebug$.$Execute(function(){if(!b4||!b4.length){$JssorDebug$.$Error("Can not set slideshow transitions, no transitions specified.")}});$Jssor$.$TranslateTransitions(b4);br.$SlideshowOptions.$Transitions=b4};ao.$SetCaptionTransitions=function(b4){$JssorDebug$.$Execute(function(){if(!b4||!b4.length){$JssorDebug$.$Error("Can not set caption transitions, no transitions specified")}});$Jssor$.$TranslateTransitions(b4);a7.$CaptionTransitions=b4;a7.$Version=$Jssor$.$GetNow()};ao.$SlidesCount=function(){return b1.length};ao.$CurrentIndex=function(){return bZ};ao.$IsAutoPlaying=function(){return a8};ao.$IsDragging=function(){return af};ao.$IsSliding=function(){return aP};ao.$IsMouseOver=function(){return !bh};ao.$LastDragSucceded=function(){return bA};function bH(){return $Jssor$.$CssWidth(bD||b0)}function ar(){return $Jssor$.$CssHeight(bD||b0)}ao.$OriginalWidth=ao.$GetOriginalWidth=bH;ao.$OriginalHeight=ao.$GetOriginalHeight=ar;function bP(ca,b9){if(ca==undefined){return $Jssor$.$CssWidth(b0)}$JssorDebug$.$Execute(function(){if(!ca||ca<0){$JssorDebug$.$Fail("'$ScaleWidth' error, 'dimension' should be positive value.")}});if(!bD){$JssorDebug$.$Execute(function(){var cd=$Jssor$.$Css(b0,"width");var cb=$Jssor$.$Css(b0,"height");var ce=$Jssor$.$CssP(b0,"width");var cc=$Jssor$.$CssP(b0,"height");if(!cd){$JssorDebug$.$Fail("Cannot scale jssor slider, 'dimension' of 'outer container' not specified. Please specify 'dimension' in pixel. e.g. 'dimension: 600px;'")}if(!cb){$JssorDebug$.$Fail("Cannot scale jssor slider, 'height' of 'outer container' not specified. Please specify 'height' in pixel. e.g. 'height: 300px;'")}if(cd.indexOf("%")!=-1){$JssorDebug$.$Fail("Cannot scale jssor slider, 'dimension' of 'outer container' not valid. Please specify 'dimension' in pixel. e.g. 'dimension: 600px;'")}if(cb.indexOf("%")!=-1){$JssorDebug$.$Fail("Cannot scale jssor slider, 'height' of 'outer container' not valid. Please specify 'height' in pixel. e.g. 'height: 300px;'")}if(!ce){$JssorDebug$.$Fail("Cannot scale jssor slider, 'dimension' of 'outer container' not valid. 'dimension' of 'outer container' should be positive number. e.g. 'dimension: 600px;'")}if(!cc){$JssorDebug$.$Fail("Cannot scale jssor slider, 'height' of 'outer container' not valid. 'height' of 'outer container' should be positive number. e.g. 'height: 300px;'")}});var b7=$Jssor$.$CreateDiv(document);$Jssor$.$CssCssText(b7,$Jssor$.$CssCssText(b0));$Jssor$.$ClassName(b7,$Jssor$.$ClassName(b0));$Jssor$.$CssPosition(b7,"relative");$Jssor$.$CssTop(b7,0);$Jssor$.$CssLeft(b7,0);$Jssor$.$CssOverflow(b7,"visible");bD=$Jssor$.$CreateDiv(document);$Jssor$.$CssPosition(bD,"absolute");$Jssor$.$CssTop(bD,0);$Jssor$.$CssLeft(bD,0);$Jssor$.$CssWidth(bD,$Jssor$.$CssWidth(b0));$Jssor$.$CssHeight(bD,$Jssor$.$CssHeight(b0));$Jssor$.$SetStyleTransformOrigin(bD,"0 0");$Jssor$.$AppendChild(bD,b7);var b6=$Jssor$.$Children(b0);$Jssor$.$AppendChild(b0,bD);$Jssor$.$Css(b0,"backgroundImage","");var b5={navigator:ah&&ah.$Scale==false,arrowleft:bp&&bp.$Scale==false,arrowright:bp&&bp.$Scale==false,thumbnavigator:bU&&bU.$Scale==false,thumbwrapper:bU&&bU.$Scale==false};$Jssor$.$Each(b6,function(cb){$Jssor$.$AppendChild(b5[$Jssor$.$AttributeEx(cb,"u")]?b0:b7,cb)});$Jssor$.$ShowElement(b7);$Jssor$.$ShowElement(bD)}$JssorDebug$.$Execute(function(){if(!aR){aR=ao.$Elmt.scrollWidth}});aO=ca/(b9?$Jssor$.$CssHeight:$Jssor$.$CssWidth)(bD);$Jssor$.$CssScale(bD,aO);var b8=b9?(aO*bH()):ca;var b4=b9?ca:(aO*ar());$Jssor$.$CssWidth(b0,b8);$Jssor$.$CssHeight(b0,b4);$Jssor$.$Each(bG,function(cb){cb.$Relocate(b8,b4)})}ao.$ScaleHeight=ao.$GetScaleHeight=function(b4){if(b4==undefined){return $Jssor$.$CssHeight(b0)}bP(b4,true)};ao.$ScaleWidth=ao.$SetScaleWidth=ao.$GetScaleWidth=bP;ao.$GetVirtualIndex=function(b5){var b6=Math.ceil(aD(aM/K));var b4=aD(b5-bZ+b6);if(b4>bc){if(b5-bZ>ab/2){b5-=ab}else{if(b5-bZ<=-ab/2){b5+=ab}}}else{b5=bZ+b4-b6}return b5};$JssorObject$.call(ao);$JssorDebug$.$Execute(function(){var b4=$Jssor$.$GetElement(b0);if(!b4){$JssorDebug$.$Fail("Outer container '"+b0+"' not found.")}});ao.$Elmt=b0=$Jssor$.$GetElement(b0);var aR;var a9=1;var br=$Jssor$.$Extend({$FillMode:0,$LazyLoading:1,$StartIndex:0,$AutoPlay:false,$Loop:1,$HWA:true,$NaviQuitDrag:true,$AutoPlaySteps:1,$AutoPlayInterval:3000,$PauseOnHover:1,$SlideDuration:500,$SlideEasing:$JssorEasing$.$EaseOutQuad,$MinDragOffsetToSlide:20,$SlideSpacing:0,$DisplayPieces:1,$ParkingPosition:0,$UISearchMode:1,$PlayOrientation:1,$DragOrientation:1},bi);$JssorDebug$.$Execute(function(){br=$Jssor$.$Extend({$ArrowKeyNavigation:undefined,$SlideWidth:undefined,$SlideHeight:undefined,$SlideshowOptions:undefined,$CaptionSliderOptions:undefined,$BulletNavigatorOptions:undefined,$ArrowNavigatorOptions:undefined,$ThumbnailNavigatorOptions:undefined},br)});var Z=br.$PlayOrientation&3;var ad=(br.$PlayOrientation&4)/-4||1;var by=br.$SlideshowOptions;var a7=$Jssor$.$Extend({$Class:$JssorCaptionSliderBase$,$PlayInMode:1,$PlayOutMode:1},br.$CaptionSliderOptions);$Jssor$.$TranslateTransitions(a7.$CaptionTransitions);var ah=br.$BulletNavigatorOptions;var bp=br.$ArrowNavigatorOptions;var bU=br.$ThumbnailNavigatorOptions;$JssorDebug$.$Execute(function(){if(by&&!by.$Class){$JssorDebug$.$Fail("Option $SlideshowOptions error, class not specified.")}});$JssorDebug$.$Execute(function(){if(br.$CaptionSliderOptions&&!br.$CaptionSliderOptions.$Class){$JssorDebug$.$Fail("Option $CaptionSliderOptions error, class not specified.")}});$JssorDebug$.$Execute(function(){if(ah&&!ah.$Class){$JssorDebug$.$Fail("Option $BulletNavigatorOptions error, class not specified.")}});$JssorDebug$.$Execute(function(){if(bp&&!bp.$Class){$JssorDebug$.$Fail("Option $ArrowNavigatorOptions error, class not specified.")}});$JssorDebug$.$Execute(function(){if(bU&&!bU.$Class){$JssorDebug$.$Fail("Option $ThumbnailNavigatorOptions error, class not specified.")}});var bz=!br.$UISearchMode;var bD;var aq=$Jssor$.$FindChild(b0,"slides",bz);var Y=$Jssor$.$FindChild(b0,"loading",bz)||$Jssor$.$CreateDiv(document);var aZ=$Jssor$.$FindChild(b0,"navigator",bz);var ac=$Jssor$.$FindChild(b0,"arrowleft",bz);var bQ=$Jssor$.$FindChild(b0,"arrowright",bz);var aK=$Jssor$.$FindChild(b0,"thumbnavigator",bz);$JssorDebug$.$Execute(function(){if(aZ&&!ah){throw new Error("Bullet navigator container defined but $BulletNavigatorOptions not specified.")}if((ac||bQ)&&!bp){throw new Error("arrowleft or arrowright defined, but $ArrowNavigatorOptions not specified.")}if(aK&&!bU){throw new Error("Thumbnail navigator container defined, but $ThumbnailNavigatorOptions not specified.")}});var aU=$Jssor$.$CssWidth(aq);var L=$Jssor$.$CssHeight(aq);$JssorDebug$.$Execute(function(){if(isNaN(aU)){$JssorDebug$.$Fail("Width of slides container wrong specification, it should be specified in pixel (like style='width: 600px;').")}if(aU==undefined){$JssorDebug$.$Fail("Width of slides container not specified, it should be specified in pixel (like style='width: 600px;').")}if(isNaN(L)){$JssorDebug$.$Fail("Height of slides container wrong specification, it should be specified in pixel (like style='height: 300px;').")}if(L==undefined){$JssorDebug$.$Fail("Height of slides container not specified, it should be specified in pixel (like style='height: 300px;').")}var b6=$Jssor$.$CssOverflow(aq);var b5=$Jssor$.$Css(aq,"overflowX");var b4=$Jssor$.$Css(aq,"overflowY");if(b6!="hidden"&&(b5!="hidden"||b4!="hidden")){$JssorDebug$.$Fail("Overflow of slides container wrong specification, it should be specified as 'hidden' (style='overflow:hidden;').")}});$JssorDebug$.$Execute(function(){if(!$Jssor$.$IsNumeric(br.$DisplayPieces)){$JssorDebug$.$Fail("Option $DisplayPieces error, it should be a numeric value and greater than or equal to 1.")}if(br.$DisplayPieces<1){$JssorDebug$.$Fail("Option $DisplayPieces error, it should be greater than or equal to 1.")}if(br.$DisplayPieces>1&&br.$DragOrientation&&br.$DragOrientation!=Z){$JssorDebug$.$Fail("Option $DragOrientation error, it should be 0 or the same of $PlayOrientation when $DisplayPieces is greater than 1.")}if(!$Jssor$.$IsNumeric(br.$ParkingPosition)){$JssorDebug$.$Fail("Option $ParkingPosition error, it should be a numeric value.")}if(br.$ParkingPosition&&br.$DragOrientation&&br.$DragOrientation!=Z){$JssorDebug$.$Fail("Option $DragOrientation error, it should be 0 or the same of $PlayOrientation when $ParkingPosition is not equal to 0.")}});var bk;var b1=[];var aJ=$Jssor$.$Children(aq);$Jssor$.$Each(aJ,function(b4){if(b4.tagName=="DIV"&&!$Jssor$.$AttributeEx(b4,"u")){b1.push(b4)}});$JssorDebug$.$Execute(function(){if(b1.length<1){$JssorDebug$.$Error("Slides html code definition error, there must be at least 1 slide to initialize a slider.")}});var M=0;var bC=0;var aY;var bZ=-1;var T;var aC;var W;var ab=b1.length;var bN=br.$SlideWidth||aU;var bF=br.$SlideHeight||L;var bo=br.$SlideSpacing;var bl=bN+bo;var bj=bF+bo;var K=(Z&1)?bl:bj;var bc=Math.min(br.$DisplayPieces,ab);var bJ;var b2=0;var bt;var av;var bM;var aQ;var N;var bG=[];var bT;var ak;var ag;var bV;var bg;var a8;var a5=br.$AutoPlaySteps;var am=br.$PauseOnHover;var bx=br.$AutoPlayInterval;var be=br.$SlideDuration;var a3;var aB;var aj;var aM;var bf=bc<ab;var b3=bf?br.$Loop:0;var al;var bA;var bh=1;var aP;var af;var J;var ax=0;var au=0;var aH;var ae;var ap;var bI;var ai;var ba;var aX;var an=new bB();var aO;a8=br.$AutoPlay;ao.$Options=bi;aw();b0["jssor-slider"]=true;$Jssor$.$CssZIndex(aq,$Jssor$.$CssZIndex(aq)||0);$Jssor$.$CssPosition(aq,"absolute");if(bi.$cloneSlidesContainer!==false){bJ=$Jssor$.$CloneNode(aq);$Jssor$.$InsertBefore($Jssor$.$ParentNode(aq),bJ,aq)}if(by){bV=by.$ShowLink;a3=by.$Class;$JssorDebug$.$Execute(function(){if(!by.$Transitions||!by.$Transitions.length){$JssorDebug$.$Error("Invalid '$SlideshowOptions', no '$Transitions' specified.")}});$Jssor$.$TranslateTransitions(by.$Transitions);aj=bc==1&&ab>1&&a3&&(!$Jssor$.$IsBrowserIE()||$Jssor$.$BrowserVersion()>=8)}aM=(aj||bc>=ab||!(b3&1))?0:br.$ParkingPosition;al=((bc>1||aM)?Z:-1)&br.$DragOrientation;var bY=aq;var bL=[];var I;var aW;var aL="mousedown";var aG="mousemove";var X="mouseup";var bb;var bE;var U;var bW;var bX;var bR;var Q;if(window.navigator.pointerEnabled||(Q=window.navigator.msPointerEnabled)){N=true;aL=Q?"MSPointerDown":"pointerdown";aG=Q?"MSPointerMove":"pointermove";X=Q?"MSPointerUp":"pointerup";bb=Q?"MSPointerCancel":"pointercancel";if(al){var bs="auto";if(al==2){bs="pan-x"}else{if(al){bs="pan-y"}}$Jssor$.$Css(bY,Q?"msTouchAction":"touchAction",bs)}}else{if("ontouchstart" in window||"createTouch" in document){aQ=true;N=true;aL="touchstart";aG="touchmove";X="touchend";bb="touchcancel"}}ba=new ay();if(aj){I=new a3(an,bN,bF,by,aQ)}if(bi.$cloneSlidesContainer!==false){$Jssor$.$AppendChild(bJ,ba.$Wrapper)}$Jssor$.$CssOverflow(aq,"hidden");aW=a6();$Jssor$.$Css(aW,"backgroundColor","#000");$Jssor$.$CssOpacity(aW,0);$Jssor$.$InsertBefore(bY,aW,bY.firstChild);for(var a2=0;a2<b1.length;a2++){var aA=b1[a2];var a1=new a0(aA,a2);bL.push(a1)}$Jssor$.$HideElement(Y);$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(Y,"debug-id","loading-container")});bI=new az();aX=new bO(bI,ba);$JssorDebug$.$Execute(function(){$Jssor$.$Attribute(bY,"debug-id","slide-board")});if(al){$Jssor$.$AddEvent(aq,aL,bq);$Jssor$.$AddEvent(document,X,bS);bb&&$Jssor$.$AddEvent(document,bb,bS)}am&=(N?10:5);if(aZ&&ah){bT=new ah.$Class(aZ,ah,bH(),ar());bG.push(bT)}if(bp&&ac&&bQ){ak=new bp.$Class(ac,bQ,bp,bH(),ar());bG.push(ak)}if(aK&&bU){bU.$StartIndex=br.$StartIndex;ag=new bU.$Class(aK,bU);bG.push(ag)}$Jssor$.$Each(bG,function(b4){b4.$Reset(ab,bL,Y);b4.$On($JssorNavigatorEvents$.$NAVIGATIONREQUEST,aF)});bP(bH());$Jssor$.$AddEvent(b0,"mouseout",$Jssor$.$MouseOverOutFilter(aV,b0));$Jssor$.$AddEvent(b0,"mouseover",$Jssor$.$MouseOverOutFilter(V,b0));S();if(br.$ArrowKeyNavigation){$Jssor$.$AddEvent(document,"keydown",function(b4){if(b4.keyCode==$JssorKeyCode$.$LEFT){aS(-1)}else{if(b4.keyCode==$JssorKeyCode$.$RIGHT){aS(1)}}})}var P=br.$StartIndex;if(!(b3&1)){P=Math.max(0,Math.min(P,ab-bc))}aX.$PlayCarousel(P,P,0)}s.$EVT_CLICK=21;s.$EVT_DRAG_START=22;s.$EVT_DRAG_END=23;s.$EVT_SWIPE_START=24;s.$EVT_SWIPE_END=25;s.$EVT_LOAD_START=26;s.$EVT_LOAD_END=27;s.$EVT_FREEZE=28;s.$EVT_POSITION_CHANGE=202;s.$EVT_PARK=203;s.$EVT_SLIDESHOW_START=206;s.$EVT_SLIDESHOW_END=207;s.$EVT_PROGRESS_CHANGE=208;s.$EVT_STATE_CHANGE=209;s.$EVT_ROLLBACK_START=210;s.$EVT_ROLLBACK_END=211;window.$JssorSlider$=$JssorSlider$=s};var $JssorNavigatorEvents$={$NAVIGATIONREQUEST:1,$INDEXCHANGE:2,$RESET:3};var $JssorBulletNavigator$=window.$JssorBulletNavigator$=function(l,d,m,s){var t=this;$JssorObject$.call(t);l=$Jssor$.$GetElement(l);var c;var p;var q;var A;var b;var v=0;var e;var u;var x;var r;var n;var f;var g;var k;var z;var y=[];var j=[];function h(B){if(B!=-1){j[B].$Selected(B==v)}}function o(B){t.$TriggerEvent($JssorNavigatorEvents$.$NAVIGATIONREQUEST,B*u)}t.$Elmt=l;t.$GetCurrentIndex=function(){return b};t.$SetCurrentIndex=function(C){if(C!=b){var B=v;var D=Math.floor(C/u);v=D;b=C;h(B);h(D)}};t.$Show=function(B){$Jssor$.$ShowElement(l,B)};var a;t.$Relocate=function(C,B){if(!a||e.$Scale==false){if(e.$AutoCenter&1){$Jssor$.$CssLeft(l,(C-q)/2)}if(e.$AutoCenter&2){$Jssor$.$CssTop(l,(B-A)/2)}a=true}};var w;t.$Reset=function(F){if(!w){p=F;c=Math.ceil(F/u);v=0;var C=k+r;var B=z+n;var D=Math.ceil(c/x)-1;q=k+C*(!f?D:x-1);A=z+B*(f?D:x-1);$Jssor$.$CssWidth(l,q);$Jssor$.$CssHeight(l,A);for(var G=0;G<c;G++){var I=$Jssor$.$CreateSpan();$Jssor$.$InnerText(I,G+1);var H=$Jssor$.$BuildElement(g,"numbertemplate",I,true);$Jssor$.$CssPosition(H,"absolute");var E=G%(D+1);$Jssor$.$CssLeft(H,!f?C*E:G%x*C);$Jssor$.$CssTop(H,f?B*E:Math.floor(G/(D+1))*B);$Jssor$.$AppendChild(l,H);y[G]=H;if(e.$ActionMode&1){$Jssor$.$AddEvent(H,"click",$Jssor$.$CreateCallback(null,o,G))}if(e.$ActionMode&2){$Jssor$.$AddEvent(H,"mouseover",$Jssor$.$MouseOverOutFilter($Jssor$.$CreateCallback(null,o,G),H))}j[G]=$Jssor$.$Buttonize(H)}w=true}};t.$Options=e=$Jssor$.$Extend({$SpacingX:0,$SpacingY:0,$Orientation:1,$ActionMode:1},d);$JssorDebug$.$Execute(function(){e=$Jssor$.$Extend({$Steps:undefined,$Lanes:undefined},e)});g=$Jssor$.$FindChild(l,"prototype");$JssorDebug$.$Execute(function(){if(!g){$JssorDebug$.$Fail("Navigator item prototype not defined.")}if(isNaN($Jssor$.$CssWidth(g))){$JssorDebug$.$Fail("Width of 'navigator item prototype' not specified.")}if(isNaN($Jssor$.$CssHeight(g))){$JssorDebug$.$Fail("Height of 'navigator item prototype' not specified.")}});k=$Jssor$.$CssWidth(g);z=$Jssor$.$CssHeight(g);$Jssor$.$RemoveChild(l,g);u=e.$Steps||1;x=e.$Lanes||1;r=e.$SpacingX;n=e.$SpacingY;f=e.$Orientation-1};var $JssorArrowNavigator$=window.$JssorArrowNavigator$=function(f,b,p,j,o){var m=this;$JssorObject$.call(m);$JssorDebug$.$Execute(function(){if(!f){$JssorDebug$.$Fail("Option '$ArrowNavigatorOptions' spepcified, but UI 'arrowleft' not defined. Define 'arrowleft' to enable direct navigation, or remove option '$ArrowNavigatorOptions' to disable direct navigation.")}if(!b){$JssorDebug$.$Fail("Option '$ArrowNavigatorOptions' spepcified, but UI 'arrowright' not defined. Define 'arrowright' to enable direct navigation, or remove option '$ArrowNavigatorOptions' to disable direct navigation.")}if(isNaN($Jssor$.$CssWidth(f))){$JssorDebug$.$Fail("Width of 'arrow left' not specified.")}if(isNaN($Jssor$.$CssWidth(b))){$JssorDebug$.$Fail("Width of 'arrow right' not specified.")}if(isNaN($Jssor$.$CssHeight(f))){$JssorDebug$.$Fail("Height of 'arrow left' not specified.")}if(isNaN($Jssor$.$CssHeight(b))){$JssorDebug$.$Fail("Height of 'arrow right' not specified.")}});var l;var d;var e;var g;var c=$Jssor$.$CssWidth(f);var n=$Jssor$.$CssHeight(f);function h(q){m.$TriggerEvent($JssorNavigatorEvents$.$NAVIGATIONREQUEST,q,true)}m.$GetCurrentIndex=function(){return d};m.$SetCurrentIndex=function(s,r,q){if(q){d=r}else{d=s}};m.$Show=function(q){$Jssor$.$ShowElement(f,q);$Jssor$.$ShowElement(b,q)};var a;m.$Relocate=function(q,r){if(!a||e.$Scale==false){if(e.$AutoCenter&1){$Jssor$.$CssLeft(f,(j-c)/2);$Jssor$.$CssLeft(b,(j-c)/2)}if(e.$AutoCenter&2){$Jssor$.$CssTop(f,(r-n)/2);$Jssor$.$CssTop(b,(r-n)/2)}a=true}};var k;m.$Reset=function(q){l=q;d=0;if(!k){$Jssor$.$AddEvent(f,"click",$Jssor$.$CreateCallback(null,h,-g));$Jssor$.$AddEvent(b,"click",$Jssor$.$CreateCallback(null,h,g));$Jssor$.$Buttonize(f);$Jssor$.$Buttonize(b);k=true}};m.$Options=e=$Jssor$.$Extend({$Steps:1},p);g=e.$Steps};var $JssorThumbnailNavigator$=window.$JssorThumbnailNavigator$=function(h,d){var j=this;var l;var c;var a;var e;var b=[];var m;var v;var r;var n;var k;var g;var t;var u;var w;var f=-1;var o;var p;$JssorObject$.call(j);h=$Jssor$.$GetElement(h);function s(B,z){var y=this;var A;var C;var E;function x(F){C.$Selected(a==z)}function D(G){if(!w.$LastDragSucceded()){var F=r-z%r;var I=w.$GetVirtualIndex((z+F)/r-1);var H=I*r+r-F;j.$TriggerEvent($JssorNavigatorEvents$.$NAVIGATIONREQUEST,H)}}$JssorDebug$.$Execute(function(){y.$Wrapper=undefined});y.$Index=z;y.$Highlight=x;E=B.$Thumb||B.$Image||$Jssor$.$CreateDiv();y.$Wrapper=A=$Jssor$.$BuildElement(p,"thumbnailtemplate",E,true);C=$Jssor$.$Buttonize(A);if(e.$ActionMode&1){$Jssor$.$AddEvent(A,"click",D)}if(e.$ActionMode&2){$Jssor$.$AddEvent(A,"mouseover",$Jssor$.$MouseOverOutFilter(D,A))}}j.$GetCurrentIndex=function(){return a};j.$SetCurrentIndex=function(z,y,x){var A=a;a=z;if(A!=-1){b[A].$Highlight()}b[z].$Highlight();if(!x){w.$PlayTo(w.$GetVirtualIndex(Math.floor(y/r)))}};j.$Show=function(x){$Jssor$.$ShowElement(h,x)};j.$Relocate=$Jssor$.$EmptyFunction;var q;j.$Reset=function(A,F,x){if(!q){l=A;c=Math.ceil(l/r);a=-1;u=Math.min(u,F.length);var y=e.$Orientation&1;var B=g+(g+n)*(r-1)*(1-y);var E=t+(t+k)*(r-1)*y;var C=B+(B+n)*(u-1)*y;var G=E+(E+k)*(u-1)*(1-y);$Jssor$.$CssPosition(o,"absolute");$Jssor$.$CssOverflow(o,"hidden");if(e.$AutoCenter&1){$Jssor$.$CssLeft(o,(m-C)/2)}if(e.$AutoCenter&2){$Jssor$.$CssTop(o,(v-G)/2)}$Jssor$.$CssWidth(o,C);$Jssor$.$CssHeight(o,G);var z=[];$Jssor$.$Each(F,function(K,I){var M=new s(K,I);var L=M.$Wrapper;var J=Math.floor(I/r);var H=I%r;$Jssor$.$CssLeft(L,(g+n)*H*(1-y));$Jssor$.$CssTop(L,(t+k)*H*y);if(!z[J]){z[J]=$Jssor$.$CreateDiv();$Jssor$.$AppendChild(o,z[J])}$Jssor$.$AppendChild(z[J],L);b.push(M)});var D=$Jssor$.$Extend({$HWA:false,$AutoPlay:false,$NaviQuitDrag:false,$SlideWidth:B,$SlideHeight:E,$SlideSpacing:n*y+k*(1-y),$MinDragOffsetToSlide:12,$SlideDuration:200,$PauseOnHover:1,$PlayOrientation:e.$Orientation,$DragOrientation:e.$DisableDrag?0:e.$Orientation},e);w=new $JssorSlider$(h,D);q=true}};j.$Options=e=$Jssor$.$Extend({$SpacingX:3,$SpacingY:3,$DisplayPieces:1,$Orientation:1,$AutoCenter:3,$ActionMode:1},d);$JssorDebug$.$Execute(function(){e=$Jssor$.$Extend({$Lanes:undefined,$Width:undefined,$Height:undefined},e)});m=$Jssor$.$CssWidth(h);v=$Jssor$.$CssHeight(h);$JssorDebug$.$Execute(function(){if(!m){$JssorDebug$.$Fail("width of 'thumbnavigator' container not specified.")}if(!v){$JssorDebug$.$Fail("height of 'thumbnavigator' container not specified.")}});o=$Jssor$.$FindChild(h,"slides",true);p=$Jssor$.$FindChild(o,"prototype");$JssorDebug$.$Execute(function(){if(!p){$JssorDebug$.$Fail("prototype of 'thumbnavigator' not defined.")}});g=$Jssor$.$CssWidth(p);t=$Jssor$.$CssHeight(p);$Jssor$.$RemoveChild(o,p);r=e.$Lanes||1;n=e.$SpacingX;k=e.$SpacingY;u=e.$DisplayPieces};function $JssorCaptionSliderBase$(){$JssorAnimator$.call(this,0,0);this.$Revert=$Jssor$.$EmptyFunction}var $JssorCaptionSlider$=window.$JssorCaptionSlider$=function(c,g,l){$JssorDebug$.$Execute(function(){if(!g.$CaptionTransitions){$JssorDebug$.$Error("'$CaptionSliderOptions' option error, '$CaptionSliderOptions.$CaptionTransitions' not specified.")}});var a=this;var m;var f=l?g.$PlayInMode:g.$PlayOutMode;var k=g.$CaptionTransitions;var h={$Transition:"t",$Delay:"d",$Duration:"du",x:"x",y:"y",$Rotate:"r",$Zoom:"z",$Opacity:"f",$BeginTime:"b"};var b={$Default:function(o,n){if(!isNaN(n.$Value)){o=n.$Value}else{o*=n.$Percent}return o},$Opacity:function(o,n){return this.$Default(o-1,n)}};b.$Zoom=b.$Opacity;$JssorAnimator$.call(a,0,0);function d(r,n){var q=[];var t;var o=[];var s=[];function p(z,x){var y={};$Jssor$.$Each(h,function(D,A){var C=$Jssor$.$AttributeEx(z,D+(x||""));if(C){var B={};if(D=="t"){B.$Value=C}else{if(C.indexOf("%")+1){B.$Percent=$Jssor$.$ParseFloat(C)/100}else{B.$Value=$Jssor$.$ParseFloat(C)}}y[A]=B}});return y}function w(){return k[Math.floor(Math.random()*k.length)]}function v(x){var z;if(x=="*"){z=w()}else{if(x){var y=k[$Jssor$.$ParseInt(x)]||k[x];if($Jssor$.$IsArray(y)){if(x!=t){t=x;s[x]=0;o[x]=y[Math.floor(Math.random()*y.length)]}else{s[x]++}y=o[x];if($Jssor$.$IsArray(y)){y=y.length&&y[s[x]%y.length];if($Jssor$.$IsArray(y)){y=y[Math.floor(Math.random()*y.length)]}}}z=y;if($Jssor$.$IsString(z)){z=v(z)}}}return z}var u=$Jssor$.$Children(r);$Jssor$.$Each(u,function(z,y){var A=[];A.$Elmt=z;var x=$Jssor$.$AttributeEx(z,"u")=="caption";$Jssor$.$Each(l?[0,3]:[2],function(C,B){if(x){var F;var D;if(C!=2||!$Jssor$.$AttributeEx(z,"t3")){D=p(z,C);if(C==2&&!D.$Transition){D.$Delay=D.$Delay||{$Value:0};D=$Jssor$.$Extend(p(z,0),D)}}if(D&&D.$Transition){F=v(D.$Transition.$Value);if(F){var E=$Jssor$.$Extend({$Delay:0},F);$Jssor$.$Each(D,function(I,G){var H=(b[G]||b.$Default).apply(b,[E[G],D[G]]);if(!isNaN(H)){E[G]=H}});if(!B){if(D.$BeginTime){E.$BeginTime=D.$BeginTime.$Value||0}else{if((f)&2){E.$BeginTime=0}}}}}A.push(E)}if((n%2)&&!B){A.$Children=d(z,n+1)}});q.push(A)});return q}function e(G,F,E){var K={$Easing:F.$Easing,$Round:F.$Round,$During:F.$During,$Reverse:l&&!E,$Optimize:true};$JssorDebug$.$Execute(function(){K.$CaptionAnimator=true});var H=G;var v=$Jssor$.$ParentNode(G);var u=$Jssor$.$CssWidth(H);var B=$Jssor$.$CssHeight(H);var y=$Jssor$.$CssWidth(v);var w=$Jssor$.$CssHeight(v);var o={};var C={};var p=F.$ScaleClip||1;if(F.$Opacity){o.$Opacity=2-F.$Opacity}K.$OriginalWidth=u;K.$OriginalHeight=B;if(F.$Zoom||F.$Rotate){o.$Zoom=F.$Zoom?F.$Zoom-1:1;if($Jssor$.$IsBrowserIe9Earlier()||$Jssor$.$IsBrowserOpera()){o.$Zoom=Math.min(o.$Zoom,2)}C.$Zoom=1;var D=F.$Rotate||0;o.$Rotate=D*360;C.$Rotate=0}else{if(F.$Clip){var A={$Top:0,$Right:u,$Bottom:B,$Left:0};var t=$Jssor$.$Extend({},A);var z=t.$Offset={};var r=F.$Clip&4;var x=F.$Clip&8;var I=F.$Clip&1;var s=F.$Clip&2;if(r&&x){z.$Top=B/2*p;z.$Bottom=-z.$Top}else{if(r){z.$Bottom=-B*p}else{if(x){z.$Top=B*p}}}if(I&&s){z.$Left=u/2*p;z.$Right=-z.$Left}else{if(I){z.$Right=-u*p}else{if(s){z.$Left=u*p}}}K.$Move=F.$Move;o.$Clip=t;C.$Clip=A}}var q=0;var J=0;if(F.x){q-=y*F.x}if(F.y){J-=w*F.y}if(q||J||K.$Move){o.$Left=q+$Jssor$.$CssLeft(H);o.$Top=J+$Jssor$.$CssTop(H)}var n=F.$Duration;C=$Jssor$.$Extend(C,$Jssor$.$GetStyles(H,o));K.$Setter=$Jssor$.$StyleSetterEx();return new $JssorAnimator$(F.$Delay,n,K,H,C,o)}function j(o,n){$Jssor$.$Each(n,function(u,r){$JssorDebug$.$Execute(function(){if(u.length){var A=$Jssor$.$CssTop(u.$Elmt);var z=$Jssor$.$CssLeft(u.$Elmt);var y=$Jssor$.$CssWidth(u.$Elmt);var w=$Jssor$.$CssHeight(u.$Elmt);var x=null;if(isNaN(A)){x="Style 'top' for caption not specified. Please always specify caption like 'position: absolute; top: ...px; left: ...px; width: ...px; height: ...px;'."}else{if(isNaN(z)){x="Style 'left' not specified. Please always specify caption like 'position: absolute; top: ...px; left: ...px; width: ...px; height: ...px;'."}else{if(isNaN(y)){x="Style 'width' not specified. Please always specify caption like 'position: absolute; top: ...px; left: ...px; width: ...px; height: ...px;'."}else{if(isNaN(w)){x="Style 'height' not specified. Please always specify caption like 'position: absolute; top: ...px; left: ...px; width: ...px; height: ...px;'."}}}}if(x){$JssorDebug$.$Error("Caption "+(r+1)+" definition error, \r\n"+x+"\r\n"+u.$Elmt.outerHTML)}}});var p;var s=u.$Elmt;var v=u[0];var t=u[1];if(v){p=e(s,v);o=p.$Locate(v.$BeginTime==undefined?o:v.$BeginTime,1)}o=j(o,u.$Children);if(t){var q=e(s,t,1);q.$Locate(o,1);a.$Combine(q);m.$Combine(q)}if(p){a.$Combine(p)}});return o}a.$Revert=function(){a.$GoToPosition(a.$GetPosition_OuterEnd()*(l||0));m.$GoToBegin()};m=new $JssorAnimator$(0,0);j(0,f?d(c,1):[])};(function(b){if(typeof Polaris==="undefined"){Polaris={carousels:{}}}else{if(typeof Polaris.carousels==="undefined"){Polaris.carousels={}}}var a=function(h,c,e,d,g){for(var f=h;f<e;f++){d.find(g+(f+1)).addClass(f<c?"tooltip-right":"tooltip-left")}};b.carousel=function(h,d){var k=h.attr("id");var j=d.visibleSlides||4;var f=h.find(".slides");var e=d.width||f.width();var c=d.height||f.height();var g=true;if(d.cloneSlidesContainer===false){g=false}h.css("width",e);h.css("height",c);f.css("width",e);f.css("height",c);Polaris.carousels[k]=new $JssorSlider$(k,{$ArrowNavigatorOptions:{$Class:$JssorArrowNavigator$,$ChanceToShow:2,$Steps:j},$DisplayPieces:j,$Loop:d.cycle===true?1:0,$SlideDuration:1200/j,$SlideSpacing:d.spacing||0,$SlideWidth:e/j-(d.spacing||0),$cloneSlidesContainer:g});h.find(".arrow").css("top","50%").css("margin-top","-18px").click(function(l){l.preventDefault()});Polaris.carousels[k].$On($JssorSlider$.$EVT_PARK,function(l){h.find(".arrow").removeClass("hidden");if(l==0){h.find(".arrow.left").addClass("hidden")}if(l>Polaris.carousels[k].$SlidesCount()-j-1){h.find(".arrow.right").addClass("hidden")}if(d.tooltips){f.find(d.tooltipSelector).removeClass("tooltip-left tooltip-right");if(l==0){a(1,3,5,f,".o_r_")}else{a(2*l-1,2*l+2,Polaris.carousels[k].$SlidesCount()*2,f,".o_r_")}}if(b("html").hasClass("lt-ie9")){h.find("*").each(function(){if(b(this).css("z-index")==1){b(this).css("z-index","")}})}});b(window).resize(function(){Polaris.carousels[k].$ScaleWidth((d.container||h.parent()).width())})}}(jQuery));(function(a){a.breadcrumbs={restore:function(b){b=typeof b!=="undefined"?b:".fil-ariane a";for(key in History.store.stateToId){if(History.store.stateToId.hasOwnProperty(key)){lastState=JSON.parse(key);if(typeof lastState.title!=="undefined"&&typeof lastState.data["um-content"]!=="undefined"){lastKey=lastState}}}if(typeof lastKey!=="undefined"){if(typeof lastKey.data.linkFormat!=="undefined"){urls=lastKey.data.linkFormat.split("||");for(i=0;i<urls.length;i++){if(window.location.href.indexOf(urls[i])!==-1){a(b).attr("href",lastKey.url)}}}else{currentPath=window.location.href.split("/");previousPath=lastKey.url.split("/");if(currentPath.length>=4&&previousPath.length>=4&&currentPath[3]===previousPath[3]){a(b).attr("href",lastKey.url)}else{return false}}}else{return false}}}}(jQuery));if(sessionStorage){if(sessionStorage.infoTab==="true"){$("#InfoContainer").show();$("#MiniSlideContainer").hide()}else{if(sessionStorage.miniTab==="true"){$("#InfoContainer").hide();$("#MiniSlideContainer").show()}else{if(sessionStorage.infoTab==="false"&&sessionStorage.miniTab==="false"){$("#InfoContainer").hide();$("#MiniSlideContainer").hide()}}}}$(document).ready(function(){if($("#Diaporama").length){var f=$("#MainImage");f.find("img").css("max-height",$(window).height()-64);if(typeof Polaris==="undefined"){Polaris={}}var q=Polaris.channelName||"Orange";var m=Polaris.diaporamaStartIndex||0;var o=$("#MiniSlide");var p=Polaris.diaporamaStartId||o.find("a:first").attr("data-id");var n=Polaris.diaporamaTitle||"Diaporama";var t=Polaris.diaporamaTotal||o.find("li").length;var r=$("#MiniSlideButton");var j=$("#MiniSlideContainer");var l=$("#InfoButton");var a=$("#InfoContainer");var g=function(){k();r.toggleClass("currentTab",j.is(":visible"));l.toggleClass("currentTab",a.is(":visible"))};var k=function(){if(sessionStorage){sessionStorage.infoTab=a.is(":visible");sessionStorage.miniTab=j.is(":visible")}};var h=function(){j.slideToggle("fast",g)};var d=function(){a.slideToggle("fast",g)};var e=function(u){var w=Polaris.carouselDiaporama.$CurrentIndex();var v=Polaris.carouselDiaporama.$SlidesCount();if(u<w&&v+u-w<w-u){return u+v}else{if(u>w&&v+w-u<u-w){return u-v}else{return u}}};$.playlistManager("#MiniSlide",{advertisingQueryString:"?pub-iframe",autoplay:false,classCurrent:"currentPhoto",currentId:p,dummyEnd:($("#DiapoTools").length!==0),nodeAdvertising:".pave_pub > div",nodeContent:"#MainImage",nodeCopyright:"#DescCopyright",nodeDescription:"#DescContent",nodeTitle:"#DescTitle",onBeforeLoad:function(v,u){if(m==t&&u<t){$("#ImageContainer").removeClass("hidden");$("#DescContainer").removeClass("hidden");$("#DiapoMainEnd").addClass("hidden")}},onItemLoad:function(w,v){$(window).trigger("scroll");c();$("#MiniSlidePrev").removeClass("hidden");if(v<t){$("#currentIndex").text(v+1)}Polaris.carouselDiaporama.$PlayTo(e(v));var x=$("html,body");var u=$("#Diaporama").first().offset().top;if(x.scrollTop()>u){x.animate({scrollTop:u},1000)}if(w.copyright&&w.copyright.length<3){$("#Copyright").addClass("hidden")}else{$("#Copyright").removeClass("hidden")}g();m=v;p=w.id;if(Polaris.googleAnalyticsID!==undefined){ga("create",Polaris.googleAnalyticsID,"auto");ga("send","pageview")}},onPlaylistEnded:function(){if($("#DiapoMainEnd").length){$("#DiapoMainEnd").removeClass("hidden");$("#ImageContainer").addClass("hidden");$("#DescContainer").addClass("hidden")}},onPlaylistLoad:function(v,u){if($("#DiapoMainEnd").length){$("#SlideNavRight").removeClass("hidden")}else{if(u===0){$("#SlideNavLeft").addClass("hidden");$("#SlideNavRight").removeClass("hidden")}else{if(u===Polaris.diaporamaTotal-1){$("#SlideNavRight").addClass("hidden");$("#SlideNavLeft").removeClass("hidden")}else{$("#SlideNavRight").removeClass("hidden");$("#SlideNavLeft").removeClass("hidden")}}}g()},redirectToItem:!Polaris.dynamicLoading,showNextTag:false,titlePattern:document.title,uiIneffectiveClass:"hidden",uiNextClass:"slide-next",uiPrevClass:"slide-prev"});Polaris.carouselDiaporama=new $JssorSlider$("MiniSlide",{$SlideDuration:200,$SlideWidth:207,$DisplayPieces:4,$AutoPlaySteps:4,$StartIndex:Polaris.diaporamaStartIndex});var c=function(){f.find("img").css("max-height",$(window).height()-64).css("max-width",$("#MainImage").width())};r.click(function(){if(a.is(":visible")){d()}h()});l.click(function(){if(j.is(":visible")){h()}d()});$("#MiniSlidePrev").click(function(u){u.preventDefault();Polaris.carouselDiaporama.$PlayTo(Polaris.carouselDiaporama.$CurrentIndex()-4)});$("#MiniSlideNext").click(function(u){u.preventDefault();Polaris.carouselDiaporama.$PlayTo(Polaris.carouselDiaporama.$CurrentIndex()+4)});$("#SlideNavLeft").click(function(u){u.preventDefault();s()});$("#SlideNavRight").click(function(u){u.preventDefault();s()});var s=function(){try{if($("#DiapoTools").length===0){window.oan_refresh_slot();b()}}catch(u){}};var b=function(){var v=window.location.href;var u=v+((v.indexOf("?")===-1)?"?":"&")+"reload=1";if($("#tag-reload-iframe").length===0){$("body").append('<iframe id="tag-reload-iframe" src="'+u+'" frameborder="0" scrolling="no" width="0" height="0" style="background:none"></iframe>')}else{document.getElementById("tag-reload-iframe").contentDocument.location.reload(true)}};$("#Replay").click(function(){window.PlM.load(0,false)});$("#LinkLoupe").click(function(u){u.preventDefault();window.open(o.find("a.currentPhoto").attr("data-full"))});$(".nav").hover(function(){$(this).find("img.highlight").removeClass("hidden");$(this).find("img.normal").addClass("hidden")},function(){$(this).find("img.highlight").addClass("hidden");$(this).find("img.normal").removeClass("hidden")});$(window).resize(function(){Polaris.carouselDiaporama.$ScaleWidth($("#Diaporama").width());c()});$(window).trigger("resize")}});